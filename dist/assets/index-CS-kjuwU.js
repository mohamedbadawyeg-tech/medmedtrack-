(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();function GE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hh={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function MI(){if(T_)return Sl;T_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:t,type:o,key:c,ref:r!==void 0?r:null,props:l}}return Sl.Fragment=e,Sl.jsx=n,Sl.jsxs=n,Sl}var E_;function xI(){return E_||(E_=1,Hh.exports=MI()),Hh.exports}var D=xI(),zh={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function DI(){if(S_)return Ie;S_=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function R(q){return q===null||typeof q!="object"?null:(q=S&&q[S]||q["@@iterator"],typeof q=="function"?q:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function Q(q,te,ue){this.props=q,this.context=te,this.refs=U,this.updater=ue||L}Q.prototype.isReactComponent={},Q.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},Q.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function oe(){}oe.prototype=Q.prototype;function Z(q,te,ue){this.props=q,this.context=te,this.refs=U,this.updater=ue||L}var se=Z.prototype=new oe;se.constructor=Z,B(se,Q.prototype),se.isPureReactComponent=!0;var fe=Array.isArray;function le(){}var w={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function M(q,te,ue){var pe=ue.ref;return{$$typeof:t,type:q,key:te,ref:pe!==void 0?pe:null,props:ue}}function x(q,te){return M(q.type,te,q.props)}function k(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ue){return te[ue]})}var V=/\/+/g;function Le(q,te){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):te.toString(36)}function ht(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(le,le):(q.status="pending",q.then(function(te){q.status==="pending"&&(q.status="fulfilled",q.value=te)},function(te){q.status==="pending"&&(q.status="rejected",q.reason=te)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function X(q,te,ue,pe,Se){var Ne=typeof q;(Ne==="undefined"||Ne==="boolean")&&(q=null);var Be=!1;if(q===null)Be=!0;else switch(Ne){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(q.$$typeof){case t:case e:Be=!0;break;case _:return Be=q._init,X(Be(q._payload),te,ue,pe,Se)}}if(Be)return Se=Se(q),Be=pe===""?"."+Le(q,0):pe,fe(Se)?(ue="",Be!=null&&(ue=Be.replace(V,"$&/")+"/"),X(Se,te,ue,"",function(as){return as})):Se!=null&&(k(Se)&&(Se=x(Se,ue+(Se.key==null||q&&q.key===Se.key?"":(""+Se.key).replace(V,"$&/")+"/")+Be)),te.push(Se)),1;Be=0;var Pt=pe===""?".":pe+":";if(fe(q))for(var ut=0;ut<q.length;ut++)pe=q[ut],Ne=Pt+Le(pe,ut),Be+=X(pe,te,ue,Ne,Se);else if(ut=R(q),typeof ut=="function")for(q=ut.call(q),ut=0;!(pe=q.next()).done;)pe=pe.value,Ne=Pt+Le(pe,ut++),Be+=X(pe,te,ue,Ne,Se);else if(Ne==="object"){if(typeof q.then=="function")return X(ht(q),te,ue,pe,Se);throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Be}function ae(q,te,ue){if(q==null)return q;var pe=[],Se=0;return X(q,pe,"","",function(Ne){return te.call(ue,Ne,Se++)}),pe}function _e(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(ue){(q._status===0||q._status===-1)&&(q._status=1,q._result=ue)},function(ue){(q._status===0||q._status===-1)&&(q._status=2,q._result=ue)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var He=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Xe={map:ae,forEach:function(q,te,ue){ae(q,function(){te.apply(this,arguments)},ue)},count:function(q){var te=0;return ae(q,function(){te++}),te},toArray:function(q){return ae(q,function(te){return te})||[]},only:function(q){if(!k(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Ie.Activity=T,Ie.Children=Xe,Ie.Component=Q,Ie.Fragment=n,Ie.Profiler=r,Ie.PureComponent=Z,Ie.StrictMode=o,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(q){return w.H.useMemoCache(q)}},Ie.cache=function(q){return function(){return q.apply(null,arguments)}},Ie.cacheSignal=function(){return null},Ie.cloneElement=function(q,te,ue){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var pe=B({},q.props),Se=q.key;if(te!=null)for(Ne in te.key!==void 0&&(Se=""+te.key),te)!N.call(te,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&te.ref===void 0||(pe[Ne]=te[Ne]);var Ne=arguments.length-2;if(Ne===1)pe.children=ue;else if(1<Ne){for(var Be=Array(Ne),Pt=0;Pt<Ne;Pt++)Be[Pt]=arguments[Pt+2];pe.children=Be}return M(q.type,Se,pe)},Ie.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ie.createElement=function(q,te,ue){var pe,Se={},Ne=null;if(te!=null)for(pe in te.key!==void 0&&(Ne=""+te.key),te)N.call(te,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=te[pe]);var Be=arguments.length-2;if(Be===1)Se.children=ue;else if(1<Be){for(var Pt=Array(Be),ut=0;ut<Be;ut++)Pt[ut]=arguments[ut+2];Se.children=Pt}if(q&&q.defaultProps)for(pe in Be=q.defaultProps,Be)Se[pe]===void 0&&(Se[pe]=Be[pe]);return M(q,Ne,Se)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(q){return{$$typeof:d,render:q}},Ie.isValidElement=k,Ie.lazy=function(q){return{$$typeof:_,_payload:{_status:-1,_result:q},_init:_e}},Ie.memo=function(q,te){return{$$typeof:p,type:q,compare:te===void 0?null:te}},Ie.startTransition=function(q){var te=w.T,ue={};w.T=ue;try{var pe=q(),Se=w.S;Se!==null&&Se(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(le,He)}catch(Ne){He(Ne)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),w.T=te}},Ie.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},Ie.use=function(q){return w.H.use(q)},Ie.useActionState=function(q,te,ue){return w.H.useActionState(q,te,ue)},Ie.useCallback=function(q,te){return w.H.useCallback(q,te)},Ie.useContext=function(q){return w.H.useContext(q)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(q,te){return w.H.useDeferredValue(q,te)},Ie.useEffect=function(q,te){return w.H.useEffect(q,te)},Ie.useEffectEvent=function(q){return w.H.useEffectEvent(q)},Ie.useId=function(){return w.H.useId()},Ie.useImperativeHandle=function(q,te,ue){return w.H.useImperativeHandle(q,te,ue)},Ie.useInsertionEffect=function(q,te){return w.H.useInsertionEffect(q,te)},Ie.useLayoutEffect=function(q,te){return w.H.useLayoutEffect(q,te)},Ie.useMemo=function(q,te){return w.H.useMemo(q,te)},Ie.useOptimistic=function(q,te){return w.H.useOptimistic(q,te)},Ie.useReducer=function(q,te,ue){return w.H.useReducer(q,te,ue)},Ie.useRef=function(q){return w.H.useRef(q)},Ie.useState=function(q){return w.H.useState(q)},Ie.useSyncExternalStore=function(q,te,ue){return w.H.useSyncExternalStore(q,te,ue)},Ie.useTransition=function(){return w.H.useTransition()},Ie.version="19.2.3",Ie}var A_;function Zp(){return A_||(A_=1,zh.exports=DI()),zh.exports}var en=Zp();const HE=GE(en);var Yh={exports:{}},Al={},Kh={exports:{}},Jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function VI(){return C_||(C_=1,(function(t){function e(X,ae){var _e=X.length;X.push(ae);e:for(;0<_e;){var He=_e-1>>>1,Xe=X[He];if(0<r(Xe,ae))X[He]=ae,X[_e]=Xe,_e=He;else break e}}function n(X){return X.length===0?null:X[0]}function o(X){if(X.length===0)return null;var ae=X[0],_e=X.pop();if(_e!==ae){X[0]=_e;e:for(var He=0,Xe=X.length,q=Xe>>>1;He<q;){var te=2*(He+1)-1,ue=X[te],pe=te+1,Se=X[pe];if(0>r(ue,_e))pe<Xe&&0>r(Se,ue)?(X[He]=Se,X[pe]=_e,He=pe):(X[He]=ue,X[te]=_e,He=te);else if(pe<Xe&&0>r(Se,_e))X[He]=Se,X[pe]=_e,He=pe;else break e}}return ae}function r(X,ae){var _e=X.sortIndex-ae.sortIndex;return _e!==0?_e:X.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var y=[],p=[],_=1,T=null,S=3,R=!1,L=!1,B=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function se(X){for(var ae=n(p);ae!==null;){if(ae.callback===null)o(p);else if(ae.startTime<=X)o(p),ae.sortIndex=ae.expirationTime,e(y,ae);else break;ae=n(p)}}function fe(X){if(B=!1,se(X),!L)if(n(y)!==null)L=!0,le||(le=!0,F());else{var ae=n(p);ae!==null&&ht(fe,ae.startTime-X)}}var le=!1,w=-1,N=5,M=-1;function x(){return U?!0:!(t.unstable_now()-M<N)}function k(){if(U=!1,le){var X=t.unstable_now();M=X;var ae=!0;try{e:{L=!1,B&&(B=!1,oe(w),w=-1),R=!0;var _e=S;try{t:{for(se(X),T=n(y);T!==null&&!(T.expirationTime>X&&x());){var He=T.callback;if(typeof He=="function"){T.callback=null,S=T.priorityLevel;var Xe=He(T.expirationTime<=X);if(X=t.unstable_now(),typeof Xe=="function"){T.callback=Xe,se(X),ae=!0;break t}T===n(y)&&o(y),se(X)}else o(y);T=n(y)}if(T!==null)ae=!0;else{var q=n(p);q!==null&&ht(fe,q.startTime-X),ae=!1}}break e}finally{T=null,S=_e,R=!1}ae=void 0}}finally{ae?F():le=!1}}}var F;if(typeof Z=="function")F=function(){Z(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Le=V.port2;V.port1.onmessage=k,F=function(){Le.postMessage(null)}}else F=function(){Q(k,0)};function ht(X,ae){w=Q(function(){X(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_next=function(X){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var _e=S;S=ae;try{return X()}finally{S=_e}},t.unstable_requestPaint=function(){U=!0},t.unstable_runWithPriority=function(X,ae){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var _e=S;S=X;try{return ae()}finally{S=_e}},t.unstable_scheduleCallback=function(X,ae,_e){var He=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?He+_e:He):_e=He,X){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=_e+Xe,X={id:_++,callback:ae,priorityLevel:X,startTime:_e,expirationTime:Xe,sortIndex:-1},_e>He?(X.sortIndex=_e,e(p,X),n(y)===null&&X===n(p)&&(B?(oe(w),w=-1):B=!0,ht(fe,_e-He))):(X.sortIndex=Xe,e(y,X),L||R||(L=!0,le||(le=!0,F()))),X},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(X){var ae=S;return function(){var _e=S;S=ae;try{return X.apply(this,arguments)}finally{S=_e}}}})(Jh)),Jh}var I_;function PI(){return I_||(I_=1,Kh.exports=VI()),Kh.exports}var $h={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function kI(){if(w_)return Zt;w_=1;var t=Zp();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(y,p,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:p,implementation:_}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Zt.createPortal=function(y,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(y,p,null,_)},Zt.flushSync=function(y){var p=c.T,_=o.p;try{if(c.T=null,o.p=2,y)return y()}finally{c.T=p,o.p=_,o.d.f()}},Zt.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},Zt.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},Zt.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:R}):_==="script"&&o.d.X(y,{crossOrigin:T,integrity:S,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Zt.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},Zt.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,T=d(_,p.crossOrigin);o.d.L(y,_,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Zt.preloadModule=function(y,p){if(typeof y=="string")if(p){var _=d(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},Zt.requestFormReset=function(y){o.d.r(y)},Zt.unstable_batchedUpdates=function(y,p){return y(p)},Zt.useFormState=function(y,p,_){return c.H.useFormState(y,p,_)},Zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var R_;function UI(){if(R_)return $h.exports;R_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$h.exports=kI(),$h.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function LI(){if(b_)return Al;b_=1;var t=PI(),e=Zp(),n=UI();function o(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,a=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(a=s.return),i=s.return;while(i)}return s.tag===3?a:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function d(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function y(i){if(l(i)!==i)throw Error(o(188))}function p(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(o(188));return s!==i?null:i}for(var a=i,u=s;;){var g=a.return;if(g===null)break;var v=g.alternate;if(v===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===a)return y(g),i;if(v===u)return y(g),s;v=v.sibling}throw Error(o(188))}if(a.return!==u.return)a=g,u=v;else{for(var A=!1,I=g.child;I;){if(I===a){A=!0,a=g,u=v;break}if(I===u){A=!0,u=g,a=v;break}I=I.sibling}if(!A){for(I=v.child;I;){if(I===a){A=!0,a=v,u=g;break}if(I===u){A=!0,u=v,a=g;break}I=I.sibling}if(!A)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?i:s}function _(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=_(i),s!==null)return s;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),oe=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=k&&i[k]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function Le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case B:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case fe:return"Suspense";case le:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case L:return"Portal";case Z:return i.displayName||"Context";case oe:return(i._context.displayName||"Context")+".Consumer";case se:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case w:return s=i.displayName||null,s!==null?s:Le(i.type)||"Memo";case N:s=i._payload,i=i._init;try{return Le(i(s))}catch{}}return null}var ht=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},He=[],Xe=-1;function q(i){return{current:i}}function te(i){0>Xe||(i.current=He[Xe],He[Xe]=null,Xe--)}function ue(i,s){Xe++,He[Xe]=i.current,i.current=s}var pe=q(null),Se=q(null),Ne=q(null),Be=q(null);function Pt(i,s){switch(ue(Ne,s),ue(Se,i),ue(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Hv(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Hv(s),i=zv(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}te(pe),ue(pe,i)}function ut(){te(pe),te(Se),te(Ne)}function as(i){i.memoizedState!==null&&ue(Be,i);var s=pe.current,a=zv(s,i.type);s!==a&&(ue(Se,i),ue(pe,a))}function tr(i){Se.current===i&&(te(pe),te(Se)),Be.current===i&&(te(Be),vl._currentValue=_e)}var nr,ir;function ui(i){if(nr===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);nr=s&&s[1]||"",ir=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nr+i+ir}var va=!1;function ls(i,s){if(!i||va)return"";va=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var K=$}Reflect.construct(i,[],ee)}else{try{ee.call()}catch($){K=$}i.call(ee.prototype)}}else{try{throw Error()}catch($){K=$}(ee=i())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),A=v[0],I=v[1];if(A&&I){var P=A.split(`
`),Y=I.split(`
`);for(g=u=0;u<P.length&&!P[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===P.length||g===Y.length)for(u=P.length-1,g=Y.length-1;1<=u&&0<=g&&P[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(P[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||P[u]!==Y[g]){var W=`
`+P[u].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=u&&0<=g);break}}}finally{va=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?ui(a):""}function _a(i,s){switch(i.tag){case 26:case 27:case 5:return ui(i.type);case 16:return ui("Lazy");case 13:return i.child!==s&&s!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ls(i.type,!1);case 11:return ls(i.type.render,!1);case 1:return ls(i.type,!0);case 31:return ui("Activity");default:return""}}function Ta(i){try{var s="",a=null;do s+=_a(i,a),a=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Et=Object.prototype.hasOwnProperty,kt=t.unstable_scheduleCallback,mo=t.unstable_cancelCallback,Yf=t.unstable_shouldYield,eu=t.unstable_requestPaint,rn=t.unstable_now,us=t.unstable_getCurrentPriorityLevel,Ea=t.unstable_ImmediatePriority,Sa=t.unstable_UserBlockingPriority,go=t.unstable_NormalPriority,Kf=t.unstable_LowPriority,tu=t.unstable_IdlePriority,nu=t.log,iu=t.unstable_setDisableYieldValue,Kn=null,Ht=null;function Nn(i){if(typeof nu=="function"&&iu(i),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Kn,i)}catch{}}var gt=Math.clz32?Math.clz32:su,ou=Math.log,or=Math.LN2;function su(i){return i>>>=0,i===0?32:31-(ou(i)/or|0)|0}var ci=256,cs=262144,St=4194304;function fi(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function di(i,s,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,v=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var I=u&134217727;return I!==0?(u=I&~v,u!==0?g=fi(u):(A&=I,A!==0?g=fi(A):a||(a=I&~i,a!==0&&(g=fi(a))))):(I=u&~v,I!==0?g=fi(I):A!==0?g=fi(A):a||(a=u&~i,a!==0&&(g=fi(a)))),g===0?0:s!==0&&s!==g&&(s&v)===0&&(v=g&-g,a=s&-s,v>=a||v===32&&(a&4194048)!==0)?s:g}function Jn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Jf(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var i=St;return St<<=1,(St&62914560)===0&&(St=4194304),i}function hi(i){for(var s=[],a=0;31>a;a++)s.push(i);return s}function fs(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function $f(i,s,a,u,g,v){var A=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var I=i.entanglements,P=i.expirationTimes,Y=i.hiddenUpdates;for(a=A&~a;0<a;){var W=31-gt(a),ee=1<<W;I[W]=0,P[W]=-1;var K=Y[W];if(K!==null)for(Y[W]=null,W=0;W<K.length;W++){var $=K[W];$!==null&&($.lane&=-536870913)}a&=~ee}u!==0&&ds(i,u,0),v!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=v&~(A&~s))}function ds(i,s,a){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-gt(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function Aa(i,s){var a=i.entangledLanes|=s;for(i=i.entanglements;a;){var u=31-gt(a),g=1<<u;g&s|i[u]&s&&(i[u]|=s),a&=~g}}function Ca(i,s){var a=s&-s;return a=(a&42)!==0?1:hs(a),(a&(i.suspendedLanes|s))!==0?0:a}function hs(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Oi(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function au(){var i=ae.p;return i!==0?i:(i=window.event,i===void 0?32:h_(i.type))}function $n(i,s){var a=ae.p;try{return ae.p=i,s()}finally{ae.p=a}}var Qn=Math.random().toString(36).slice(2),At="__reactFiber$"+Qn,Ot="__reactProps$"+Qn,pi="__reactContainer$"+Qn,sr="__reactEvents$"+Qn,Qf="__reactListeners$"+Qn,lu="__reactHandles$"+Qn,uu="__reactResources$"+Qn,mi="__reactMarker$"+Qn;function rr(i){delete i[At],delete i[Ot],delete i[sr],delete i[Qf],delete i[lu]}function gi(i){var s=i[At];if(s)return s;for(var a=i.parentNode;a;){if(s=a[pi]||a[At]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(i=Wv(i);i!==null;){if(a=i[At])return a;i=Wv(i)}return s}i=a,a=i.parentNode}return null}function Mn(i){if(i=i[At]||i[pi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Tn(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(o(33))}function yi(i){var s=i[uu];return s||(s=i[uu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ct(i){i[mi]=!0}var Ia=new Set,wa={};function vi(i,s){_i(i,s),_i(i+"Capture",s)}function _i(i,s){for(wa[i]=s,i=0;i<s.length;i++)Ia.add(s[i])}var Ra=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ba={},Na={};function cu(i){return Et.call(Na,i)?!0:Et.call(ba,i)?!1:Ra.test(i)?Na[i]=!0:(ba[i]=!0,!1)}function ar(i,s,a){if(cu(s))if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+a)}}function En(i,s,a){if(a===null)i.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+a)}}function It(i,s,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(s,a,""+u)}}function qt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function yo(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ma(i,s,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,v=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(A){a=""+A,v.call(this,A)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function We(i){if(!i._valueTracker){var s=yo(i)?"checked":"value";i._valueTracker=Ma(i,s,""+i[s])}}function ps(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return i&&(u=yo(i)?i.checked?"true":"false":i.value),i=u,i!==a?(s.setValue(i),!0):!1}function Ti(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ms=/[\n"\\]/g;function dn(i){return i.replace(ms,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lr(i,s,a,u,g,v,A,I){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),s!=null?A==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+qt(s)):i.value!==""+qt(s)&&(i.value=""+qt(s)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),s!=null?xa(i,A,qt(s)):a!=null?xa(i,A,qt(a)):u!=null&&i.removeAttribute("value"),g==null&&v!=null&&(i.defaultChecked=!!v),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+qt(I):i.removeAttribute("name")}function fu(i,s,a,u,g,v,A,I){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||a!=null){if(!(v!=="submit"&&v!=="reset"||s!=null)){We(i);return}a=a!=null?""+qt(a):"",s=s!=null?""+qt(s):a,I||s===i.value||(i.value=s),i.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=I?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),We(i)}function xa(i,s,a){s==="number"&&Ti(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function vo(i,s,a,u){if(i=i.options,s){s={};for(var g=0;g<a.length;g++)s["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=s.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+qt(a),s=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function du(i,s,a){if(s!=null&&(s=""+qt(s),s!==i.value&&(i.value=s),a==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=a!=null?""+qt(a):""}function _o(i,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(o(92));if(ht(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=qt(s),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),We(i)}function hn(i,s){if(s){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=s;return}}i.textContent=s}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Da(i,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,a):typeof a!="number"||a===0||hu.has(s)?s==="float"?i.cssFloat=a:i[s]=(""+a).trim():i[s]=a+"px"}function Va(i,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&a[g]!==u&&Da(i,g,u)}else for(var v in s)s.hasOwnProperty(v)&&Da(i,v,s[v])}function ur(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),To=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(i){return To.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Xn(){}var Pa=null;function xn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Eo=null,Ei=null;function gs(i){var s=Mn(i);if(s&&(i=s.stateNode)){var a=i[Ot]||null;e:switch(i=s.stateNode,s.type){case"input":if(lr(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==i&&u.form===i.form){var g=u[Ot]||null;if(!g)throw Error(o(90));lr(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===i.form&&ps(u)}break e;case"textarea":du(i,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&vo(i,!!a.multiple,s,!1)}}}var fr=!1;function So(i,s,a){if(fr)return i(s,a);fr=!0;try{var u=i(s);return u}finally{if(fr=!1,(Eo!==null||Ei!==null)&&(ac(),Eo&&(s=Eo,i=Ei,Ei=Eo=null,gs(s),i)))for(s=0;s<i.length;s++)gs(i[s])}}function Wn(i,s){var a=i.stateNode;if(a===null)return null;var u=a[Ot]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ys=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ys=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ys=!1}var Si=null,ka=null,vs=null;function Ua(){if(vs)return vs;var i,s=ka,a=s.length,u,g="value"in Si?Si.value:Si.textContent,v=g.length;for(i=0;i<a&&s[i]===g[i];i++);var A=a-i;for(u=1;u<=A&&s[a-u]===g[v-u];u++);return vs=g.slice(i,1<u?1-u:void 0)}function _s(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function qi(){return!0}function Zn(){return!1}function zt(i){function s(a,u,g,v,A){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=v,this.target=A,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(a=i[I],this[I]=a?a(v):v[I]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?qi:Zn,this.isPropagationStopped=Zn,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),s}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=zt(Bi),Ao=T({},Bi,{view:0,detail:0}),La=zt(Ao),Co,dr,Ci,hr=T({},Ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Io,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(Co=i.screenX-Ci.screenX,dr=i.screenY-Ci.screenY):dr=Co=0,Ci=i),Co)},movementY:function(i){return"movementY"in i?i.movementY:dr}}),Oa=zt(hr),Ts=T({},hr,{dataTransfer:0}),mu=zt(Ts),gu=T({},Ao,{relatedTarget:0}),Es=zt(gu),qa=T({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),yu=zt(qa),pr=T({},Bi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vu=zt(pr),_u=T({},Bi,{data:0}),Ii=zt(_u),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Su[i])?!!s[i]:!1}function Io(){return Au}var an=T({},Ao,{key:function(i){if(i.key){var s=Tu[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=_s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Eu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Io,charCode:function(i){return i.type==="keypress"?_s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cu=zt(an),Iu=T({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=zt(Iu),m=T({},Ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Io}),E=zt(m),C=T({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=zt(C),H=T({},hr,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),J=zt(H),re=T({},Bi,{newState:0,oldState:0}),Re=zt(re),yt=[9,13,27,32],Je=Dn&&"CompositionEvent"in window,ct=null;Dn&&"documentMode"in document&&(ct=document.documentMode);var Vn=Dn&&"TextEvent"in window&&!ct,wi=Dn&&(!Je||ct&&8<ct&&11>=ct),jn=" ",ei=!1;function Ss(i,s){switch(i){case"keyup":return yt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mr(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var gr=!1;function e1(i,s){switch(i){case"compositionend":return mr(s);case"keypress":return s.which!==32?null:(ei=!0,jn);case"textInput":return i=s.data,i===jn&&ei?null:i;default:return null}}function t1(i,s){if(gr)return i==="compositionend"||!Je&&Ss(i,s)?(i=Ua(),vs=ka=Si=null,gr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wi&&s.locale!=="ko"?null:s.data;default:return null}}var n1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!n1[i.type]:s==="textarea"}function tg(i,s,a,u){Eo?Ei?Ei.push(u):Ei=[u]:Eo=u,s=pc(s,"onChange"),0<s.length&&(a=new Ai("onChange","change",null,a,u),i.push({event:a,listeners:s}))}var Ba=null,Fa=null;function i1(i){Lv(i,0)}function wu(i){var s=Tn(i);if(ps(s))return i}function ng(i,s){if(i==="change")return s}var ig=!1;if(Dn){var Xf;if(Dn){var Wf="oninput"in document;if(!Wf){var og=document.createElement("div");og.setAttribute("oninput","return;"),Wf=typeof og.oninput=="function"}Xf=Wf}else Xf=!1;ig=Xf&&(!document.documentMode||9<document.documentMode)}function sg(){Ba&&(Ba.detachEvent("onpropertychange",rg),Fa=Ba=null)}function rg(i){if(i.propertyName==="value"&&wu(Fa)){var s=[];tg(s,Fa,i,xn(i)),So(i1,s)}}function o1(i,s,a){i==="focusin"?(sg(),Ba=s,Fa=a,Ba.attachEvent("onpropertychange",rg)):i==="focusout"&&sg()}function s1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wu(Fa)}function r1(i,s){if(i==="click")return wu(s)}function a1(i,s){if(i==="input"||i==="change")return wu(s)}function l1(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Sn=typeof Object.is=="function"?Object.is:l1;function Ga(i,s){if(Sn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var a=Object.keys(i),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Et.call(s,g)||!Sn(i[g],s[g]))return!1}return!0}function ag(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function lg(i,s){var a=ag(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=s&&u>=s)return{node:a,offset:s-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ag(a)}}function ug(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?ug(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function cg(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=Ti(i.document);s instanceof i.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)i=s.contentWindow;else break;s=Ti(i.document)}return s}function Zf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var u1=Dn&&"documentMode"in document&&11>=document.documentMode,yr=null,jf=null,Ha=null,ed=!1;function fg(i,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ed||yr==null||yr!==Ti(u)||(u=yr,"selectionStart"in u&&Zf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ha&&Ga(Ha,u)||(Ha=u,u=pc(jf,"onSelect"),0<u.length&&(s=new Ai("onSelect","select",null,s,a),i.push({event:s,listeners:u}),s.target=yr)))}function As(i,s){var a={};return a[i.toLowerCase()]=s.toLowerCase(),a["Webkit"+i]="webkit"+s,a["Moz"+i]="moz"+s,a}var vr={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},td={},dg={};Dn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);function Cs(i){if(td[i])return td[i];if(!vr[i])return i;var s=vr[i],a;for(a in s)if(s.hasOwnProperty(a)&&a in dg)return td[i]=s[a];return i}var hg=Cs("animationend"),pg=Cs("animationiteration"),mg=Cs("animationstart"),c1=Cs("transitionrun"),f1=Cs("transitionstart"),d1=Cs("transitioncancel"),gg=Cs("transitionend"),yg=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function ti(i,s){yg.set(i,s),vi(s,[i])}var Ru=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Pn=[],_r=0,id=0;function bu(){for(var i=_r,s=id=_r=0;s<i;){var a=Pn[s];Pn[s++]=null;var u=Pn[s];Pn[s++]=null;var g=Pn[s];Pn[s++]=null;var v=Pn[s];if(Pn[s++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}v!==0&&vg(a,g,v)}}function Nu(i,s,a,u){Pn[_r++]=i,Pn[_r++]=s,Pn[_r++]=a,Pn[_r++]=u,id|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function od(i,s,a,u){return Nu(i,s,a,u),Mu(i)}function Is(i,s){return Nu(i,null,null,s),Mu(i)}function vg(i,s,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,v=i.return;v!==null;)v.childLanes|=a,u=v.alternate,u!==null&&(u.childLanes|=a),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(g=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,g&&s!==null&&(g=31-gt(a),i=v.hiddenUpdates,u=i[g],u===null?i[g]=[s]:u.push(s),s.lane=a|536870912),v):null}function Mu(i){if(50<fl)throw fl=0,hh=null,Error(o(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Tr={};function h1(i,s,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(i,s,a,u){return new h1(i,s,a,u)}function sd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Gi(i,s){var a=i.alternate;return a===null?(a=An(i.tag,s,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=s,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,s=i.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function _g(i,s){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,s=a.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function xu(i,s,a,u,g,v){var A=0;if(u=i,typeof i=="function")sd(i)&&(A=1);else if(typeof i=="string")A=vI(i,a,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=An(31,a,s,g),i.elementType=M,i.lanes=v,i;case B:return ws(a.children,g,v,s);case U:A=8,g|=24;break;case Q:return i=An(12,a,s,g|2),i.elementType=Q,i.lanes=v,i;case fe:return i=An(13,a,s,g),i.elementType=fe,i.lanes=v,i;case le:return i=An(19,a,s,g),i.elementType=le,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case Z:A=10;break e;case oe:A=9;break e;case se:A=11;break e;case w:A=14;break e;case N:A=16,u=null;break e}A=29,a=Error(o(130,i===null?"null":typeof i,"")),u=null}return s=An(A,a,s,g),s.elementType=i,s.type=u,s.lanes=v,s}function ws(i,s,a,u){return i=An(7,i,u,s),i.lanes=a,i}function rd(i,s,a){return i=An(6,i,null,s),i.lanes=a,i}function Tg(i){var s=An(18,null,null,0);return s.stateNode=i,s}function ad(i,s,a){return s=An(4,i.children!==null?i.children:[],i.key,s),s.lanes=a,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Eg=new WeakMap;function kn(i,s){if(typeof i=="object"&&i!==null){var a=Eg.get(i);return a!==void 0?a:(s={value:i,source:s,stack:Ta(s)},Eg.set(i,s),s)}return{value:i,source:s,stack:Ta(s)}}var Er=[],Sr=0,Du=null,za=0,Un=[],Ln=0,wo=null,Ri=1,bi="";function Hi(i,s){Er[Sr++]=za,Er[Sr++]=Du,Du=i,za=s}function Sg(i,s,a){Un[Ln++]=Ri,Un[Ln++]=bi,Un[Ln++]=wo,wo=i;var u=Ri;i=bi;var g=32-gt(u)-1;u&=~(1<<g),a+=1;var v=32-gt(s)+g;if(30<v){var A=g-g%5;v=(u&(1<<A)-1).toString(32),u>>=A,g-=A,Ri=1<<32-gt(s)+g|a<<g|u,bi=v+i}else Ri=1<<v|a<<g|u,bi=i}function ld(i){i.return!==null&&(Hi(i,1),Sg(i,1,0))}function ud(i){for(;i===Du;)Du=Er[--Sr],Er[Sr]=null,za=Er[--Sr],Er[Sr]=null;for(;i===wo;)wo=Un[--Ln],Un[Ln]=null,bi=Un[--Ln],Un[Ln]=null,Ri=Un[--Ln],Un[Ln]=null}function Ag(i,s){Un[Ln++]=Ri,Un[Ln++]=bi,Un[Ln++]=wo,Ri=s.id,bi=s.overflow,wo=i}var Yt=null,rt=null,Oe=!1,Ro=null,On=!1,cd=Error(o(519));function bo(i){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ya(kn(s,i)),cd}function Cg(i){var s=i.stateNode,a=i.type,u=i.memoizedProps;switch(s[At]=i,s[Ot]=u,a){case"dialog":De("cancel",s),De("close",s);break;case"iframe":case"object":case"embed":De("load",s);break;case"video":case"audio":for(a=0;a<hl.length;a++)De(hl[a],s);break;case"source":De("error",s);break;case"img":case"image":case"link":De("error",s),De("load",s);break;case"details":De("toggle",s);break;case"input":De("invalid",s),fu(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":De("invalid",s);break;case"textarea":De("invalid",s),_o(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Fv(s.textContent,a)?(u.popover!=null&&(De("beforetoggle",s),De("toggle",s)),u.onScroll!=null&&De("scroll",s),u.onScrollEnd!=null&&De("scrollend",s),u.onClick!=null&&(s.onclick=Xn),s=!0):s=!1,s||bo(i,!0)}function Ig(i){for(Yt=i.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Yt=Yt.return}}function Ar(i){if(i!==Yt)return!1;if(!Oe)return Ig(i),Oe=!0,!1;var s=i.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||bh(i.type,i.memoizedProps)),a=!a),a&&rt&&bo(i),Ig(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));rt=Xv(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(317));rt=Xv(i)}else s===27?(s=rt,Go(i.type)?(i=Vh,Vh=null,rt=i):rt=s):rt=Yt?Bn(i.stateNode.nextSibling):null;return!0}function Rs(){rt=Yt=null,Oe=!1}function fd(){var i=Ro;return i!==null&&(yn===null?yn=i:yn.push.apply(yn,i),Ro=null),i}function Ya(i){Ro===null?Ro=[i]:Ro.push(i)}var dd=q(null),bs=null,zi=null;function No(i,s,a){ue(dd,s._currentValue),s._currentValue=a}function Yi(i){i._currentValue=dd.current,te(dd)}function hd(i,s,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===a)break;i=i.return}}function pd(i,s,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var v=g.dependencies;if(v!==null){var A=g.child;v=v.firstContext;e:for(;v!==null;){var I=v;v=g;for(var P=0;P<s.length;P++)if(I.context===s[P]){v.lanes|=a,I=v.alternate,I!==null&&(I.lanes|=a),hd(v.return,a,i),u||(A=null);break e}v=I.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(o(341));A.lanes|=a,v=A.alternate,v!==null&&(v.lanes|=a),hd(A,a,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function Cr(i,s,a,u){i=null;for(var g=s,v=!1;g!==null;){if(!v){if((g.flags&524288)!==0)v=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(o(387));if(A=A.memoizedProps,A!==null){var I=g.type;Sn(g.pendingProps.value,A.value)||(i!==null?i.push(I):i=[I])}}else if(g===Be.current){if(A=g.alternate,A===null)throw Error(o(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(vl):i=[vl])}g=g.return}i!==null&&pd(s,i,a,u),s.flags|=262144}function Vu(i){for(i=i.firstContext;i!==null;){if(!Sn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ns(i){bs=i,zi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kt(i){return wg(bs,i)}function Pu(i,s){return bs===null&&Ns(i),wg(i,s)}function wg(i,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},zi===null){if(i===null)throw Error(o(308));zi=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else zi=zi.next=s;return a}var p1=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(a){return a()})}},m1=t.unstable_scheduleCallback,g1=t.unstable_NormalPriority,wt={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new p1,data:new Map,refCount:0}}function Ka(i){i.refCount--,i.refCount===0&&m1(g1,function(){i.controller.abort()})}var Ja=null,gd=0,Ir=0,wr=null;function y1(i,s){if(Ja===null){var a=Ja=[];gd=0,Ir=_h(),wr={status:"pending",value:void 0,then:function(u){a.push(u)}}}return gd++,s.then(Rg,Rg),s}function Rg(){if(--gd===0&&Ja!==null){wr!==null&&(wr.status="fulfilled");var i=Ja;Ja=null,Ir=0,wr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function v1(i,s){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<a.length;g++)(0,a[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var bg=X.S;X.S=function(i,s){fv=rn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&y1(i,s),bg!==null&&bg(i,s)};var Ms=q(null);function yd(){var i=Ms.current;return i!==null?i:ot.pooledCache}function ku(i,s){s===null?ue(Ms,Ms.current):ue(Ms,s.pool)}function Ng(){var i=yd();return i===null?null:{parent:wt._currentValue,pool:i}}var Rr=Error(o(460)),vd=Error(o(474)),Uu=Error(o(542)),Lu={then:function(){}};function Mg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function xg(i,s,a){switch(a=i[a],a===void 0?i.push(s):a!==s&&(s.then(Xn,Xn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Vg(i),i;default:if(typeof s.status=="string")s.then(Xn,Xn);else{if(i=ot,i!==null&&100<i.shellSuspendCounter)throw Error(o(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Vg(i),i}throw Ds=s,Rr}}function xs(i){try{var s=i._init;return s(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ds=a,Rr):a}}var Ds=null;function Dg(){if(Ds===null)throw Error(o(459));var i=Ds;return Ds=null,i}function Vg(i){if(i===Rr||i===Uu)throw Error(o(483))}var br=null,$a=0;function Ou(i){var s=$a;return $a+=1,br===null&&(br=[]),xg(br,i,s)}function Qa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function qu(i,s){throw s.$$typeof===S?Error(o(525)):(i=Object.prototype.toString.call(s),Error(o(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Pg(i){function s(G,O){if(i){var z=G.deletions;z===null?(G.deletions=[O],G.flags|=16):z.push(O)}}function a(G,O){if(!i)return null;for(;O!==null;)s(G,O),O=O.sibling;return null}function u(G){for(var O=new Map;G!==null;)G.key!==null?O.set(G.key,G):O.set(G.index,G),G=G.sibling;return O}function g(G,O){return G=Gi(G,O),G.index=0,G.sibling=null,G}function v(G,O,z){return G.index=z,i?(z=G.alternate,z!==null?(z=z.index,z<O?(G.flags|=67108866,O):z):(G.flags|=67108866,O)):(G.flags|=1048576,O)}function A(G){return i&&G.alternate===null&&(G.flags|=67108866),G}function I(G,O,z,j){return O===null||O.tag!==6?(O=rd(z,G.mode,j),O.return=G,O):(O=g(O,z),O.return=G,O)}function P(G,O,z,j){var ye=z.type;return ye===B?W(G,O,z.props.children,j,z.key):O!==null&&(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&xs(ye)===O.type)?(O=g(O,z.props),Qa(O,z),O.return=G,O):(O=xu(z.type,z.key,z.props,null,G.mode,j),Qa(O,z),O.return=G,O)}function Y(G,O,z,j){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=ad(z,G.mode,j),O.return=G,O):(O=g(O,z.children||[]),O.return=G,O)}function W(G,O,z,j,ye){return O===null||O.tag!==7?(O=ws(z,G.mode,j,ye),O.return=G,O):(O=g(O,z),O.return=G,O)}function ee(G,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rd(""+O,G.mode,z),O.return=G,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return z=xu(O.type,O.key,O.props,null,G.mode,z),Qa(z,O),z.return=G,z;case L:return O=ad(O,G.mode,z),O.return=G,O;case N:return O=xs(O),ee(G,O,z)}if(ht(O)||F(O))return O=ws(O,G.mode,z,null),O.return=G,O;if(typeof O.then=="function")return ee(G,Ou(O),z);if(O.$$typeof===Z)return ee(G,Pu(G,O),z);qu(G,O)}return null}function K(G,O,z,j){var ye=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ye!==null?null:I(G,O,""+z,j);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case R:return z.key===ye?P(G,O,z,j):null;case L:return z.key===ye?Y(G,O,z,j):null;case N:return z=xs(z),K(G,O,z,j)}if(ht(z)||F(z))return ye!==null?null:W(G,O,z,j,null);if(typeof z.then=="function")return K(G,O,Ou(z),j);if(z.$$typeof===Z)return K(G,O,Pu(G,z),j);qu(G,z)}return null}function $(G,O,z,j,ye){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return G=G.get(z)||null,I(O,G,""+j,ye);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case R:return G=G.get(j.key===null?z:j.key)||null,P(O,G,j,ye);case L:return G=G.get(j.key===null?z:j.key)||null,Y(O,G,j,ye);case N:return j=xs(j),$(G,O,z,j,ye)}if(ht(j)||F(j))return G=G.get(z)||null,W(O,G,j,ye,null);if(typeof j.then=="function")return $(G,O,z,Ou(j),ye);if(j.$$typeof===Z)return $(G,O,z,Pu(O,j),ye);qu(O,j)}return null}function me(G,O,z,j){for(var ye=null,ze=null,ge=O,Me=O=0,Pe=null;ge!==null&&Me<z.length;Me++){ge.index>Me?(Pe=ge,ge=null):Pe=ge.sibling;var Ye=K(G,ge,z[Me],j);if(Ye===null){ge===null&&(ge=Pe);break}i&&ge&&Ye.alternate===null&&s(G,ge),O=v(Ye,O,Me),ze===null?ye=Ye:ze.sibling=Ye,ze=Ye,ge=Pe}if(Me===z.length)return a(G,ge),Oe&&Hi(G,Me),ye;if(ge===null){for(;Me<z.length;Me++)ge=ee(G,z[Me],j),ge!==null&&(O=v(ge,O,Me),ze===null?ye=ge:ze.sibling=ge,ze=ge);return Oe&&Hi(G,Me),ye}for(ge=u(ge);Me<z.length;Me++)Pe=$(ge,G,Me,z[Me],j),Pe!==null&&(i&&Pe.alternate!==null&&ge.delete(Pe.key===null?Me:Pe.key),O=v(Pe,O,Me),ze===null?ye=Pe:ze.sibling=Pe,ze=Pe);return i&&ge.forEach(function(Jo){return s(G,Jo)}),Oe&&Hi(G,Me),ye}function Te(G,O,z,j){if(z==null)throw Error(o(151));for(var ye=null,ze=null,ge=O,Me=O=0,Pe=null,Ye=z.next();ge!==null&&!Ye.done;Me++,Ye=z.next()){ge.index>Me?(Pe=ge,ge=null):Pe=ge.sibling;var Jo=K(G,ge,Ye.value,j);if(Jo===null){ge===null&&(ge=Pe);break}i&&ge&&Jo.alternate===null&&s(G,ge),O=v(Jo,O,Me),ze===null?ye=Jo:ze.sibling=Jo,ze=Jo,ge=Pe}if(Ye.done)return a(G,ge),Oe&&Hi(G,Me),ye;if(ge===null){for(;!Ye.done;Me++,Ye=z.next())Ye=ee(G,Ye.value,j),Ye!==null&&(O=v(Ye,O,Me),ze===null?ye=Ye:ze.sibling=Ye,ze=Ye);return Oe&&Hi(G,Me),ye}for(ge=u(ge);!Ye.done;Me++,Ye=z.next())Ye=$(ge,G,Me,Ye.value,j),Ye!==null&&(i&&Ye.alternate!==null&&ge.delete(Ye.key===null?Me:Ye.key),O=v(Ye,O,Me),ze===null?ye=Ye:ze.sibling=Ye,ze=Ye);return i&&ge.forEach(function(NI){return s(G,NI)}),Oe&&Hi(G,Me),ye}function it(G,O,z,j){if(typeof z=="object"&&z!==null&&z.type===B&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case R:e:{for(var ye=z.key;O!==null;){if(O.key===ye){if(ye=z.type,ye===B){if(O.tag===7){a(G,O.sibling),j=g(O,z.props.children),j.return=G,G=j;break e}}else if(O.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===N&&xs(ye)===O.type){a(G,O.sibling),j=g(O,z.props),Qa(j,z),j.return=G,G=j;break e}a(G,O);break}else s(G,O);O=O.sibling}z.type===B?(j=ws(z.props.children,G.mode,j,z.key),j.return=G,G=j):(j=xu(z.type,z.key,z.props,null,G.mode,j),Qa(j,z),j.return=G,G=j)}return A(G);case L:e:{for(ye=z.key;O!==null;){if(O.key===ye)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(G,O.sibling),j=g(O,z.children||[]),j.return=G,G=j;break e}else{a(G,O);break}else s(G,O);O=O.sibling}j=ad(z,G.mode,j),j.return=G,G=j}return A(G);case N:return z=xs(z),it(G,O,z,j)}if(ht(z))return me(G,O,z,j);if(F(z)){if(ye=F(z),typeof ye!="function")throw Error(o(150));return z=ye.call(z),Te(G,O,z,j)}if(typeof z.then=="function")return it(G,O,Ou(z),j);if(z.$$typeof===Z)return it(G,O,Pu(G,z),j);qu(G,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(G,O.sibling),j=g(O,z),j.return=G,G=j):(a(G,O),j=rd(z,G.mode,j),j.return=G,G=j),A(G)):a(G,O)}return function(G,O,z,j){try{$a=0;var ye=it(G,O,z,j);return br=null,ye}catch(ge){if(ge===Rr||ge===Uu)throw ge;var ze=An(29,ge,null,G.mode);return ze.lanes=j,ze.return=G,ze}finally{}}}var Vs=Pg(!0),kg=Pg(!1),Mo=!1;function _d(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Do(i,s,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,($e&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Mu(i),vg(i,null,a),s}return Nu(i,u,s,a),Mu(i)}function Xa(i,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Aa(i,a)}}function Ed(i,s){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};v===null?g=v=A:v=v.next=A,a=a.next}while(a!==null);v===null?g=v=s:v=v.next=s}else g=v=s;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=s:i.next=s,a.lastBaseUpdate=s}var Sd=!1;function Wa(){if(Sd){var i=wr;if(i!==null)throw i}}function Za(i,s,a,u){Sd=!1;var g=i.updateQueue;Mo=!1;var v=g.firstBaseUpdate,A=g.lastBaseUpdate,I=g.shared.pending;if(I!==null){g.shared.pending=null;var P=I,Y=P.next;P.next=null,A===null?v=Y:A.next=Y,A=P;var W=i.alternate;W!==null&&(W=W.updateQueue,I=W.lastBaseUpdate,I!==A&&(I===null?W.firstBaseUpdate=Y:I.next=Y,W.lastBaseUpdate=P))}if(v!==null){var ee=g.baseState;A=0,W=Y=P=null,I=v;do{var K=I.lane&-536870913,$=K!==I.lane;if($?(Ve&K)===K:(u&K)===K){K!==0&&K===Ir&&(Sd=!0),W!==null&&(W=W.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var me=i,Te=I;K=s;var it=a;switch(Te.tag){case 1:if(me=Te.payload,typeof me=="function"){ee=me.call(it,ee,K);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Te.payload,K=typeof me=="function"?me.call(it,ee,K):me,K==null)break e;ee=T({},ee,K);break e;case 2:Mo=!0}}K=I.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[K]:$.push(K))}else $={lane:K,tag:I.tag,payload:I.payload,callback:I.callback,next:null},W===null?(Y=W=$,P=ee):W=W.next=$,A|=K;if(I=I.next,I===null){if(I=g.shared.pending,I===null)break;$=I,I=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);W===null&&(P=ee),g.baseState=P,g.firstBaseUpdate=Y,g.lastBaseUpdate=W,v===null&&(g.shared.lanes=0),Lo|=A,i.lanes=A,i.memoizedState=ee}}function Ug(i,s){if(typeof i!="function")throw Error(o(191,i));i.call(s)}function Lg(i,s){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Ug(a[i],s)}var Nr=q(null),Bu=q(0);function Og(i,s){i=eo,ue(Bu,i),ue(Nr,s),eo=i|s.baseLanes}function Ad(){ue(Bu,eo),ue(Nr,Nr.current)}function Cd(){eo=Bu.current,te(Nr),te(Bu)}var Cn=q(null),qn=null;function Vo(i){var s=i.alternate;ue(vt,vt.current&1),ue(Cn,i),qn===null&&(s===null||Nr.current!==null||s.memoizedState!==null)&&(qn=i)}function Id(i){ue(vt,vt.current),ue(Cn,i),qn===null&&(qn=i)}function qg(i){i.tag===22?(ue(vt,vt.current),ue(Cn,i),qn===null&&(qn=i)):Po()}function Po(){ue(vt,vt.current),ue(Cn,Cn.current)}function In(i){te(Cn),qn===i&&(qn=null),te(vt)}var vt=q(0);function Fu(i){for(var s=i;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||xh(a)||Dh(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ki=0,be=null,tt=null,Rt=null,Gu=!1,Mr=!1,Ps=!1,Hu=0,ja=0,xr=null,_1=0;function pt(){throw Error(o(321))}function wd(i,s){if(s===null)return!1;for(var a=0;a<s.length&&a<i.length;a++)if(!Sn(i[a],s[a]))return!1;return!0}function Rd(i,s,a,u,g,v){return Ki=v,be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,X.H=i===null||i.memoizedState===null?Sy:Gd,Ps=!1,v=a(u,g),Ps=!1,Mr&&(v=Fg(s,a,u,g)),Bg(i),v}function Bg(i){X.H=nl;var s=tt!==null&&tt.next!==null;if(Ki=0,Rt=tt=be=null,Gu=!1,ja=0,xr=null,s)throw Error(o(300));i===null||bt||(i=i.dependencies,i!==null&&Vu(i)&&(bt=!0))}function Fg(i,s,a,u){be=i;var g=0;do{if(Mr&&(xr=null),ja=0,Mr=!1,25<=g)throw Error(o(301));if(g+=1,Rt=tt=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}X.H=Ay,v=s(a,u)}while(Mr);return v}function T1(){var i=X.H,s=i.useState()[0];return s=typeof s.then=="function"?el(s):s,i=i.useState()[0],(tt!==null?tt.memoizedState:null)!==i&&(be.flags|=1024),s}function bd(){var i=Hu!==0;return Hu=0,i}function Nd(i,s,a){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~a}function Md(i){if(Gu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Gu=!1}Ki=0,Rt=tt=be=null,Mr=!1,ja=Hu=0,xr=null}function ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?be.memoizedState=Rt=i:Rt=Rt.next=i,Rt}function _t(){if(tt===null){var i=be.alternate;i=i!==null?i.memoizedState:null}else i=tt.next;var s=Rt===null?be.memoizedState:Rt.next;if(s!==null)Rt=s,tt=i;else{if(i===null)throw be.alternate===null?Error(o(467)):Error(o(310));tt=i,i={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Rt===null?be.memoizedState=Rt=i:Rt=Rt.next=i}return Rt}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(i){var s=ja;return ja+=1,xr===null&&(xr=[]),i=xg(xr,i,s),s=be,(Rt===null?s.memoizedState:Rt.next)===null&&(s=s.alternate,X.H=s===null||s.memoizedState===null?Sy:Gd),i}function Yu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return el(i);if(i.$$typeof===Z)return Kt(i)}throw Error(o(438,String(i)))}function xd(i){var s=null,a=be.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=zu(),be.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(i),u=0;u<i;u++)a[u]=x;return s.index++,a}function Ji(i,s){return typeof s=="function"?s(i):s}function Ku(i){var s=_t();return Dd(s,tt,i)}function Dd(i,s,a){var u=i.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var g=i.baseQueue,v=u.pending;if(v!==null){if(g!==null){var A=g.next;g.next=v.next,v.next=A}s.baseQueue=g=v,u.pending=null}if(v=i.baseState,g===null)i.memoizedState=v;else{s=g.next;var I=A=null,P=null,Y=s,W=!1;do{var ee=Y.lane&-536870913;if(ee!==Y.lane?(Ve&ee)===ee:(Ki&ee)===ee){var K=Y.revertLane;if(K===0)P!==null&&(P=P.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ee===Ir&&(W=!0);else if((Ki&K)===K){Y=Y.next,K===Ir&&(W=!0);continue}else ee={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(I=P=ee,A=v):P=P.next=ee,be.lanes|=K,Lo|=K;ee=Y.action,Ps&&a(v,ee),v=Y.hasEagerState?Y.eagerState:a(v,ee)}else K={lane:ee,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},P===null?(I=P=K,A=v):P=P.next=K,be.lanes|=ee,Lo|=ee;Y=Y.next}while(Y!==null&&Y!==s);if(P===null?A=v:P.next=I,!Sn(v,i.memoizedState)&&(bt=!0,W&&(a=wr,a!==null)))throw a;i.memoizedState=v,i.baseState=A,i.baseQueue=P,u.lastRenderedState=v}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Vd(i){var s=_t(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,v=s.memoizedState;if(g!==null){a.pending=null;var A=g=g.next;do v=i(v,A.action),A=A.next;while(A!==g);Sn(v,s.memoizedState)||(bt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function Gg(i,s,a){var u=be,g=_t(),v=Oe;if(v){if(a===void 0)throw Error(o(407));a=a()}else a=s();var A=!Sn((tt||g).memoizedState,a);if(A&&(g.memoizedState=a,bt=!0),g=g.queue,Ud(Yg.bind(null,u,g,i),[i]),g.getSnapshot!==s||A||Rt!==null&&Rt.memoizedState.tag&1){if(u.flags|=2048,Dr(9,{destroy:void 0},zg.bind(null,u,g,a,s),null),ot===null)throw Error(o(349));v||(Ki&127)!==0||Hg(u,s,a)}return a}function Hg(i,s,a){i.flags|=16384,i={getSnapshot:s,value:a},s=be.updateQueue,s===null?(s=zu(),be.updateQueue=s,s.stores=[i]):(a=s.stores,a===null?s.stores=[i]:a.push(i))}function zg(i,s,a,u){s.value=a,s.getSnapshot=u,Kg(s)&&Jg(i)}function Yg(i,s,a){return a(function(){Kg(s)&&Jg(i)})}function Kg(i){var s=i.getSnapshot;i=i.value;try{var a=s();return!Sn(i,a)}catch{return!0}}function Jg(i){var s=Is(i,2);s!==null&&vn(s,i,2)}function Pd(i){var s=ln();if(typeof i=="function"){var a=i;if(i=a(),Ps){Nn(!0);try{a()}finally{Nn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function $g(i,s,a,u){return i.baseState=a,Dd(i,tt,typeof u=="function"?u:Ji)}function E1(i,s,a,u,g){if(Qu(i))throw Error(o(485));if(i=s.action,i!==null){var v={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){v.listeners.push(A)}};X.T!==null?a(!0):v.isTransition=!1,u(v),a=s.pending,a===null?(v.next=s.pending=v,Qg(s,v)):(v.next=a.next,s.pending=a.next=v)}}function Qg(i,s){var a=s.action,u=s.payload,g=i.state;if(s.isTransition){var v=X.T,A={};X.T=A;try{var I=a(g,u),P=X.S;P!==null&&P(A,I),Xg(i,s,I)}catch(Y){kd(i,s,Y)}finally{v!==null&&A.types!==null&&(v.types=A.types),X.T=v}}else try{v=a(g,u),Xg(i,s,v)}catch(Y){kd(i,s,Y)}}function Xg(i,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Wg(i,s,u)},function(u){return kd(i,s,u)}):Wg(i,s,a)}function Wg(i,s,a){s.status="fulfilled",s.value=a,Zg(s),i.state=a,s=i.pending,s!==null&&(a=s.next,a===s?i.pending=null:(a=a.next,s.next=a,Qg(i,a)))}function kd(i,s,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,Zg(s),s=s.next;while(s!==u)}i.action=null}function Zg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function jg(i,s){return s}function ey(i,s){if(Oe){var a=ot.formState;if(a!==null){e:{var u=be;if(Oe){if(rt){t:{for(var g=rt,v=On;g.nodeType!==8;){if(!v){g=null;break t}if(g=Bn(g.nextSibling),g===null){g=null;break t}}v=g.data,g=v==="F!"||v==="F"?g:null}if(g){rt=Bn(g.nextSibling),u=g.data==="F!";break e}}bo(u)}u=!1}u&&(s=a[0])}}return a=ln(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:s},a.queue=u,a=_y.bind(null,be,u),u.dispatch=a,u=Pd(!1),v=Fd.bind(null,be,!1,u.queue),u=ln(),g={state:s,dispatch:null,action:i,pending:null},u.queue=g,a=E1.bind(null,be,g,v,a),g.dispatch=a,u.memoizedState=i,[s,a,!1]}function ty(i){var s=_t();return ny(s,tt,i)}function ny(i,s,a){if(s=Dd(i,s,jg)[0],i=Ku(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=el(s)}catch(A){throw A===Rr?Uu:A}else u=s;s=_t();var g=s.queue,v=g.dispatch;return a!==s.memoizedState&&(be.flags|=2048,Dr(9,{destroy:void 0},S1.bind(null,g,a),null)),[u,v,i]}function S1(i,s){i.action=s}function iy(i){var s=_t(),a=tt;if(a!==null)return ny(s,a,i);_t(),s=s.memoizedState,a=_t();var u=a.queue.dispatch;return a.memoizedState=i,[s,u,!1]}function Dr(i,s,a,u){return i={tag:i,create:a,deps:u,inst:s,next:null},s=be.updateQueue,s===null&&(s=zu(),be.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,s.lastEffect=i),i}function oy(){return _t().memoizedState}function Ju(i,s,a,u){var g=ln();be.flags|=i,g.memoizedState=Dr(1|s,{destroy:void 0},a,u===void 0?null:u)}function $u(i,s,a,u){var g=_t();u=u===void 0?null:u;var v=g.memoizedState.inst;tt!==null&&u!==null&&wd(u,tt.memoizedState.deps)?g.memoizedState=Dr(s,v,a,u):(be.flags|=i,g.memoizedState=Dr(1|s,v,a,u))}function sy(i,s){Ju(8390656,8,i,s)}function Ud(i,s){$u(2048,8,i,s)}function A1(i){be.flags|=4;var s=be.updateQueue;if(s===null)s=zu(),be.updateQueue=s,s.events=[i];else{var a=s.events;a===null?s.events=[i]:a.push(i)}}function ry(i){var s=_t().memoizedState;return A1({ref:s,nextImpl:i}),function(){if(($e&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function ay(i,s){return $u(4,2,i,s)}function ly(i,s){return $u(4,4,i,s)}function uy(i,s){if(typeof s=="function"){i=i();var a=s(i);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function cy(i,s,a){a=a!=null?a.concat([i]):null,$u(4,4,uy.bind(null,s,i),a)}function Ld(){}function fy(i,s){var a=_t();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&wd(s,u[1])?u[0]:(a.memoizedState=[i,s],i)}function dy(i,s){var a=_t();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&wd(s,u[1]))return u[0];if(u=i(),Ps){Nn(!0);try{i()}finally{Nn(!1)}}return a.memoizedState=[u,s],u}function Od(i,s,a){return a===void 0||(Ki&1073741824)!==0&&(Ve&261930)===0?i.memoizedState=s:(i.memoizedState=a,i=hv(),be.lanes|=i,Lo|=i,a)}function hy(i,s,a,u){return Sn(a,s)?a:Nr.current!==null?(i=Od(i,a,u),Sn(i,s)||(bt=!0),i):(Ki&42)===0||(Ki&1073741824)!==0&&(Ve&261930)===0?(bt=!0,i.memoizedState=a):(i=hv(),be.lanes|=i,Lo|=i,s)}function py(i,s,a,u,g){var v=ae.p;ae.p=v!==0&&8>v?v:8;var A=X.T,I={};X.T=I,Fd(i,!1,s,a);try{var P=g(),Y=X.S;if(Y!==null&&Y(I,P),P!==null&&typeof P=="object"&&typeof P.then=="function"){var W=v1(P,u);tl(i,s,W,bn(i))}else tl(i,s,u,bn(i))}catch(ee){tl(i,s,{then:function(){},status:"rejected",reason:ee},bn())}finally{ae.p=v,A!==null&&I.types!==null&&(A.types=I.types),X.T=A}}function C1(){}function qd(i,s,a,u){if(i.tag!==5)throw Error(o(476));var g=my(i).queue;py(i,g,s,_e,a===null?C1:function(){return gy(i),a(u)})}function my(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:_e},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:a},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function gy(i){var s=my(i);s.next===null&&(s=i.alternate.memoizedState),tl(i,s.next.queue,{},bn())}function Bd(){return Kt(vl)}function yy(){return _t().memoizedState}function vy(){return _t().memoizedState}function I1(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var a=bn();i=xo(a);var u=Do(s,i,a);u!==null&&(vn(u,s,a),Xa(u,s,a)),s={cache:md()},i.payload=s;return}s=s.return}}function w1(i,s,a){var u=bn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(i)?Ty(s,a):(a=od(i,s,a,u),a!==null&&(vn(a,i,u),Ey(a,s,u)))}function _y(i,s,a){var u=bn();tl(i,s,a,u)}function tl(i,s,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(i))Ty(s,g);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var A=s.lastRenderedState,I=v(A,a);if(g.hasEagerState=!0,g.eagerState=I,Sn(I,A))return Nu(i,s,g,0),ot===null&&bu(),!1}catch{}finally{}if(a=od(i,s,g,u),a!==null)return vn(a,i,u),Ey(a,s,u),!0}return!1}function Fd(i,s,a,u){if(u={lane:2,revertLane:_h(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Qu(i)){if(s)throw Error(o(479))}else s=od(i,a,u,2),s!==null&&vn(s,i,2)}function Qu(i){var s=i.alternate;return i===be||s!==null&&s===be}function Ty(i,s){Mr=Gu=!0;var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}function Ey(i,s,a){if((a&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,a|=u,s.lanes=a,Aa(i,a)}}var nl={readContext:Kt,use:Yu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};nl.useEffectEvent=pt;var Sy={readContext:Kt,use:Yu,useCallback:function(i,s){return ln().memoizedState=[i,s===void 0?null:s],i},useContext:Kt,useEffect:sy,useImperativeHandle:function(i,s,a){a=a!=null?a.concat([i]):null,Ju(4194308,4,uy.bind(null,s,i),a)},useLayoutEffect:function(i,s){return Ju(4194308,4,i,s)},useInsertionEffect:function(i,s){Ju(4,2,i,s)},useMemo:function(i,s){var a=ln();s=s===void 0?null:s;var u=i();if(Ps){Nn(!0);try{i()}finally{Nn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(i,s,a){var u=ln();if(a!==void 0){var g=a(s);if(Ps){Nn(!0);try{a(s)}finally{Nn(!1)}}}else g=s;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=w1.bind(null,be,i),[u.memoizedState,i]},useRef:function(i){var s=ln();return i={current:i},s.memoizedState=i},useState:function(i){i=Pd(i);var s=i.queue,a=_y.bind(null,be,s);return s.dispatch=a,[i.memoizedState,a]},useDebugValue:Ld,useDeferredValue:function(i,s){var a=ln();return Od(a,i,s)},useTransition:function(){var i=Pd(!1);return i=py.bind(null,be,i.queue,!0,!1),ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,a){var u=be,g=ln();if(Oe){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),ot===null)throw Error(o(349));(Ve&127)!==0||Hg(u,s,a)}g.memoizedState=a;var v={value:a,getSnapshot:s};return g.queue=v,sy(Yg.bind(null,u,v,i),[i]),u.flags|=2048,Dr(9,{destroy:void 0},zg.bind(null,u,v,a,s),null),a},useId:function(){var i=ln(),s=ot.identifierPrefix;if(Oe){var a=bi,u=Ri;a=(u&~(1<<32-gt(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Hu++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=_1++,s="_"+s+"r_"+a.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Bd,useFormState:ey,useActionState:ey,useOptimistic:function(i){var s=ln();s.memoizedState=s.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Fd.bind(null,be,!0,a),a.dispatch=s,[i,s]},useMemoCache:xd,useCacheRefresh:function(){return ln().memoizedState=I1.bind(null,be)},useEffectEvent:function(i){var s=ln(),a={impl:i};return s.memoizedState=a,function(){if(($e&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Gd={readContext:Kt,use:Yu,useCallback:fy,useContext:Kt,useEffect:Ud,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:Ku,useRef:oy,useState:function(){return Ku(Ji)},useDebugValue:Ld,useDeferredValue:function(i,s){var a=_t();return hy(a,tt.memoizedState,i,s)},useTransition:function(){var i=Ku(Ji)[0],s=_t().memoizedState;return[typeof i=="boolean"?i:el(i),s]},useSyncExternalStore:Gg,useId:yy,useHostTransitionStatus:Bd,useFormState:ty,useActionState:ty,useOptimistic:function(i,s){var a=_t();return $g(a,tt,i,s)},useMemoCache:xd,useCacheRefresh:vy};Gd.useEffectEvent=ry;var Ay={readContext:Kt,use:Yu,useCallback:fy,useContext:Kt,useEffect:Ud,useImperativeHandle:cy,useInsertionEffect:ay,useLayoutEffect:ly,useMemo:dy,useReducer:Vd,useRef:oy,useState:function(){return Vd(Ji)},useDebugValue:Ld,useDeferredValue:function(i,s){var a=_t();return tt===null?Od(a,i,s):hy(a,tt.memoizedState,i,s)},useTransition:function(){var i=Vd(Ji)[0],s=_t().memoizedState;return[typeof i=="boolean"?i:el(i),s]},useSyncExternalStore:Gg,useId:yy,useHostTransitionStatus:Bd,useFormState:iy,useActionState:iy,useOptimistic:function(i,s){var a=_t();return tt!==null?$g(a,tt,i,s):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:xd,useCacheRefresh:vy};Ay.useEffectEvent=ry;function Hd(i,s,a,u){s=i.memoizedState,a=a(u,s),a=a==null?s:T({},s,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var zd={enqueueSetState:function(i,s,a){i=i._reactInternals;var u=bn(),g=xo(u);g.payload=s,a!=null&&(g.callback=a),s=Do(i,g,u),s!==null&&(vn(s,i,u),Xa(s,i,u))},enqueueReplaceState:function(i,s,a){i=i._reactInternals;var u=bn(),g=xo(u);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=Do(i,g,u),s!==null&&(vn(s,i,u),Xa(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var a=bn(),u=xo(a);u.tag=2,s!=null&&(u.callback=s),s=Do(i,u,a),s!==null&&(vn(s,i,a),Xa(s,i,a))}};function Cy(i,s,a,u,g,v,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,v,A):s.prototype&&s.prototype.isPureReactComponent?!Ga(a,u)||!Ga(g,v):!0}function Iy(i,s,a,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==i&&zd.enqueueReplaceState(s,s.state,null)}function ks(i,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(i=i.defaultProps){a===s&&(a=T({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function wy(i){Ru(i)}function Ry(i){console.error(i)}function by(i){Ru(i)}function Xu(i,s){try{var a=i.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ny(i,s,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Yd(i,s,a){return a=xo(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(i,s)},a}function My(i){return i=xo(i),i.tag=3,i}function xy(i,s,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;i.payload=function(){return g(v)},i.callback=function(){Ny(s,a,u)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Ny(s,a,u),typeof g!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var I=u.stack;this.componentDidCatch(u.value,{componentStack:I!==null?I:""})})}function R1(i,s,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Cr(s,a,g,!0),a=Cn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?lc():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===Lu?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),gh(i,u,g)),!1;case 22:return a.flags|=65536,u===Lu?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),gh(i,u,g)),!1}throw Error(o(435,a.tag))}return gh(i,u,g),lc(),!1}if(Oe)return s=Cn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==cd&&(i=Error(o(422),{cause:u}),Ya(kn(i,a)))):(u!==cd&&(s=Error(o(423),{cause:u}),Ya(kn(s,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=kn(u,a),g=Yd(i.stateNode,u,g),Ed(i,g),mt!==4&&(mt=2)),!1;var v=Error(o(520),{cause:u});if(v=kn(v,a),cl===null?cl=[v]:cl.push(v),mt!==4&&(mt=2),s===null)return!0;u=kn(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Yd(a.stateNode,u,i),Ed(a,i),!1;case 1:if(s=a.type,v=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Oo===null||!Oo.has(v))))return a.flags|=65536,g&=-g,a.lanes|=g,g=My(g),xy(g,i,a,u),Ed(a,g),!1}a=a.return}while(a!==null);return!1}var Kd=Error(o(461)),bt=!1;function Jt(i,s,a,u){s.child=i===null?kg(s,null,a,u):Vs(s,i.child,a,u)}function Dy(i,s,a,u,g){a=a.render;var v=s.ref;if("ref"in u){var A={};for(var I in u)I!=="ref"&&(A[I]=u[I])}else A=u;return Ns(s),u=Rd(i,s,a,A,v,g),I=bd(),i!==null&&!bt?(Nd(i,s,g),$i(i,s,g)):(Oe&&I&&ld(s),s.flags|=1,Jt(i,s,u,g),s.child)}function Vy(i,s,a,u,g){if(i===null){var v=a.type;return typeof v=="function"&&!sd(v)&&v.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=v,Py(i,s,v,u,g)):(i=xu(a.type,null,u,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!eh(i,g)){var A=v.memoizedProps;if(a=a.compare,a=a!==null?a:Ga,a(A,u)&&i.ref===s.ref)return $i(i,s,g)}return s.flags|=1,i=Gi(v,u),i.ref=s.ref,i.return=s,s.child=i}function Py(i,s,a,u,g){if(i!==null){var v=i.memoizedProps;if(Ga(v,u)&&i.ref===s.ref)if(bt=!1,s.pendingProps=u=v,eh(i,g))(i.flags&131072)!==0&&(bt=!0);else return s.lanes=i.lanes,$i(i,s,g)}return Jd(i,s,a,u,g)}function ky(i,s,a,u){var g=u.children,v=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(v=v!==null?v.baseLanes|a:a,i!==null){for(u=s.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~v}else u=0,s.child=null;return Uy(i,s,v,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ku(s,v!==null?v.cachePool:null),v!==null?Og(s,v):Ad(),qg(s);else return u=s.lanes=536870912,Uy(i,s,v!==null?v.baseLanes|a:a,a,u)}else v!==null?(ku(s,v.cachePool),Og(s,v),Po(),s.memoizedState=null):(i!==null&&ku(s,null),Ad(),Po());return Jt(i,s,g,a),s.child}function il(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Uy(i,s,a,u,g){var v=yd();return v=v===null?null:{parent:wt._currentValue,pool:v},s.memoizedState={baseLanes:a,cachePool:v},i!==null&&ku(s,null),Ad(),qg(s),i!==null&&Cr(i,s,u,!0),s.childLanes=g,null}function Wu(i,s){return s=ju({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Ly(i,s,a){return Vs(s,i.child,null,a),i=Wu(s,s.pendingProps),i.flags|=2,In(s),s.memoizedState=null,i}function b1(i,s,a){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Oe){if(u.mode==="hidden")return i=Wu(s,u),s.lanes=536870912,il(null,i);if(Id(s),(i=rt)?(i=Qv(i,On),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wo!==null?{id:Ri,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Tg(i),a.return=s,s.child=a,Yt=s,rt=null)):i=null,i===null)throw bo(s);return s.lanes=536870912,null}return Wu(s,u)}var v=i.memoizedState;if(v!==null){var A=v.dehydrated;if(Id(s),g)if(s.flags&256)s.flags&=-257,s=Ly(i,s,a);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(o(558));else if(bt||Cr(i,s,a,!1),g=(a&i.childLanes)!==0,bt||g){if(u=ot,u!==null&&(A=Ca(u,a),A!==0&&A!==v.retryLane))throw v.retryLane=A,Is(i,A),vn(u,i,A),Kd;lc(),s=Ly(i,s,a)}else i=v.treeContext,rt=Bn(A.nextSibling),Yt=s,Oe=!0,Ro=null,On=!1,i!==null&&Ag(s,i),s=Wu(s,u),s.flags|=4096;return s}return i=Gi(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Zu(i,s){var a=s.ref;if(a===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(i===null||i.ref!==a)&&(s.flags|=4194816)}}function Jd(i,s,a,u,g){return Ns(s),a=Rd(i,s,a,u,void 0,g),u=bd(),i!==null&&!bt?(Nd(i,s,g),$i(i,s,g)):(Oe&&u&&ld(s),s.flags|=1,Jt(i,s,a,g),s.child)}function Oy(i,s,a,u,g,v){return Ns(s),s.updateQueue=null,a=Fg(s,u,a,g),Bg(i),u=bd(),i!==null&&!bt?(Nd(i,s,v),$i(i,s,v)):(Oe&&u&&ld(s),s.flags|=1,Jt(i,s,a,v),s.child)}function qy(i,s,a,u,g){if(Ns(s),s.stateNode===null){var v=Tr,A=a.contextType;typeof A=="object"&&A!==null&&(v=Kt(A)),v=new a(u,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=zd,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=u,v.state=s.memoizedState,v.refs={},_d(s),A=a.contextType,v.context=typeof A=="object"&&A!==null?Kt(A):Tr,v.state=s.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Hd(s,a,A,u),v.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(A=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),A!==v.state&&zd.enqueueReplaceState(v,v.state,null),Za(s,u,v,g),Wa(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){v=s.stateNode;var I=s.memoizedProps,P=ks(a,I);v.props=P;var Y=v.context,W=a.contextType;A=Tr,typeof W=="object"&&W!==null&&(A=Kt(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function",I=s.pendingProps!==I,W||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I||Y!==A)&&Iy(s,v,u,A),Mo=!1;var K=s.memoizedState;v.state=K,Za(s,u,v,g),Wa(),Y=s.memoizedState,I||K!==Y||Mo?(typeof ee=="function"&&(Hd(s,a,ee,u),Y=s.memoizedState),(P=Mo||Cy(s,a,P,u,K,Y,A))?(W||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=Y),v.props=u,v.state=Y,v.context=A,u=P):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{v=s.stateNode,Td(i,s),A=s.memoizedProps,W=ks(a,A),v.props=W,ee=s.pendingProps,K=v.context,Y=a.contextType,P=Tr,typeof Y=="object"&&Y!==null&&(P=Kt(Y)),I=a.getDerivedStateFromProps,(Y=typeof I=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(A!==ee||K!==P)&&Iy(s,v,u,P),Mo=!1,K=s.memoizedState,v.state=K,Za(s,u,v,g),Wa();var $=s.memoizedState;A!==ee||K!==$||Mo||i!==null&&i.dependencies!==null&&Vu(i.dependencies)?(typeof I=="function"&&(Hd(s,a,I,u),$=s.memoizedState),(W=Mo||Cy(s,a,W,u,K,$,P)||i!==null&&i.dependencies!==null&&Vu(i.dependencies))?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,$,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,$,P)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=$),v.props=u,v.state=$,v.context=P,u=W):(typeof v.componentDidUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(s.flags|=1024),u=!1)}return v=u,Zu(i,s),u=(s.flags&128)!==0,v||u?(v=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&u?(s.child=Vs(s,i.child,null,g),s.child=Vs(s,null,a,g)):Jt(i,s,a,g),s.memoizedState=v.state,i=s.child):i=$i(i,s,g),i}function By(i,s,a,u){return Rs(),s.flags|=256,Jt(i,s,a,u),s.child}var $d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(i){return{baseLanes:i,cachePool:Ng()}}function Xd(i,s,a){return i=i!==null?i.childLanes&~a:0,s&&(i|=Rn),i}function Fy(i,s,a){var u=s.pendingProps,g=!1,v=(s.flags&128)!==0,A;if((A=v)||(A=i!==null&&i.memoizedState===null?!1:(vt.current&2)!==0),A&&(g=!0,s.flags&=-129),A=(s.flags&32)!==0,s.flags&=-33,i===null){if(Oe){if(g?Vo(s):Po(),(i=rt)?(i=Qv(i,On),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:wo!==null?{id:Ri,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Tg(i),a.return=s,s.child=a,Yt=s,rt=null)):i=null,i===null)throw bo(s);return Dh(i)?s.lanes=32:s.lanes=536870912,null}var I=u.children;return u=u.fallback,g?(Po(),g=s.mode,I=ju({mode:"hidden",children:I},g),u=ws(u,g,a,null),I.return=s,u.return=s,I.sibling=u,s.child=I,u=s.child,u.memoizedState=Qd(a),u.childLanes=Xd(i,A,a),s.memoizedState=$d,il(null,u)):(Vo(s),Wd(s,I))}var P=i.memoizedState;if(P!==null&&(I=P.dehydrated,I!==null)){if(v)s.flags&256?(Vo(s),s.flags&=-257,s=Zd(i,s,a)):s.memoizedState!==null?(Po(),s.child=i.child,s.flags|=128,s=null):(Po(),I=u.fallback,g=s.mode,u=ju({mode:"visible",children:u.children},g),I=ws(I,g,a,null),I.flags|=2,u.return=s,I.return=s,u.sibling=I,s.child=u,Vs(s,i.child,null,a),u=s.child,u.memoizedState=Qd(a),u.childLanes=Xd(i,A,a),s.memoizedState=$d,s=il(null,u));else if(Vo(s),Dh(I)){if(A=I.nextSibling&&I.nextSibling.dataset,A)var Y=A.dgst;A=Y,u=Error(o(419)),u.stack="",u.digest=A,Ya({value:u,source:null,stack:null}),s=Zd(i,s,a)}else if(bt||Cr(i,s,a,!1),A=(a&i.childLanes)!==0,bt||A){if(A=ot,A!==null&&(u=Ca(A,a),u!==0&&u!==P.retryLane))throw P.retryLane=u,Is(i,u),vn(A,i,u),Kd;xh(I)||lc(),s=Zd(i,s,a)}else xh(I)?(s.flags|=192,s.child=i.child,s=null):(i=P.treeContext,rt=Bn(I.nextSibling),Yt=s,Oe=!0,Ro=null,On=!1,i!==null&&Ag(s,i),s=Wd(s,u.children),s.flags|=4096);return s}return g?(Po(),I=u.fallback,g=s.mode,P=i.child,Y=P.sibling,u=Gi(P,{mode:"hidden",children:u.children}),u.subtreeFlags=P.subtreeFlags&65011712,Y!==null?I=Gi(Y,I):(I=ws(I,g,a,null),I.flags|=2),I.return=s,u.return=s,u.sibling=I,s.child=u,il(null,u),u=s.child,I=i.child.memoizedState,I===null?I=Qd(a):(g=I.cachePool,g!==null?(P=wt._currentValue,g=g.parent!==P?{parent:P,pool:P}:g):g=Ng(),I={baseLanes:I.baseLanes|a,cachePool:g}),u.memoizedState=I,u.childLanes=Xd(i,A,a),s.memoizedState=$d,il(i.child,u)):(Vo(s),a=i.child,i=a.sibling,a=Gi(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,i!==null&&(A=s.deletions,A===null?(s.deletions=[i],s.flags|=16):A.push(i)),s.child=a,s.memoizedState=null,a)}function Wd(i,s){return s=ju({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function ju(i,s){return i=An(22,i,null,s),i.lanes=0,i}function Zd(i,s,a){return Vs(s,i.child,null,a),i=Wd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Gy(i,s,a){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),hd(i.return,s,a)}function jd(i,s,a,u,g,v){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:v}:(A.isBackwards=s,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=a,A.tailMode=g,A.treeForkCount=v)}function Hy(i,s,a){var u=s.pendingProps,g=u.revealOrder,v=u.tail;u=u.children;var A=vt.current,I=(A&2)!==0;if(I?(A=A&1|2,s.flags|=128):A&=1,ue(vt,A),Jt(i,s,u,a),u=Oe?za:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gy(i,a,s);else if(i.tag===19)Gy(i,a,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=s.child,g=null;a!==null;)i=a.alternate,i!==null&&Fu(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=s.child,s.child=null):(g=a.sibling,a.sibling=null),jd(s,!1,g,a,v,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&Fu(i)===null){s.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}jd(s,!0,a,null,v,u);break;case"together":jd(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function $i(i,s,a){if(i!==null&&(s.dependencies=i.dependencies),Lo|=s.lanes,(a&s.childLanes)===0)if(i!==null){if(Cr(i,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(o(153));if(s.child!==null){for(i=s.child,a=Gi(i,i.pendingProps),s.child=a,a.return=s;i.sibling!==null;)i=i.sibling,a=a.sibling=Gi(i,i.pendingProps),a.return=s;a.sibling=null}return s.child}function eh(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Vu(i)))}function N1(i,s,a){switch(s.tag){case 3:Pt(s,s.stateNode.containerInfo),No(s,wt,i.memoizedState.cache),Rs();break;case 27:case 5:as(s);break;case 4:Pt(s,s.stateNode.containerInfo);break;case 10:No(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Id(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Vo(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Fy(i,s,a):(Vo(s),i=$i(i,s,a),i!==null?i.sibling:null);Vo(s);break;case 19:var g=(i.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Cr(i,s,a,!1),u=(a&s.childLanes)!==0),g){if(u)return Hy(i,s,a);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ue(vt,vt.current),u)break;return null;case 22:return s.lanes=0,ky(i,s,a,s.pendingProps);case 24:No(s,wt,i.memoizedState.cache)}return $i(i,s,a)}function zy(i,s,a){if(i!==null)if(i.memoizedProps!==s.pendingProps)bt=!0;else{if(!eh(i,a)&&(s.flags&128)===0)return bt=!1,N1(i,s,a);bt=(i.flags&131072)!==0}else bt=!1,Oe&&(s.flags&1048576)!==0&&Sg(s,za,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=xs(s.elementType),s.type=i,typeof i=="function")sd(i)?(u=ks(i,u),s.tag=1,s=qy(null,s,i,u,a)):(s.tag=0,s=Jd(null,s,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===se){s.tag=11,s=Dy(null,s,i,u,a);break e}else if(g===w){s.tag=14,s=Vy(null,s,i,u,a);break e}}throw s=Le(i)||i,Error(o(306,s,""))}}return s;case 0:return Jd(i,s,s.type,s.pendingProps,a);case 1:return u=s.type,g=ks(u,s.pendingProps),qy(i,s,u,g,a);case 3:e:{if(Pt(s,s.stateNode.containerInfo),i===null)throw Error(o(387));u=s.pendingProps;var v=s.memoizedState;g=v.element,Td(i,s),Za(s,u,null,a);var A=s.memoizedState;if(u=A.cache,No(s,wt,u),u!==v.cache&&pd(s,[wt],a,!0),Wa(),u=A.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:A.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=By(i,s,u,a);break e}else if(u!==g){g=kn(Error(o(424)),s),Ya(g),s=By(i,s,u,a);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rt=Bn(i.firstChild),Yt=s,Oe=!0,Ro=null,On=!0,a=kg(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Rs(),u===g){s=$i(i,s,a);break e}Jt(i,s,u,a)}s=s.child}return s;case 26:return Zu(i,s),i===null?(a=t_(s.type,null,s.pendingProps,null))?s.memoizedState=a:Oe||(a=s.type,i=s.pendingProps,u=mc(Ne.current).createElement(a),u[At]=s,u[Ot]=i,$t(u,a,i),Ct(u),s.stateNode=u):s.memoizedState=t_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return as(s),i===null&&Oe&&(u=s.stateNode=Zv(s.type,s.pendingProps,Ne.current),Yt=s,On=!0,g=rt,Go(s.type)?(Vh=g,rt=Bn(u.firstChild)):rt=g),Jt(i,s,s.pendingProps.children,a),Zu(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Oe&&((g=u=rt)&&(u=sI(u,s.type,s.pendingProps,On),u!==null?(s.stateNode=u,Yt=s,rt=Bn(u.firstChild),On=!1,g=!0):g=!1),g||bo(s)),as(s),g=s.type,v=s.pendingProps,A=i!==null?i.memoizedProps:null,u=v.children,bh(g,v)?u=null:A!==null&&bh(g,A)&&(s.flags|=32),s.memoizedState!==null&&(g=Rd(i,s,T1,null,null,a),vl._currentValue=g),Zu(i,s),Jt(i,s,u,a),s.child;case 6:return i===null&&Oe&&((i=a=rt)&&(a=rI(a,s.pendingProps,On),a!==null?(s.stateNode=a,Yt=s,rt=null,i=!0):i=!1),i||bo(s)),null;case 13:return Fy(i,s,a);case 4:return Pt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Vs(s,null,u,a):Jt(i,s,u,a),s.child;case 11:return Dy(i,s,s.type,s.pendingProps,a);case 7:return Jt(i,s,s.pendingProps,a),s.child;case 8:return Jt(i,s,s.pendingProps.children,a),s.child;case 12:return Jt(i,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,No(s,s.type,u.value),Jt(i,s,u.children,a),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Ns(s),g=Kt(g),u=u(g),s.flags|=1,Jt(i,s,u,a),s.child;case 14:return Vy(i,s,s.type,s.pendingProps,a);case 15:return Py(i,s,s.type,s.pendingProps,a);case 19:return Hy(i,s,a);case 31:return b1(i,s,a);case 22:return ky(i,s,a,s.pendingProps);case 24:return Ns(s),u=Kt(wt),i===null?(g=yd(),g===null&&(g=ot,v=md(),g.pooledCache=v,v.refCount++,v!==null&&(g.pooledCacheLanes|=a),g=v),s.memoizedState={parent:u,cache:g},_d(s),No(s,wt,g)):((i.lanes&a)!==0&&(Td(i,s),Za(s,null,null,a),Wa()),g=i.memoizedState,v=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),No(s,wt,u)):(u=v.cache,No(s,wt,u),u!==g.cache&&pd(s,[wt],a,!0))),Jt(i,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Qi(i){i.flags|=4}function th(i,s,a,u,g){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(yv())i.flags|=8192;else throw Ds=Lu,vd}else i.flags&=-16777217}function Yy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!r_(s))if(yv())i.flags|=8192;else throw Ds=Lu,vd}function ec(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?ru():536870912,i.lanes|=s,Ur|=s)}function ol(i,s){if(!Oe)switch(i.tailMode){case"hidden":s=i.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function at(i){var s=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(s)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,s}function M1(i,s,a){var u=s.pendingProps;switch(ud(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(s),null;case 1:return at(s),null;case 3:return a=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Yi(wt),ut(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(Ar(s)?Qi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,fd())),at(s),null;case 26:var g=s.type,v=s.memoizedState;return i===null?(Qi(s),v!==null?(at(s),Yy(s,v)):(at(s),th(s,g,null,u,a))):v?v!==i.memoizedState?(Qi(s),at(s),Yy(s,v)):(at(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Qi(s),at(s),th(s,g,i,u,a)),null;case 27:if(tr(s),a=Ne.current,g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Qi(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return at(s),null}i=pe.current,Ar(s)?Cg(s):(i=Zv(g,u,a),s.stateNode=i,Qi(s))}return at(s),null;case 5:if(tr(s),g=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Qi(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return at(s),null}if(v=pe.current,Ar(s))Cg(s);else{var A=mc(Ne.current);switch(v){case 1:v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":v=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":v=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":v=A.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}v[At]=s,v[Ot]=u;e:for(A=s.child;A!==null;){if(A.tag===5||A.tag===6)v.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===s)break e;for(;A.sibling===null;){if(A.return===null||A.return===s)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}s.stateNode=v;e:switch($t(v,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qi(s)}}return at(s),th(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,a),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Qi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(i=Ne.current,Ar(s)){if(i=s.stateNode,a=s.memoizedProps,u=null,g=Yt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[At]=s,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Fv(i.nodeValue,a)),i||bo(s,!0)}else i=mc(i).createTextNode(u),i[At]=s,s.stateNode=i}return at(s),null;case 31:if(a=s.memoizedState,i===null||i.memoizedState!==null){if(u=Ar(s),a!==null){if(i===null){if(!u)throw Error(o(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(o(557));i[At]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),i=!1}else a=fd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return s.flags&256?(In(s),s):(In(s),null);if((s.flags&128)!==0)throw Error(o(558))}return at(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=Ar(s),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(o(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));g[At]=s}else Rs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;at(s),g=!1}else g=fd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?(In(s),s):(In(s),null)}return In(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==g&&(u.flags|=2048)),a!==i&&a&&(s.child.flags|=8192),ec(s,s.updateQueue),at(s),null);case 4:return ut(),i===null&&Ah(s.stateNode.containerInfo),at(s),null;case 10:return Yi(s.type),at(s),null;case 19:if(te(vt),u=s.memoizedState,u===null)return at(s),null;if(g=(s.flags&128)!==0,v=u.rendering,v===null)if(g)ol(u,!1);else{if(mt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=Fu(i),v!==null){for(s.flags|=128,ol(u,!1),i=v.updateQueue,s.updateQueue=i,ec(s,i),s.subtreeFlags=0,i=a,a=s.child;a!==null;)_g(a,i),a=a.sibling;return ue(vt,vt.current&1|2),Oe&&Hi(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&rn()>sc&&(s.flags|=128,g=!0,ol(u,!1),s.lanes=4194304)}else{if(!g)if(i=Fu(v),i!==null){if(s.flags|=128,g=!0,i=i.updateQueue,s.updateQueue=i,ec(s,i),ol(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!Oe)return at(s),null}else 2*rn()-u.renderingStartTime>sc&&a!==536870912&&(s.flags|=128,g=!0,ol(u,!1),s.lanes=4194304);u.isBackwards?(v.sibling=s.child,s.child=v):(i=u.last,i!==null?i.sibling=v:s.child=v,u.last=v)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=rn(),i.sibling=null,a=vt.current,ue(vt,g?a&1|2:a&1),Oe&&Hi(s,u.treeForkCount),i):(at(s),null);case 22:case 23:return In(s),Cd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(at(s),s.subtreeFlags&6&&(s.flags|=8192)):at(s),a=s.updateQueue,a!==null&&ec(s,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),i!==null&&te(Ms),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Yi(wt),at(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function x1(i,s){switch(ud(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Yi(wt),ut(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return tr(s),null;case 31:if(s.memoizedState!==null){if(In(s),s.alternate===null)throw Error(o(340));Rs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(In(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(o(340));Rs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return te(vt),null;case 4:return ut(),null;case 10:return Yi(s.type),null;case 22:case 23:return In(s),Cd(),i!==null&&te(Ms),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function Ky(i,s){switch(ud(s),s.tag){case 3:Yi(wt),ut();break;case 26:case 27:case 5:tr(s);break;case 4:ut();break;case 31:s.memoizedState!==null&&In(s);break;case 13:In(s);break;case 19:te(vt);break;case 10:Yi(s.type);break;case 22:case 23:In(s),Cd(),i!==null&&te(Ms);break;case 24:Yi(wt)}}function sl(i,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var v=a.create,A=a.inst;u=v(),A.destroy=u}a=a.next}while(a!==g)}}catch(I){je(s,s.return,I)}}function ko(i,s,a){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var v=g.next;u=v;do{if((u.tag&i)===i){var A=u.inst,I=A.destroy;if(I!==void 0){A.destroy=void 0,g=s;var P=a,Y=I;try{Y()}catch(W){je(g,P,W)}}}u=u.next}while(u!==v)}}catch(W){je(s,s.return,W)}}function Jy(i){var s=i.updateQueue;if(s!==null){var a=i.stateNode;try{Lg(s,a)}catch(u){je(i,i.return,u)}}}function $y(i,s,a){a.props=ks(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){je(i,s,u)}}function rl(i,s){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){je(i,s,g)}}function Ni(i,s){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){je(i,s,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){je(i,s,g)}else a.current=null}function Qy(i){var s=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){je(i,i.return,g)}}function nh(i,s,a){try{var u=i.stateNode;j1(u,i.type,a,s),u[Ot]=s}catch(g){je(i,i.return,g)}}function Xy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Go(i.type)||i.tag===4}function ih(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Xy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Go(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function oh(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(i),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Xn));else if(u!==4&&(u===27&&Go(i.type)&&(a=i.stateNode,s=null),i=i.child,i!==null))for(oh(i,s,a),i=i.sibling;i!==null;)oh(i,s,a),i=i.sibling}function tc(i,s,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?a.insertBefore(i,s):a.appendChild(i);else if(u!==4&&(u===27&&Go(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(tc(i,s,a),i=i.sibling;i!==null;)tc(i,s,a),i=i.sibling}function Wy(i){var s=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);$t(s,u,a),s[At]=i,s[Ot]=a}catch(v){je(i,i.return,v)}}var Xi=!1,Nt=!1,sh=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function D1(i,s){if(i=i.containerInfo,wh=Sc,i=cg(i),Zf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var A=0,I=-1,P=-1,Y=0,W=0,ee=i,K=null;t:for(;;){for(var $;ee!==a||g!==0&&ee.nodeType!==3||(I=A+g),ee!==v||u!==0&&ee.nodeType!==3||(P=A+u),ee.nodeType===3&&(A+=ee.nodeValue.length),($=ee.firstChild)!==null;)K=ee,ee=$;for(;;){if(ee===i)break t;if(K===a&&++Y===g&&(I=A),K===v&&++W===u&&(P=A),($=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=$}a=I===-1||P===-1?null:{start:I,end:P}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rh={focusedElem:i,selectionRange:a},Sc=!1,Bt=s;Bt!==null;)if(s=Bt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Bt=i;else for(;Bt!==null;){switch(s=Bt,v=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,a=s,g=v.memoizedProps,v=v.memoizedState,u=a.stateNode;try{var me=ks(a.type,g);i=u.getSnapshotBeforeUpdate(me,v),u.__reactInternalSnapshotBeforeUpdate=i}catch(Te){je(a,a.return,Te)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,a=i.nodeType,a===9)Mh(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Mh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(o(163))}if(i=s.sibling,i!==null){i.return=s.return,Bt=i;break}Bt=s.return}}function jy(i,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(i,a),u&4&&sl(5,a);break;case 1:if(Zi(i,a),u&4)if(i=a.stateNode,s===null)try{i.componentDidMount()}catch(A){je(a,a.return,A)}else{var g=ks(a.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(g,s,i.__reactInternalSnapshotBeforeUpdate)}catch(A){je(a,a.return,A)}}u&64&&Jy(a),u&512&&rl(a,a.return);break;case 3:if(Zi(i,a),u&64&&(i=a.updateQueue,i!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Lg(i,s)}catch(A){je(a,a.return,A)}}break;case 27:s===null&&u&4&&Wy(a);case 26:case 5:Zi(i,a),s===null&&u&4&&Qy(a),u&512&&rl(a,a.return);break;case 12:Zi(i,a);break;case 31:Zi(i,a),u&4&&nv(i,a);break;case 13:Zi(i,a),u&4&&iv(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=F1.bind(null,a),aI(i,a))));break;case 22:if(u=a.memoizedState!==null||Xi,!u){s=s!==null&&s.memoizedState!==null||Nt,g=Xi;var v=Nt;Xi=u,(Nt=s)&&!v?ji(i,a,(a.subtreeFlags&8772)!==0):Zi(i,a),Xi=g,Nt=v}break;case 30:break;default:Zi(i,a)}}function ev(i){var s=i.alternate;s!==null&&(i.alternate=null,ev(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&rr(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ft=null,pn=!1;function Wi(i,s,a){for(a=a.child;a!==null;)tv(i,s,a),a=a.sibling}function tv(i,s,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Kn,a)}catch{}switch(a.tag){case 26:Nt||Ni(a,s),Wi(i,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Ni(a,s);var u=ft,g=pn;Go(a.type)&&(ft=a.stateNode,pn=!1),Wi(i,s,a),ml(a.stateNode),ft=u,pn=g;break;case 5:Nt||Ni(a,s);case 6:if(u=ft,g=pn,ft=null,Wi(i,s,a),ft=u,pn=g,ft!==null)if(pn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(v){je(a,s,v)}else try{ft.removeChild(a.stateNode)}catch(v){je(a,s,v)}break;case 18:ft!==null&&(pn?(i=ft,Jv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),zr(i)):Jv(ft,a.stateNode));break;case 4:u=ft,g=pn,ft=a.stateNode.containerInfo,pn=!0,Wi(i,s,a),ft=u,pn=g;break;case 0:case 11:case 14:case 15:ko(2,a,s),Nt||ko(4,a,s),Wi(i,s,a);break;case 1:Nt||(Ni(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&$y(a,s,u)),Wi(i,s,a);break;case 21:Wi(i,s,a);break;case 22:Nt=(u=Nt)||a.memoizedState!==null,Wi(i,s,a),Nt=u;break;default:Wi(i,s,a)}}function nv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{zr(i)}catch(a){je(s,s.return,a)}}}function iv(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{zr(i)}catch(a){je(s,s.return,a)}}function V1(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new Zy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new Zy),s;default:throw Error(o(435,i.tag))}}function nc(i,s){var a=V1(i);s.forEach(function(u){if(!a.has(u)){a.add(u);var g=G1.bind(null,i,u);u.then(g,g)}})}function mn(i,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],v=i,A=s,I=A;e:for(;I!==null;){switch(I.tag){case 27:if(Go(I.type)){ft=I.stateNode,pn=!1;break e}break;case 5:ft=I.stateNode,pn=!1;break e;case 3:case 4:ft=I.stateNode.containerInfo,pn=!0;break e}I=I.return}if(ft===null)throw Error(o(160));tv(v,A,g),ft=null,pn=!1,v=g.alternate,v!==null&&(v.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)ov(s,i),s=s.sibling}var ni=null;function ov(i,s){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:mn(s,i),gn(i),u&4&&(ko(3,i,i.return),sl(3,i),ko(5,i,i.return));break;case 1:mn(s,i),gn(i),u&512&&(Nt||a===null||Ni(a,a.return)),u&64&&Xi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=ni;if(mn(s,i),gn(i),u&512&&(Nt||a===null||Ni(a,a.return)),u&4){var v=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":v=g.getElementsByTagName("title")[0],(!v||v[mi]||v[At]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=g.createElement(u),g.head.insertBefore(v,g.querySelector("head > title"))),$t(v,u,a),v[At]=i,Ct(v),u=v;break e;case"link":var A=o_("link","href",g).get(u+(a.href||""));if(A){for(var I=0;I<A.length;I++)if(v=A[I],v.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&v.getAttribute("rel")===(a.rel==null?null:a.rel)&&v.getAttribute("title")===(a.title==null?null:a.title)&&v.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(I,1);break t}}v=g.createElement(u),$t(v,u,a),g.head.appendChild(v);break;case"meta":if(A=o_("meta","content",g).get(u+(a.content||""))){for(I=0;I<A.length;I++)if(v=A[I],v.getAttribute("content")===(a.content==null?null:""+a.content)&&v.getAttribute("name")===(a.name==null?null:a.name)&&v.getAttribute("property")===(a.property==null?null:a.property)&&v.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&v.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(I,1);break t}}v=g.createElement(u),$t(v,u,a),g.head.appendChild(v);break;default:throw Error(o(468,u))}v[At]=i,Ct(v),u=v}i.stateNode=u}else s_(g,i.type,i.stateNode);else i.stateNode=i_(g,u,i.memoizedProps);else v!==u?(v===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):v.count--,u===null?s_(g,i.type,i.stateNode):i_(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&nh(i,i.memoizedProps,a.memoizedProps)}break;case 27:mn(s,i),gn(i),u&512&&(Nt||a===null||Ni(a,a.return)),a!==null&&u&4&&nh(i,i.memoizedProps,a.memoizedProps);break;case 5:if(mn(s,i),gn(i),u&512&&(Nt||a===null||Ni(a,a.return)),i.flags&32){g=i.stateNode;try{hn(g,"")}catch(me){je(i,i.return,me)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,nh(i,g,a!==null?a.memoizedProps:g)),u&1024&&(sh=!0);break;case 6:if(mn(s,i),gn(i),u&4){if(i.stateNode===null)throw Error(o(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(me){je(i,i.return,me)}}break;case 3:if(vc=null,g=ni,ni=gc(s.containerInfo),mn(s,i),ni=g,gn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{zr(s.containerInfo)}catch(me){je(i,i.return,me)}sh&&(sh=!1,sv(i));break;case 4:u=ni,ni=gc(i.stateNode.containerInfo),mn(s,i),gn(i),ni=u;break;case 12:mn(s,i),gn(i);break;case 31:mn(s,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,nc(i,u)));break;case 13:mn(s,i),gn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oc=rn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,nc(i,u)));break;case 22:g=i.memoizedState!==null;var P=a!==null&&a.memoizedState!==null,Y=Xi,W=Nt;if(Xi=Y||g,Nt=W||P,mn(s,i),Nt=W,Xi=Y,gn(i),u&8192)e:for(s=i.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(a===null||P||Xi||Nt||Us(i)),a=null,s=i;;){if(s.tag===5||s.tag===26){if(a===null){P=a=s;try{if(v=P.stateNode,g)A=v.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{I=P.stateNode;var ee=P.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;I.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){je(P,P.return,me)}}}else if(s.tag===6){if(a===null){P=s;try{P.stateNode.nodeValue=g?"":P.memoizedProps}catch(me){je(P,P.return,me)}}}else if(s.tag===18){if(a===null){P=s;try{var $=P.stateNode;g?$v($,!0):$v(P.stateNode,!1)}catch(me){je(P,P.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,nc(i,a))));break;case 19:mn(s,i),gn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,nc(i,u)));break;case 30:break;case 21:break;default:mn(s,i),gn(i)}}function gn(i){var s=i.flags;if(s&2){try{for(var a,u=i.return;u!==null;){if(Xy(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var g=a.stateNode,v=ih(i);tc(i,v,g);break;case 5:var A=a.stateNode;a.flags&32&&(hn(A,""),a.flags&=-33);var I=ih(i);tc(i,I,A);break;case 3:case 4:var P=a.stateNode.containerInfo,Y=ih(i);oh(i,Y,P);break;default:throw Error(o(161))}}catch(W){je(i,i.return,W)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function sv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;sv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Zi(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jy(i,s.alternate,s),s=s.sibling}function Us(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ko(4,s,s.return),Us(s);break;case 1:Ni(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&$y(s,s.return,a),Us(s);break;case 27:ml(s.stateNode);case 26:case 5:Ni(s,s.return),Us(s);break;case 22:s.memoizedState===null&&Us(s);break;case 30:Us(s);break;default:Us(s)}i=i.sibling}}function ji(i,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=i,v=s,A=v.flags;switch(v.tag){case 0:case 11:case 15:ji(g,v,a),sl(4,v);break;case 1:if(ji(g,v,a),u=v,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){je(u,u.return,Y)}if(u=v,g=u.updateQueue,g!==null){var I=u.stateNode;try{var P=g.shared.hiddenCallbacks;if(P!==null)for(g.shared.hiddenCallbacks=null,g=0;g<P.length;g++)Ug(P[g],I)}catch(Y){je(u,u.return,Y)}}a&&A&64&&Jy(v),rl(v,v.return);break;case 27:Wy(v);case 26:case 5:ji(g,v,a),a&&u===null&&A&4&&Qy(v),rl(v,v.return);break;case 12:ji(g,v,a);break;case 31:ji(g,v,a),a&&A&4&&nv(g,v);break;case 13:ji(g,v,a),a&&A&4&&iv(g,v);break;case 22:v.memoizedState===null&&ji(g,v,a),rl(v,v.return);break;case 30:break;default:ji(g,v,a)}s=s.sibling}}function rh(i,s){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Ka(a))}function ah(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ka(i))}function ii(i,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)rv(i,s,a,u),s=s.sibling}function rv(i,s,a,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ii(i,s,a,u),g&2048&&sl(9,s);break;case 1:ii(i,s,a,u);break;case 3:ii(i,s,a,u),g&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ka(i)));break;case 12:if(g&2048){ii(i,s,a,u),i=s.stateNode;try{var v=s.memoizedProps,A=v.id,I=v.onPostCommit;typeof I=="function"&&I(A,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(P){je(s,s.return,P)}}else ii(i,s,a,u);break;case 31:ii(i,s,a,u);break;case 13:ii(i,s,a,u);break;case 23:break;case 22:v=s.stateNode,A=s.alternate,s.memoizedState!==null?v._visibility&2?ii(i,s,a,u):al(i,s):v._visibility&2?ii(i,s,a,u):(v._visibility|=2,Vr(i,s,a,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&rh(A,s);break;case 24:ii(i,s,a,u),g&2048&&ah(s.alternate,s);break;default:ii(i,s,a,u)}}function Vr(i,s,a,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var v=i,A=s,I=a,P=u,Y=A.flags;switch(A.tag){case 0:case 11:case 15:Vr(v,A,I,P,g),sl(8,A);break;case 23:break;case 22:var W=A.stateNode;A.memoizedState!==null?W._visibility&2?Vr(v,A,I,P,g):al(v,A):(W._visibility|=2,Vr(v,A,I,P,g)),g&&Y&2048&&rh(A.alternate,A);break;case 24:Vr(v,A,I,P,g),g&&Y&2048&&ah(A.alternate,A);break;default:Vr(v,A,I,P,g)}s=s.sibling}}function al(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=i,u=s,g=u.flags;switch(u.tag){case 22:al(a,u),g&2048&&rh(u.alternate,u);break;case 24:al(a,u),g&2048&&ah(u.alternate,u);break;default:al(a,u)}s=s.sibling}}var ll=8192;function Pr(i,s,a){if(i.subtreeFlags&ll)for(i=i.child;i!==null;)av(i,s,a),i=i.sibling}function av(i,s,a){switch(i.tag){case 26:Pr(i,s,a),i.flags&ll&&i.memoizedState!==null&&_I(a,ni,i.memoizedState,i.memoizedProps);break;case 5:Pr(i,s,a);break;case 3:case 4:var u=ni;ni=gc(i.stateNode.containerInfo),Pr(i,s,a),ni=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=ll,ll=16777216,Pr(i,s,a),ll=u):Pr(i,s,a));break;default:Pr(i,s,a)}}function lv(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function ul(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Bt=u,cv(u,i)}lv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)uv(i),i=i.sibling}function uv(i){switch(i.tag){case 0:case 11:case 15:ul(i),i.flags&2048&&ko(9,i,i.return);break;case 3:ul(i);break;case 12:ul(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,ic(i)):ul(i);break;default:ul(i)}}function ic(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];Bt=u,cv(u,i)}lv(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ko(8,s,s.return),ic(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,ic(s));break;default:ic(s)}i=i.sibling}}function cv(i,s){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:ko(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ka(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Bt=u;else e:for(a=i;Bt!==null;){u=Bt;var g=u.sibling,v=u.return;if(ev(u),u===a){Bt=null;break e}if(g!==null){g.return=v,Bt=g;break e}Bt=v}}}var P1={getCacheForType:function(i){var s=Kt(wt),a=s.data.get(i);return a===void 0&&(a=i(),s.data.set(i,a)),a},cacheSignal:function(){return Kt(wt).controller.signal}},k1=typeof WeakMap=="function"?WeakMap:Map,$e=0,ot=null,xe=null,Ve=0,Ze=0,wn=null,Uo=!1,kr=!1,lh=!1,eo=0,mt=0,Lo=0,Ls=0,uh=0,Rn=0,Ur=0,cl=null,yn=null,ch=!1,oc=0,fv=0,sc=1/0,rc=null,Oo=null,Ut=0,qo=null,Lr=null,to=0,fh=0,dh=null,dv=null,fl=0,hh=null;function bn(){return($e&2)!==0&&Ve!==0?Ve&-Ve:X.T!==null?_h():au()}function hv(){if(Rn===0)if((Ve&536870912)===0||Oe){var i=cs;cs<<=1,(cs&3932160)===0&&(cs=262144),Rn=i}else Rn=536870912;return i=Cn.current,i!==null&&(i.flags|=32),Rn}function vn(i,s,a){(i===ot&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)&&(Or(i,0),Bo(i,Ve,Rn,!1)),fs(i,a),(($e&2)===0||i!==ot)&&(i===ot&&(($e&2)===0&&(Ls|=a),mt===4&&Bo(i,Ve,Rn,!1)),Mi(i))}function pv(i,s,a){if(($e&6)!==0)throw Error(o(327));var u=!a&&(s&127)===0&&(s&i.expiredLanes)===0||Jn(i,s),g=u?O1(i,s):mh(i,s,!0),v=u;do{if(g===0){kr&&!u&&Bo(i,s,0,!1);break}else{if(a=i.current.alternate,v&&!U1(a)){g=mh(i,s,!1),v=!1;continue}if(g===2){if(v=s,i.errorRecoveryDisabledLanes&v)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){s=A;e:{var I=i;g=cl;var P=I.current.memoizedState.isDehydrated;if(P&&(Or(I,A).flags|=256),A=mh(I,A,!1),A!==2){if(lh&&!P){I.errorRecoveryDisabledLanes|=v,Ls|=v,g=4;break e}v=yn,yn=g,v!==null&&(yn===null?yn=v:yn.push.apply(yn,v))}g=A}if(v=!1,g!==2)continue}}if(g===1){Or(i,0),Bo(i,s,0,!0);break}e:{switch(u=i,v=g,v){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Bo(u,s,Rn,!Uo);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(g=oc+300-rn(),10<g)){if(Bo(u,s,Rn,!Uo),di(u,0,!0)!==0)break e;to=s,u.timeoutHandle=Yv(mv.bind(null,u,a,yn,rc,ch,s,Rn,Ls,Ur,Uo,v,"Throttled",-0,0),g);break e}mv(u,a,yn,rc,ch,s,Rn,Ls,Ur,Uo,v,null,-0,0)}}break}while(!0);Mi(i)}function mv(i,s,a,u,g,v,A,I,P,Y,W,ee,K,$){if(i.timeoutHandle=-1,ee=s.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xn},av(s,v,ee);var me=(v&62914560)===v?oc-rn():(v&4194048)===v?fv-rn():0;if(me=TI(ee,me),me!==null){to=v,i.cancelPendingCommit=me(Av.bind(null,i,s,v,a,u,g,A,I,P,W,ee,null,K,$)),Bo(i,v,A,!Y);return}}Av(i,s,v,a,u,g,A,I,P)}function U1(i){for(var s=i;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],v=g.getSnapshot;g=g.value;try{if(!Sn(v(),g))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bo(i,s,a,u){s&=~uh,s&=~Ls,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var g=s;0<g;){var v=31-gt(g),A=1<<v;u[v]=-1,g&=~A}a!==0&&ds(i,a,s)}function ac(){return($e&6)===0?(dl(0),!1):!0}function ph(){if(xe!==null){if(Ze===0)var i=xe.return;else i=xe,zi=bs=null,Md(i),br=null,$a=0,i=xe;for(;i!==null;)Ky(i.alternate,i),i=i.return;xe=null}}function Or(i,s){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,nI(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),to=0,ph(),ot=i,xe=a=Gi(i.current,null),Ve=s,Ze=0,wn=null,Uo=!1,kr=Jn(i,s),lh=!1,Ur=Rn=uh=Ls=Lo=mt=0,yn=cl=null,ch=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var g=31-gt(u),v=1<<g;s|=i[g],u&=~v}return eo=s,bu(),a}function gv(i,s){be=null,X.H=nl,s===Rr||s===Uu?(s=Dg(),Ze=3):s===vd?(s=Dg(),Ze=4):Ze=s===Kd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,wn=s,xe===null&&(mt=1,Xu(i,kn(s,i.current)))}function yv(){var i=Cn.current;return i===null?!0:(Ve&4194048)===Ve?qn===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?i===qn:!1}function vv(){var i=X.H;return X.H=nl,i===null?nl:i}function _v(){var i=X.A;return X.A=P1,i}function lc(){mt=4,Uo||(Ve&4194048)!==Ve&&Cn.current!==null||(kr=!0),(Lo&134217727)===0&&(Ls&134217727)===0||ot===null||Bo(ot,Ve,Rn,!1)}function mh(i,s,a){var u=$e;$e|=2;var g=vv(),v=_v();(ot!==i||Ve!==s)&&(rc=null,Or(i,s)),s=!1;var A=mt;e:do try{if(Ze!==0&&xe!==null){var I=xe,P=wn;switch(Ze){case 8:ph(),A=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(s=!0);var Y=Ze;if(Ze=0,wn=null,qr(i,I,P,Y),a&&kr){A=0;break e}break;default:Y=Ze,Ze=0,wn=null,qr(i,I,P,Y)}}L1(),A=mt;break}catch(W){gv(i,W)}while(!0);return s&&i.shellSuspendCounter++,zi=bs=null,$e=u,X.H=g,X.A=v,xe===null&&(ot=null,Ve=0,bu()),A}function L1(){for(;xe!==null;)Tv(xe)}function O1(i,s){var a=$e;$e|=2;var u=vv(),g=_v();ot!==i||Ve!==s?(rc=null,sc=rn()+500,Or(i,s)):kr=Jn(i,s);e:do try{if(Ze!==0&&xe!==null){s=xe;var v=wn;t:switch(Ze){case 1:Ze=0,wn=null,qr(i,s,v,1);break;case 2:case 9:if(Mg(v)){Ze=0,wn=null,Ev(s);break}s=function(){Ze!==2&&Ze!==9||ot!==i||(Ze=7),Mi(i)},v.then(s,s);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Mg(v)?(Ze=0,wn=null,Ev(s)):(Ze=0,wn=null,qr(i,s,v,7));break;case 5:var A=null;switch(xe.tag){case 26:A=xe.memoizedState;case 5:case 27:var I=xe;if(A?r_(A):I.stateNode.complete){Ze=0,wn=null;var P=I.sibling;if(P!==null)xe=P;else{var Y=I.return;Y!==null?(xe=Y,uc(Y)):xe=null}break t}}Ze=0,wn=null,qr(i,s,v,5);break;case 6:Ze=0,wn=null,qr(i,s,v,6);break;case 8:ph(),mt=6;break e;default:throw Error(o(462))}}q1();break}catch(W){gv(i,W)}while(!0);return zi=bs=null,X.H=u,X.A=g,$e=a,xe!==null?0:(ot=null,Ve=0,bu(),mt)}function q1(){for(;xe!==null&&!Yf();)Tv(xe)}function Tv(i){var s=zy(i.alternate,i,eo);i.memoizedProps=i.pendingProps,s===null?uc(i):xe=s}function Ev(i){var s=i,a=s.alternate;switch(s.tag){case 15:case 0:s=Oy(a,s,s.pendingProps,s.type,void 0,Ve);break;case 11:s=Oy(a,s,s.pendingProps,s.type.render,s.ref,Ve);break;case 5:Md(s);default:Ky(a,s),s=xe=_g(s,eo),s=zy(a,s,eo)}i.memoizedProps=i.pendingProps,s===null?uc(i):xe=s}function qr(i,s,a,u){zi=bs=null,Md(s),br=null,$a=0;var g=s.return;try{if(R1(i,g,s,a,Ve)){mt=1,Xu(i,kn(a,i.current)),xe=null;return}}catch(v){if(g!==null)throw xe=g,v;mt=1,Xu(i,kn(a,i.current)),xe=null;return}s.flags&32768?(Oe||u===1?i=!0:kr||(Ve&536870912)!==0?i=!1:(Uo=i=!0,(u===2||u===9||u===3||u===6)&&(u=Cn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Sv(s,i)):uc(s)}function uc(i){var s=i;do{if((s.flags&32768)!==0){Sv(s,Uo);return}i=s.return;var a=M1(s.alternate,s,eo);if(a!==null){xe=a;return}if(s=s.sibling,s!==null){xe=s;return}xe=s=i}while(s!==null);mt===0&&(mt=5)}function Sv(i,s){do{var a=x1(i.alternate,i);if(a!==null){a.flags&=32767,xe=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(i=i.sibling,i!==null)){xe=i;return}xe=i=a}while(i!==null);mt=6,xe=null}function Av(i,s,a,u,g,v,A,I,P){i.cancelPendingCommit=null;do cc();while(Ut!==0);if(($e&6)!==0)throw Error(o(327));if(s!==null){if(s===i.current)throw Error(o(177));if(v=s.lanes|s.childLanes,v|=id,$f(i,a,v,A,I,P),i===ot&&(xe=ot=null,Ve=0),Lr=s,qo=i,to=a,fh=v,dh=g,dv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,H1(go,function(){return bv(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,g=ae.p,ae.p=2,A=$e,$e|=4;try{D1(i,s,a)}finally{$e=A,ae.p=g,X.T=u}}Ut=1,Cv(),Iv(),wv()}}function Cv(){if(Ut===1){Ut=0;var i=qo,s=Lr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var u=ae.p;ae.p=2;var g=$e;$e|=4;try{ov(s,i);var v=Rh,A=cg(i.containerInfo),I=v.focusedElem,P=v.selectionRange;if(A!==I&&I&&I.ownerDocument&&ug(I.ownerDocument.documentElement,I)){if(P!==null&&Zf(I)){var Y=P.start,W=P.end;if(W===void 0&&(W=Y),"selectionStart"in I)I.selectionStart=Y,I.selectionEnd=Math.min(W,I.value.length);else{var ee=I.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var $=K.getSelection(),me=I.textContent.length,Te=Math.min(P.start,me),it=P.end===void 0?Te:Math.min(P.end,me);!$.extend&&Te>it&&(A=it,it=Te,Te=A);var G=lg(I,Te),O=lg(I,it);if(G&&O&&($.rangeCount!==1||$.anchorNode!==G.node||$.anchorOffset!==G.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var z=ee.createRange();z.setStart(G.node,G.offset),$.removeAllRanges(),Te>it?($.addRange(z),$.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),$.addRange(z))}}}}for(ee=[],$=I;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ee.length;I++){var j=ee[I];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}Sc=!!wh,Rh=wh=null}finally{$e=g,ae.p=u,X.T=a}}i.current=s,Ut=2}}function Iv(){if(Ut===2){Ut=0;var i=qo,s=Lr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var u=ae.p;ae.p=2;var g=$e;$e|=4;try{jy(i,s.alternate,s)}finally{$e=g,ae.p=u,X.T=a}}Ut=3}}function wv(){if(Ut===4||Ut===3){Ut=0,eu();var i=qo,s=Lr,a=to,u=dv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ut=5:(Ut=0,Lr=qo=null,Rv(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Oo=null),Oi(a),s=s.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Kn,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=X.T,g=ae.p,ae.p=2,X.T=null;try{for(var v=i.onRecoverableError,A=0;A<u.length;A++){var I=u[A];v(I.value,{componentStack:I.stack})}}finally{X.T=s,ae.p=g}}(to&3)!==0&&cc(),Mi(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===hh?fl++:(fl=0,hh=i):fl=0,dl(0)}}function Rv(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ka(s)))}function cc(){return Cv(),Iv(),wv(),bv()}function bv(){if(Ut!==5)return!1;var i=qo,s=fh;fh=0;var a=Oi(to),u=X.T,g=ae.p;try{ae.p=32>a?32:a,X.T=null,a=dh,dh=null;var v=qo,A=to;if(Ut=0,Lr=qo=null,to=0,($e&6)!==0)throw Error(o(331));var I=$e;if($e|=4,uv(v.current),rv(v,v.current,A,a),$e=I,dl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Kn,v)}catch{}return!0}finally{ae.p=g,X.T=u,Rv(i,s)}}function Nv(i,s,a){s=kn(a,s),s=Yd(i.stateNode,s,2),i=Do(i,s,2),i!==null&&(fs(i,2),Mi(i))}function je(i,s,a){if(i.tag===3)Nv(i,i,a);else for(;s!==null;){if(s.tag===3){Nv(s,i,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oo===null||!Oo.has(u))){i=kn(a,i),a=My(2),u=Do(s,a,2),u!==null&&(xy(a,u,s,i),fs(u,2),Mi(u));break}}s=s.return}}function gh(i,s,a){var u=i.pingCache;if(u===null){u=i.pingCache=new k1;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(a)||(lh=!0,g.add(a),i=B1.bind(null,i,s,a),s.then(i,i))}function B1(i,s,a){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,ot===i&&(Ve&a)===a&&(mt===4||mt===3&&(Ve&62914560)===Ve&&300>rn()-oc?($e&2)===0&&Or(i,0):uh|=a,Ur===Ve&&(Ur=0)),Mi(i)}function Mv(i,s){s===0&&(s=ru()),i=Is(i,s),i!==null&&(fs(i,s),Mi(i))}function F1(i){var s=i.memoizedState,a=0;s!==null&&(a=s.retryLane),Mv(i,a)}function G1(i,s){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),Mv(i,a)}function H1(i,s){return kt(i,s)}var fc=null,Br=null,yh=!1,dc=!1,vh=!1,Fo=0;function Mi(i){i!==Br&&i.next===null&&(Br===null?fc=Br=i:Br=Br.next=i),dc=!0,yh||(yh=!0,Y1())}function dl(i,s){if(!vh&&dc){vh=!0;do for(var a=!1,u=fc;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var v=0;else{var A=u.suspendedLanes,I=u.pingedLanes;v=(1<<31-gt(42|i)+1)-1,v&=g&~(A&~I),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(a=!0,Pv(u,v))}else v=Ve,v=di(u,u===ot?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||Jn(u,v)||(a=!0,Pv(u,v));u=u.next}while(a);vh=!1}}function z1(){xv()}function xv(){dc=yh=!1;var i=0;Fo!==0&&tI()&&(i=Fo);for(var s=rn(),a=null,u=fc;u!==null;){var g=u.next,v=Dv(u,s);v===0?(u.next=null,a===null?fc=g:a.next=g,g===null&&(Br=a)):(a=u,(i!==0||(v&3)!==0)&&(dc=!0)),u=g}Ut!==0&&Ut!==5||dl(i),Fo!==0&&(Fo=0)}function Dv(i,s){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var A=31-gt(v),I=1<<A,P=g[A];P===-1?((I&a)===0||(I&u)!==0)&&(g[A]=Jf(I,s)):P<=s&&(i.expiredLanes|=I),v&=~I}if(s=ot,a=Ve,a=di(i,i===s?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===s&&(Ze===2||Ze===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&mo(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Jn(i,a)){if(s=a&-a,s===i.callbackPriority)return s;switch(u!==null&&mo(u),Oi(a)){case 2:case 8:a=Sa;break;case 32:a=go;break;case 268435456:a=tu;break;default:a=go}return u=Vv.bind(null,i),a=kt(a,u),i.callbackPriority=s,i.callbackNode=a,s}return u!==null&&u!==null&&mo(u),i.callbackPriority=2,i.callbackNode=null,2}function Vv(i,s){if(Ut!==0&&Ut!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(cc()&&i.callbackNode!==a)return null;var u=Ve;return u=di(i,i===ot?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(pv(i,u,s),Dv(i,rn()),i.callbackNode!=null&&i.callbackNode===a?Vv.bind(null,i):null)}function Pv(i,s){if(cc())return null;pv(i,s,!0)}function Y1(){iI(function(){($e&6)!==0?kt(Ea,z1):xv()})}function _h(){if(Fo===0){var i=Ir;i===0&&(i=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Fo=i}return Fo}function kv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:cr(""+i)}function Uv(i,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,i.id&&a.setAttribute("form",i.id),s.parentNode.insertBefore(a,s),i=new FormData(i),a.parentNode.removeChild(a),i}function K1(i,s,a,u,g){if(s==="submit"&&a&&a.stateNode===g){var v=kv((g[Ot]||null).action),A=u.submitter;A&&(s=(s=A[Ot]||null)?kv(s.formAction):A.getAttribute("formAction"),s!==null&&(v=s,A=null));var I=new Ai("action","action",null,u,g);i.push({event:I,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Fo!==0){var P=A?Uv(g,A):new FormData(g);qd(a,{pending:!0,data:P,method:g.method,action:v},null,P)}}else typeof v=="function"&&(I.preventDefault(),P=A?Uv(g,A):new FormData(g),qd(a,{pending:!0,data:P,method:g.method,action:v},v,P))},currentTarget:g}]})}}for(var Th=0;Th<nd.length;Th++){var Eh=nd[Th],J1=Eh.toLowerCase(),$1=Eh[0].toUpperCase()+Eh.slice(1);ti(J1,"on"+$1)}ti(hg,"onAnimationEnd"),ti(pg,"onAnimationIteration"),ti(mg,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(c1,"onTransitionRun"),ti(f1,"onTransitionStart"),ti(d1,"onTransitionCancel"),ti(gg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Lv(i,s){s=(s&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var A=u.length-1;0<=A;A--){var I=u[A],P=I.instance,Y=I.currentTarget;if(I=I.listener,P!==v&&g.isPropagationStopped())break e;v=I,g.currentTarget=Y;try{v(g)}catch(W){Ru(W)}g.currentTarget=null,v=P}else for(A=0;A<u.length;A++){if(I=u[A],P=I.instance,Y=I.currentTarget,I=I.listener,P!==v&&g.isPropagationStopped())break e;v=I,g.currentTarget=Y;try{v(g)}catch(W){Ru(W)}g.currentTarget=null,v=P}}}}function De(i,s){var a=s[sr];a===void 0&&(a=s[sr]=new Set);var u=i+"__bubble";a.has(u)||(Ov(s,i,2,!1),a.add(u))}function Sh(i,s,a){var u=0;s&&(u|=4),Ov(a,i,u,s)}var hc="_reactListening"+Math.random().toString(36).slice(2);function Ah(i){if(!i[hc]){i[hc]=!0,Ia.forEach(function(a){a!=="selectionchange"&&(Q1.has(a)||Sh(a,!1,i),Sh(a,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[hc]||(s[hc]=!0,Sh("selectionchange",!1,s))}}function Ov(i,s,a,u){switch(h_(s)){case 2:var g=AI;break;case 8:g=CI;break;default:g=Oh}a=g.bind(null,s,a,i),g=void 0,!ys||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(s,a,{capture:!0,passive:g}):i.addEventListener(s,a,!0):g!==void 0?i.addEventListener(s,a,{passive:g}):i.addEventListener(s,a,!1)}function Ch(i,s,a,u,g){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var I=u.stateNode.containerInfo;if(I===g)break;if(A===4)for(A=u.return;A!==null;){var P=A.tag;if((P===3||P===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;I!==null;){if(A=gi(I),A===null)return;if(P=A.tag,P===5||P===6||P===26||P===27){u=v=A;continue e}I=I.parentNode}}u=u.return}So(function(){var Y=v,W=xn(a),ee=[];e:{var K=yg.get(i);if(K!==void 0){var $=Ai,me=i;switch(i){case"keypress":if(_s(a)===0)break e;case"keydown":case"keyup":$=Cu;break;case"focusin":me="focus",$=Es;break;case"focusout":me="blur",$=Es;break;case"beforeblur":case"afterblur":$=Es;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=E;break;case hg:case pg:case mg:$=yu;break;case gg:$=b;break;case"scroll":case"scrollend":$=La;break;case"wheel":$=J;break;case"copy":case"cut":case"paste":$=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Fi;break;case"toggle":case"beforetoggle":$=Re}var Te=(s&4)!==0,it=!Te&&(i==="scroll"||i==="scrollend"),G=Te?K!==null?K+"Capture":null:K;Te=[];for(var O=Y,z;O!==null;){var j=O;if(z=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||z===null||G===null||(j=Wn(O,G),j!=null&&Te.push(pl(O,j,z))),it)break;O=O.return}0<Te.length&&(K=new $(K,me,null,a,W),ee.push({event:K,listeners:Te}))}}if((s&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&a!==Pa&&(me=a.relatedTarget||a.fromElement)&&(gi(me)||me[pi]))break e;if(($||K)&&(K=W.window===W?W:(K=W.ownerDocument)?K.defaultView||K.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=Y,me=me?gi(me):null,me!==null&&(it=l(me),Te=me.tag,me!==it||Te!==5&&Te!==27&&Te!==6)&&(me=null)):($=null,me=Y),$!==me)){if(Te=Oa,j="onMouseLeave",G="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(Te=Fi,j="onPointerLeave",G="onPointerEnter",O="pointer"),it=$==null?K:Tn($),z=me==null?K:Tn(me),K=new Te(j,O+"leave",$,a,W),K.target=it,K.relatedTarget=z,j=null,gi(W)===Y&&(Te=new Te(G,O+"enter",me,a,W),Te.target=z,Te.relatedTarget=it,j=Te),it=j,$&&me)t:{for(Te=X1,G=$,O=me,z=0,j=G;j;j=Te(j))z++;j=0;for(var ye=O;ye;ye=Te(ye))j++;for(;0<z-j;)G=Te(G),z--;for(;0<j-z;)O=Te(O),j--;for(;z--;){if(G===O||O!==null&&G===O.alternate){Te=G;break t}G=Te(G),O=Te(O)}Te=null}else Te=null;$!==null&&qv(ee,K,$,Te,!1),me!==null&&it!==null&&qv(ee,it,me,Te,!0)}}e:{if(K=Y?Tn(Y):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var ze=ng;else if(eg(K))if(ig)ze=a1;else{ze=s1;var ge=o1}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&ur(Y.elementType)&&(ze=ng):ze=r1;if(ze&&(ze=ze(i,Y))){tg(ee,ze,a,W);break e}ge&&ge(i,K,Y),i==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&xa(K,"number",K.value)}switch(ge=Y?Tn(Y):window,i){case"focusin":(eg(ge)||ge.contentEditable==="true")&&(yr=ge,jf=Y,Ha=null);break;case"focusout":Ha=jf=yr=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,fg(ee,a,W);break;case"selectionchange":if(u1)break;case"keydown":case"keyup":fg(ee,a,W)}var Me;if(Je)e:{switch(i){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else gr?Ss(i,a)&&(Pe="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(wi&&a.locale!=="ko"&&(gr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&gr&&(Me=Ua()):(Si=W,ka="value"in Si?Si.value:Si.textContent,gr=!0)),ge=pc(Y,Pe),0<ge.length&&(Pe=new Ii(Pe,i,null,a,W),ee.push({event:Pe,listeners:ge}),Me?Pe.data=Me:(Me=mr(a),Me!==null&&(Pe.data=Me)))),(Me=Vn?e1(i,a):t1(i,a))&&(Pe=pc(Y,"onBeforeInput"),0<Pe.length&&(ge=new Ii("onBeforeInput","beforeinput",null,a,W),ee.push({event:ge,listeners:Pe}),ge.data=Me)),K1(ee,i,Y,a,W)}Lv(ee,s)})}function pl(i,s,a){return{instance:i,listener:s,currentTarget:a}}function pc(i,s){for(var a=s+"Capture",u=[];i!==null;){var g=i,v=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||v===null||(g=Wn(i,a),g!=null&&u.unshift(pl(i,g,v)),g=Wn(i,s),g!=null&&u.push(pl(i,g,v))),i.tag===3)return u;i=i.return}return[]}function X1(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qv(i,s,a,u,g){for(var v=s._reactName,A=[];a!==null&&a!==u;){var I=a,P=I.alternate,Y=I.stateNode;if(I=I.tag,P!==null&&P===u)break;I!==5&&I!==26&&I!==27||Y===null||(P=Y,g?(Y=Wn(a,v),Y!=null&&A.unshift(pl(a,Y,P))):g||(Y=Wn(a,v),Y!=null&&A.push(pl(a,Y,P)))),a=a.return}A.length!==0&&i.push({event:s,listeners:A})}var W1=/\r\n?/g,Z1=/\u0000|\uFFFD/g;function Bv(i){return(typeof i=="string"?i:""+i).replace(W1,`
`).replace(Z1,"")}function Fv(i,s){return s=Bv(s),Bv(i)===s}function nt(i,s,a,u,g,v){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||hn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&hn(i,""+u);break;case"className":En(i,"class",u);break;case"tabIndex":En(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":En(i,a,u);break;case"style":Va(i,u,v);break;case"data":if(s!=="object"){En(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=cr(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(a==="formAction"?(s!=="input"&&nt(i,s,"name",g.name,g,null),nt(i,s,"formEncType",g.formEncType,g,null),nt(i,s,"formMethod",g.formMethod,g,null),nt(i,s,"formTarget",g.formTarget,g,null)):(nt(i,s,"encType",g.encType,g,null),nt(i,s,"method",g.method,g,null),nt(i,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=cr(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=Xn);break;case"onScroll":u!=null&&De("scroll",i);break;case"onScrollEnd":u!=null&&De("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(o(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=cr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":De("beforetoggle",i),De("toggle",i),ar(i,"popover",u);break;case"xlinkActuate":It(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":It(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":It(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":It(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":It(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":It(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":It(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":It(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":It(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ar(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,ar(i,a,u))}}function Ih(i,s,a,u,g,v){switch(a){case"style":Va(i,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(o(60));i.innerHTML=a}}break;case"children":typeof u=="string"?hn(i,u):(typeof u=="number"||typeof u=="bigint")&&hn(i,""+u);break;case"onScroll":u!=null&&De("scroll",i);break;case"onScrollEnd":u!=null&&De("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Xn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),s=a.slice(2,g?a.length-7:void 0),v=i[Ot]||null,v=v!=null?v[a]:null,typeof v=="function"&&i.removeEventListener(s,v,g),typeof u=="function")){typeof v!="function"&&v!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(s,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):ar(i,a,u)}}}function $t(i,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",i),De("load",i);var u=!1,g=!1,v;for(v in a)if(a.hasOwnProperty(v)){var A=a[v];if(A!=null)switch(v){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:nt(i,s,v,A,a,null)}}g&&nt(i,s,"srcSet",a.srcSet,a,null),u&&nt(i,s,"src",a.src,a,null);return;case"input":De("invalid",i);var I=v=A=g=null,P=null,Y=null;for(u in a)if(a.hasOwnProperty(u)){var W=a[u];if(W!=null)switch(u){case"name":g=W;break;case"type":A=W;break;case"checked":P=W;break;case"defaultChecked":Y=W;break;case"value":v=W;break;case"defaultValue":I=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(o(137,s));break;default:nt(i,s,u,W,a,null)}}fu(i,v,I,P,Y,A,g,!1);return;case"select":De("invalid",i),u=A=v=null;for(g in a)if(a.hasOwnProperty(g)&&(I=a[g],I!=null))switch(g){case"value":v=I;break;case"defaultValue":A=I;break;case"multiple":u=I;default:nt(i,s,g,I,a,null)}s=v,a=A,i.multiple=!!u,s!=null?vo(i,!!u,s,!1):a!=null&&vo(i,!!u,a,!0);return;case"textarea":De("invalid",i),v=g=u=null;for(A in a)if(a.hasOwnProperty(A)&&(I=a[A],I!=null))switch(A){case"value":u=I;break;case"defaultValue":g=I;break;case"children":v=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(o(91));break;default:nt(i,s,A,I,a,null)}_o(i,u,g,v);return;case"option":for(P in a)if(a.hasOwnProperty(P)&&(u=a[P],u!=null))switch(P){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:nt(i,s,P,u,a,null)}return;case"dialog":De("beforetoggle",i),De("toggle",i),De("cancel",i),De("close",i);break;case"iframe":case"object":De("load",i);break;case"video":case"audio":for(u=0;u<hl.length;u++)De(hl[u],i);break;case"image":De("error",i),De("load",i);break;case"details":De("toggle",i);break;case"embed":case"source":case"link":De("error",i),De("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(u=a[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:nt(i,s,Y,u,a,null)}return;default:if(ur(s)){for(W in a)a.hasOwnProperty(W)&&(u=a[W],u!==void 0&&Ih(i,s,W,u,a,void 0));return}}for(I in a)a.hasOwnProperty(I)&&(u=a[I],u!=null&&nt(i,s,I,u,a,null))}function j1(i,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,v=null,A=null,I=null,P=null,Y=null,W=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":P=ee;default:u.hasOwnProperty($)||nt(i,s,$,null,u,ee)}}for(var K in u){var $=u[K];if(ee=a[K],u.hasOwnProperty(K)&&($!=null||ee!=null))switch(K){case"type":v=$;break;case"name":g=$;break;case"checked":Y=$;break;case"defaultChecked":W=$;break;case"value":A=$;break;case"defaultValue":I=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,s));break;default:$!==ee&&nt(i,s,K,$,u,ee)}}lr(i,A,I,P,Y,W,v,g);return;case"select":$=A=I=K=null;for(v in a)if(P=a[v],a.hasOwnProperty(v)&&P!=null)switch(v){case"value":break;case"multiple":$=P;default:u.hasOwnProperty(v)||nt(i,s,v,null,u,P)}for(g in u)if(v=u[g],P=a[g],u.hasOwnProperty(g)&&(v!=null||P!=null))switch(g){case"value":K=v;break;case"defaultValue":I=v;break;case"multiple":A=v;default:v!==P&&nt(i,s,g,v,u,P)}s=I,a=A,u=$,K!=null?vo(i,!!a,K,!1):!!u!=!!a&&(s!=null?vo(i,!!a,s,!0):vo(i,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(I in a)if(g=a[I],a.hasOwnProperty(I)&&g!=null&&!u.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:nt(i,s,I,null,u,g)}for(A in u)if(g=u[A],v=a[A],u.hasOwnProperty(A)&&(g!=null||v!=null))switch(A){case"value":K=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(o(91));break;default:g!==v&&nt(i,s,A,g,u,v)}du(i,K,$);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!u.hasOwnProperty(me))switch(me){case"selected":i.selected=!1;break;default:nt(i,s,me,null,u,K)}for(P in u)if(K=u[P],$=a[P],u.hasOwnProperty(P)&&K!==$&&(K!=null||$!=null))switch(P){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:nt(i,s,P,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!u.hasOwnProperty(Te)&&nt(i,s,Te,null,u,K);for(Y in u)if(K=u[Y],$=a[Y],u.hasOwnProperty(Y)&&K!==$&&(K!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,s));break;default:nt(i,s,Y,K,u,$)}return;default:if(ur(s)){for(var it in a)K=a[it],a.hasOwnProperty(it)&&K!==void 0&&!u.hasOwnProperty(it)&&Ih(i,s,it,void 0,u,K);for(W in u)K=u[W],$=a[W],!u.hasOwnProperty(W)||K===$||K===void 0&&$===void 0||Ih(i,s,W,K,u,$);return}}for(var G in a)K=a[G],a.hasOwnProperty(G)&&K!=null&&!u.hasOwnProperty(G)&&nt(i,s,G,null,u,K);for(ee in u)K=u[ee],$=a[ee],!u.hasOwnProperty(ee)||K===$||K==null&&$==null||nt(i,s,ee,K,u,$)}function Gv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function eI(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],v=g.transferSize,A=g.initiatorType,I=g.duration;if(v&&I&&Gv(A)){for(A=0,I=g.responseEnd,u+=1;u<a.length;u++){var P=a[u],Y=P.startTime;if(Y>I)break;var W=P.transferSize,ee=P.initiatorType;W&&Gv(ee)&&(P=P.responseEnd,A+=W*(P<I?1:(I-Y)/(P-Y)))}if(--u,s+=8*(v+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var wh=null,Rh=null;function mc(i){return i.nodeType===9?i:i.ownerDocument}function Hv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function zv(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function bh(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Nh=null;function tI(){var i=window.event;return i&&i.type==="popstate"?i===Nh?!1:(Nh=i,!0):(Nh=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,nI=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,iI=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(i){return Kv.resolve(null).then(i).catch(oI)}:Yv;function oI(i){setTimeout(function(){throw i})}function Go(i){return i==="head"}function Jv(i,s){var a=s,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),zr(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")ml(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,ml(a);for(var v=a.firstChild;v;){var A=v.nextSibling,I=v.nodeName;v[mi]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=A}}else a==="body"&&ml(i.ownerDocument.body);a=g}while(a);zr(s)}function $v(i,s){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function Mh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Mh(a),rr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function sI(i,s,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[mi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=Bn(i.nextSibling),i===null)break}return null}function rI(i,s,a){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=Bn(i.nextSibling),i===null))return null;return i}function Qv(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Bn(i.nextSibling),i===null))return null;return i}function xh(i){return i.data==="$?"||i.data==="$~"}function Dh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function aI(i,s){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Bn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Vh=null;function Xv(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(s===0)return Bn(i.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}i=i.nextSibling}return null}function Wv(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return i;s--}else a!=="/$"&&a!=="/&"||s++}i=i.previousSibling}return null}function Zv(i,s,a){switch(s=mc(a),i){case"html":if(i=s.documentElement,!i)throw Error(o(452));return i;case"head":if(i=s.head,!i)throw Error(o(453));return i;case"body":if(i=s.body,!i)throw Error(o(454));return i;default:throw Error(o(451))}}function ml(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);rr(i)}var Fn=new Map,jv=new Set;function gc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var no=ae.d;ae.d={f:lI,r:uI,D:cI,C:fI,L:dI,m:hI,X:mI,S:pI,M:gI};function lI(){var i=no.f(),s=ac();return i||s}function uI(i){var s=Mn(i);s!==null&&s.tag===5&&s.type==="form"?gy(s):no.r(i)}var Fr=typeof document>"u"?null:document;function e_(i,s,a){var u=Fr;if(u&&typeof s=="string"&&s){var g=dn(s);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),jv.has(g)||(jv.add(g),i={rel:i,crossOrigin:a,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),$t(s,"link",i),Ct(s),u.head.appendChild(s)))}}function cI(i){no.D(i),e_("dns-prefetch",i,null)}function fI(i,s){no.C(i,s),e_("preconnect",i,s)}function dI(i,s,a){no.L(i,s,a);var u=Fr;if(u&&i&&s){var g='link[rel="preload"][as="'+dn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+dn(a.imageSizes)+'"]')):g+='[href="'+dn(i)+'"]';var v=g;switch(s){case"style":v=Gr(i);break;case"script":v=Hr(i)}Fn.has(v)||(i=T({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:i,as:s},a),Fn.set(v,i),u.querySelector(g)!==null||s==="style"&&u.querySelector(gl(v))||s==="script"&&u.querySelector(yl(v))||(s=u.createElement("link"),$t(s,"link",i),Ct(s),u.head.appendChild(s)))}}function hI(i,s){no.m(i,s);var a=Fr;if(a&&i){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+dn(u)+'"][href="'+dn(i)+'"]',v=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Hr(i)}if(!Fn.has(v)&&(i=T({rel:"modulepreload",href:i},s),Fn.set(v,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(yl(v)))return}u=a.createElement("link"),$t(u,"link",i),Ct(u),a.head.appendChild(u)}}}function pI(i,s,a){no.S(i,s,a);var u=Fr;if(u&&i){var g=yi(u).hoistableStyles,v=Gr(i);s=s||"default";var A=g.get(v);if(!A){var I={loading:0,preload:null};if(A=u.querySelector(gl(v)))I.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":s},a),(a=Fn.get(v))&&Ph(i,a);var P=A=u.createElement("link");Ct(P),$t(P,"link",i),P._p=new Promise(function(Y,W){P.onload=Y,P.onerror=W}),P.addEventListener("load",function(){I.loading|=1}),P.addEventListener("error",function(){I.loading|=2}),I.loading|=4,yc(A,s,u)}A={type:"stylesheet",instance:A,count:1,state:I},g.set(v,A)}}}function mI(i,s){no.X(i,s);var a=Fr;if(a&&i){var u=yi(a).hoistableScripts,g=Hr(i),v=u.get(g);v||(v=a.querySelector(yl(g)),v||(i=T({src:i,async:!0},s),(s=Fn.get(g))&&kh(i,s),v=a.createElement("script"),Ct(v),$t(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function gI(i,s){no.M(i,s);var a=Fr;if(a&&i){var u=yi(a).hoistableScripts,g=Hr(i),v=u.get(g);v||(v=a.querySelector(yl(g)),v||(i=T({src:i,async:!0,type:"module"},s),(s=Fn.get(g))&&kh(i,s),v=a.createElement("script"),Ct(v),$t(v,"link",i),a.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(g,v))}}function t_(i,s,a,u){var g=(g=Ne.current)?gc(g):null;if(!g)throw Error(o(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Gr(a.href),a=yi(g).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Gr(a.href);var v=yi(g).hoistableStyles,A=v.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,A),(v=g.querySelector(gl(i)))&&!v._p&&(A.instance=v,A.state.loading=5),Fn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(i,a),v||yI(g,i,a,A.state))),s&&u===null)throw Error(o(528,""));return A}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Hr(a),a=yi(g).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,i))}}function Gr(i){return'href="'+dn(i)+'"'}function gl(i){return'link[rel="stylesheet"]['+i+"]"}function n_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function yI(i,s,a,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),$t(s,"link",a),Ct(s),i.head.appendChild(s))}function Hr(i){return'[src="'+dn(i)+'"]'}function yl(i){return"script[async]"+i}function i_(i,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+dn(a.href)+'"]');if(u)return s.instance=u,Ct(u),u;var g=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Ct(u),$t(u,"style",g),yc(u,a.precedence,i),s.instance=u;case"stylesheet":g=Gr(a.href);var v=i.querySelector(gl(g));if(v)return s.state.loading|=4,s.instance=v,Ct(v),v;u=n_(a),(g=Fn.get(g))&&Ph(u,g),v=(i.ownerDocument||i).createElement("link"),Ct(v);var A=v;return A._p=new Promise(function(I,P){A.onload=I,A.onerror=P}),$t(v,"link",u),s.state.loading|=4,yc(v,a.precedence,i),s.instance=v;case"script":return v=Hr(a.src),(g=i.querySelector(yl(v)))?(s.instance=g,Ct(g),g):(u=a,(g=Fn.get(v))&&(u=T({},a),kh(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Ct(g),$t(g,"link",u),i.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,yc(u,a.precedence,i));return s.instance}function yc(i,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,v=g,A=0;A<u.length;A++){var I=u[A];if(I.dataset.precedence===s)v=I;else if(v!==g)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(i,s.firstChild))}function Ph(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function kh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var vc=null;function o_(i,s,a){if(vc===null){var u=new Map,g=vc=new Map;g.set(a,u)}else g=vc,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var v=a[g];if(!(v[mi]||v[At]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var A=v.getAttribute(s)||"";A=i+A;var I=u.get(A);I?I.push(v):u.set(A,[v])}}return u}function s_(i,s,a){i=i.ownerDocument||i,i.head.insertBefore(a,s==="title"?i.querySelector("head > title"):null)}function vI(i,s,a){if(a===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function r_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function _I(i,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Gr(u.href),v=s.querySelector(gl(g));if(v){s=v._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=_c.bind(i),s.then(i,i)),a.state.loading|=4,a.instance=v,Ct(v);return}v=s.ownerDocument||s,u=n_(u),(g=Fn.get(g))&&Ph(u,g),v=v.createElement("link"),Ct(v);var A=v;A._p=new Promise(function(I,P){A.onload=I,A.onerror=P}),$t(v,"link",u),a.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=_c.bind(i),s.addEventListener("load",a),s.addEventListener("error",a))}}var Uh=0;function TI(i,s){return i.stylesheets&&i.count===0&&Ec(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&Ec(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+s);0<i.imgBytes&&Uh===0&&(Uh=62500*eI());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ec(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>Uh?50:800)+s);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Tc=null;function Ec(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Tc=new Map,s.forEach(EI,i),Tc=null,_c.call(i))}function EI(i,s){if(!(s.state.loading&4)){var a=Tc.get(i);if(a)var u=a.get(null);else{a=new Map,Tc.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<g.length;v++){var A=g[v];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),u=A)}u&&a.set(null,u)}g=s.instance,A=g.getAttribute("data-precedence"),v=a.get(A)||u,v===u&&a.set(null,g),a.set(A,g),this.count++,u=_c.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),v?v.parentNode.insertBefore(g,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),s.state.loading|=4}}var vl={$$typeof:Z,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function SI(i,s,a,u,g,v,A,I,P){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=v,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function a_(i,s,a,u,g,v,A,I,P,Y,W,ee){return i=new SI(i,s,a,A,P,Y,W,ee,I),s=1,v===!0&&(s|=24),v=An(3,null,null,s),i.current=v,v.stateNode=i,s=md(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:u,isDehydrated:a,cache:s},_d(v),i}function l_(i){return i?(i=Tr,i):Tr}function u_(i,s,a,u,g,v){g=l_(g),u.context===null?u.context=g:u.pendingContext=g,u=xo(s),u.payload={element:a},v=v===void 0?null:v,v!==null&&(u.callback=v),a=Do(i,u,s),a!==null&&(vn(a,i,s),Xa(a,i,s))}function c_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<s?a:s}}function Lh(i,s){c_(i,s),(i=i.alternate)&&c_(i,s)}function f_(i){if(i.tag===13||i.tag===31){var s=Is(i,67108864);s!==null&&vn(s,i,67108864),Lh(i,67108864)}}function d_(i){if(i.tag===13||i.tag===31){var s=bn();s=hs(s);var a=Is(i,s);a!==null&&vn(a,i,s),Lh(i,s)}}var Sc=!0;function AI(i,s,a,u){var g=X.T;X.T=null;var v=ae.p;try{ae.p=2,Oh(i,s,a,u)}finally{ae.p=v,X.T=g}}function CI(i,s,a,u){var g=X.T;X.T=null;var v=ae.p;try{ae.p=8,Oh(i,s,a,u)}finally{ae.p=v,X.T=g}}function Oh(i,s,a,u){if(Sc){var g=qh(u);if(g===null)Ch(i,s,u,Ac,a),p_(i,u);else if(wI(g,i,s,a,u))u.stopPropagation();else if(p_(i,u),s&4&&-1<II.indexOf(i)){for(;g!==null;){var v=Mn(g);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var A=fi(v.pendingLanes);if(A!==0){var I=v;for(I.pendingLanes|=2,I.entangledLanes|=2;A;){var P=1<<31-gt(A);I.entanglements[1]|=P,A&=~P}Mi(v),($e&6)===0&&(sc=rn()+500,dl(0))}}break;case 31:case 13:I=Is(v,2),I!==null&&vn(I,v,2),ac(),Lh(v,2)}if(v=qh(u),v===null&&Ch(i,s,u,Ac,a),v===g)break;g=v}g!==null&&u.stopPropagation()}else Ch(i,s,u,null,a)}}function qh(i){return i=xn(i),Bh(i)}var Ac=null;function Bh(i){if(Ac=null,i=gi(i),i!==null){var s=l(i);if(s===null)i=null;else{var a=s.tag;if(a===13){if(i=c(s),i!==null)return i;i=null}else if(a===31){if(i=d(s),i!==null)return i;i=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Ac=i,null}function h_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(us()){case Ea:return 2;case Sa:return 8;case go:case Kf:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Fh=!1,Ho=null,zo=null,Yo=null,_l=new Map,Tl=new Map,Ko=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p_(i,s){switch(i){case"focusin":case"focusout":Ho=null;break;case"dragenter":case"dragleave":zo=null;break;case"mouseover":case"mouseout":Yo=null;break;case"pointerover":case"pointerout":_l.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(s.pointerId)}}function El(i,s,a,u,g,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[g]},s!==null&&(s=Mn(s),s!==null&&f_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function wI(i,s,a,u,g){switch(s){case"focusin":return Ho=El(Ho,i,s,a,u,g),!0;case"dragenter":return zo=El(zo,i,s,a,u,g),!0;case"mouseover":return Yo=El(Yo,i,s,a,u,g),!0;case"pointerover":var v=g.pointerId;return _l.set(v,El(_l.get(v)||null,i,s,a,u,g)),!0;case"gotpointercapture":return v=g.pointerId,Tl.set(v,El(Tl.get(v)||null,i,s,a,u,g)),!0}return!1}function m_(i){var s=gi(i.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){i.blockedOn=s,$n(i.priority,function(){d_(a)});return}}else if(s===31){if(s=d(a),s!==null){i.blockedOn=s,$n(i.priority,function(){d_(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Cc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var a=qh(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);Pa=u,a.target.dispatchEvent(u),Pa=null}else return s=Mn(a),s!==null&&f_(s),i.blockedOn=a,!1;s.shift()}return!0}function g_(i,s,a){Cc(i)&&a.delete(s)}function RI(){Fh=!1,Ho!==null&&Cc(Ho)&&(Ho=null),zo!==null&&Cc(zo)&&(zo=null),Yo!==null&&Cc(Yo)&&(Yo=null),_l.forEach(g_),Tl.forEach(g_)}function Ic(i,s){i.blockedOn===s&&(i.blockedOn=null,Fh||(Fh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,RI)))}var wc=null;function y_(i){wc!==i&&(wc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wc===i&&(wc=null);for(var s=0;s<i.length;s+=3){var a=i[s],u=i[s+1],g=i[s+2];if(typeof u!="function"){if(Bh(u||a)===null)continue;break}var v=Mn(a);v!==null&&(i.splice(s,3),s-=3,qd(v,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function zr(i){function s(P){return Ic(P,i)}Ho!==null&&Ic(Ho,i),zo!==null&&Ic(zo,i),Yo!==null&&Ic(Yo,i),_l.forEach(s),Tl.forEach(s);for(var a=0;a<Ko.length;a++){var u=Ko[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Ko.length&&(a=Ko[0],a.blockedOn===null);)m_(a),a.blockedOn===null&&Ko.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],v=a[u+1],A=g[Ot]||null;if(typeof v=="function")A||y_(a);else if(A){var I=null;if(v&&v.hasAttribute("formAction")){if(g=v,A=v[Ot]||null)I=A.formAction;else if(Bh(g)!==null)continue}else I=A.action;typeof I=="function"?a[u+1]=I:(a.splice(u,3),u-=3),y_(a)}}}function v_(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Gh(i){this._internalRoot=i}Rc.prototype.render=Gh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,u=bn();u_(a,u,i,s,null,null)},Rc.prototype.unmount=Gh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;u_(i.current,2,null,i,null,null),ac(),s[pi]=null}};function Rc(i){this._internalRoot=i}Rc.prototype.unstable_scheduleHydration=function(i){if(i){var s=au();i={blockedOn:null,target:i,priority:s};for(var a=0;a<Ko.length&&s!==0&&s<Ko[a].priority;a++);Ko.splice(a,0,i),a===0&&m_(i)}};var __=e.version;if(__!=="19.2.3")throw Error(o(527,__,"19.2.3"));ae.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(o(188)):(i=Object.keys(i).join(","),Error(o(268,i)));return i=p(s),i=i!==null?_(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Kn=bc.inject(bI),Ht=bc}catch{}}return Al.createRoot=function(i,s){if(!r(i))throw Error(o(299));var a=!1,u="",g=wy,v=Ry,A=by;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(A=s.onRecoverableError)),s=a_(i,1,!1,null,null,a,u,null,g,v,A,v_),i[pi]=s.current,Ah(i),new Gh(s)},Al.hydrateRoot=function(i,s,a){if(!r(i))throw Error(o(299));var u=!1,g="",v=wy,A=Ry,I=by,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(v=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(I=a.onRecoverableError),a.formState!==void 0&&(P=a.formState)),s=a_(i,1,!0,s,a??null,u,g,P,v,A,I,v_),s.context=l_(null),a=s.current,u=bn(),u=hs(u),g=xo(u),g.callback=null,Do(a,g,u),a=u,s.current.lanes=a,fs(s,a),Mi(s),i[pi]=s.current,Ah(i),new Rc(s)},Al.version="19.2.3",Al}var N_;function OI(){if(N_)return Yh.exports;N_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yh.exports=LI(),Yh.exports}var qI=OI();const BI=GE(qI);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zE=(...t)=>t.filter((e,n,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=en.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:o,className:r="",children:l,iconNode:c,...d},y)=>en.createElement("svg",{ref:y,...GI,width:e,height:e,stroke:t,strokeWidth:o?Number(n)*24/Number(e):n,className:zE("lucide",r),...d},[...c.map(([p,_])=>en.createElement(p,_)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(t,e)=>{const n=en.forwardRef(({className:o,...r},l)=>en.createElement(HI,{ref:l,iconNode:e,className:zE(`lucide-${FI(t)}`,o),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=qe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=qe("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=qe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=qe("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=qe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=qe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=qe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=qe("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=qe("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=qe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=qe("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=qe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=qe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=qe("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=qe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=qe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=qe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=qe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=qe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=qe("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=qe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=qe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=qe("ShieldPlus",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=qe("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=qe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=qe("Syringe",[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=qe("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=qe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=qe("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=qe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=qe("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=qe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=qe("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=qe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=qe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Xr=[{id:"examide",name:"Examide 20 mg",dosage:" ",timeSlot:"morning-fasting",notes:"  -   ",isCritical:!1,frequencyLabel:"7:00 ",category:"other"},{id:"norvasc",name:"Norvasc 10 mg",dosage:" ",timeSlot:"morning-fasting",notes:" ",isCritical:!1,frequencyLabel:"7:00 ",category:"pressure"},{id:"contorloc",name:"Contorloc 40 mg",dosage:" ",timeSlot:"morning-fasting",notes:" ",isCritical:!1,frequencyLabel:"7:00 ",category:"stomach"},{id:"corvid",name:"Corvid 6.25 mg",dosage:" ",timeSlot:"morning-fasting",notes:"  ",isCritical:!1,frequencyLabel:"7:00 ",category:"pressure"},{id:"aldomet-1",name:"Aldomet 250 mg",dosage:"",timeSlot:"after-breakfast",notes:"  ( 8 )",isCritical:!1,frequencyLabel:"9:00 ",category:"pressure"},{id:"eliquis-1",name:"Eliquis 2.5 mg",dosage:" ",timeSlot:"after-breakfast",notes:"  -  ",isCritical:!0,frequencyLabel:"9:00 ",category:"blood-thinner"},{id:"acetyl-1",name:"Acetyl Cysteine",dosage:" ",timeSlot:"after-breakfast",notes:" ",isCritical:!1,frequencyLabel:"9:00 ",category:"other"},{id:"forxiga",name:"Forxiga 10 mg",dosage:" ",timeSlot:"before-lunch",notes:" -   ",isCritical:!1,frequencyLabel:"1:00 ",category:"diabetes"},{id:"suprax",name:"Suprax 200 mg",dosage:" ",timeSlot:"after-lunch",notes:" ",isCritical:!1,frequencyLabel:"3:00 ",category:"antibiotic"},{id:"suprax-susp",name:"Suprax Suspension",dosage:"3 ",timeSlot:"after-lunch",notes:"  ",isCritical:!1,frequencyLabel:"3:00 ",category:"antibiotic"},{id:"eraloner",name:"Eraloner 25 mg",dosage:" ",timeSlot:"afternoon",notes:" /",isCritical:!1,frequencyLabel:"5:00 ",category:"other"},{id:"aldomet-2",name:"Aldomet 250 mg",dosage:"",timeSlot:"afternoon",notes:"  ( 8 )",isCritical:!1,frequencyLabel:"5:00 ",category:"pressure"},{id:"cardura",name:"Cardura 4 mg",dosage:" ",timeSlot:"6pm",notes:" ",isCritical:!1,frequencyLabel:"6:00 ",category:"pressure"},{id:"plavix",name:"Plavix 75 mg",dosage:" ",timeSlot:"after-dinner",notes:"  -   ",isCritical:!0,frequencyLabel:"8:00 ",category:"blood-thinner"},{id:"lipitor",name:"Lipitor 40 mg",dosage:" ",timeSlot:"after-dinner",notes:"",isCritical:!1,frequencyLabel:"8:00 ",category:"other"},{id:"moxiflox",name:"Moxiflox",dosage:" ",timeSlot:"after-dinner",notes:"  -   ",isCritical:!1,frequencyLabel:"8:00 ",category:"antibiotic"},{id:"spiriva",name:"Spiriva 18 mcg",dosage:" ",timeSlot:"after-dinner",notes:" ",isCritical:!1,frequencyLabel:"8:00 ",category:"other"},{id:"eliquis-2",name:"Eliquis 2.5 mg",dosage:" ",timeSlot:"before-bed",notes:" ",isCritical:!0,frequencyLabel:"10:00 ",category:"blood-thinner"},{id:"aldomet-3",name:"Aldomet 250 mg",dosage:"",timeSlot:"before-bed",notes:"  ",isCritical:!1,frequencyLabel:"10:00 ",category:"pressure"},{id:"acetyl-2",name:"Acetyl Cysteine",dosage:" ",timeSlot:"before-bed",notes:" ",isCritical:!1,frequencyLabel:"10:00 ",category:"other"}],O_={"morning-fasting":{label:"  ",icon:D.jsx(iw,{className:"w-5 h-5"}),color:"bg-yellow-50 border-yellow-200"},"after-breakfast":{label:" ",icon:D.jsx(XI,{className:"w-5 h-5"}),color:"bg-orange-50 border-orange-200"},"before-lunch":{label:" ",icon:D.jsx(U_,{className:"w-5 h-5"}),color:"bg-green-50 border-green-200"},"after-lunch":{label:" ",icon:D.jsx(U_,{className:"w-5 h-5"}),color:"bg-blue-50 border-blue-200"},afternoon:{label:"",icon:D.jsx(QI,{className:"w-5 h-5"}),color:"bg-indigo-50 border-indigo-200"},"6pm":{label:" 6 ",icon:D.jsx($I,{className:"w-5 h-5"}),color:"bg-purple-50 border-purple-200"},"after-dinner":{label:" ",icon:D.jsx(YE,{className:"w-5 h-5"}),color:"bg-slate-50 border-slate-200"},"before-bed":{label:" ",icon:D.jsx(zI,{className:"w-5 h-5"}),color:"bg-cyan-50 border-cyan-200"}},fw=["","",""," "," "," ",""," "," "];var dw={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let hw,pw;function mw(){return{geminiUrl:hw,vertexUrl:pw}}function gw(t,e,n,o){var r,l;if(!(t!=null&&t.baseUrl)){const c=mw();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:n:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ho{}function ce(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(t,e,n){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in t))if(Array.isArray(n))t[d]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[d])){const y=t[d];if(Array.isArray(n))for(let p=0;p<y.length;p++){const _=y[p];h(_,e.slice(l+1),n[p])}else for(const p of y)h(p,e.slice(l+1),n)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in t||(t[d]=[{}]);const y=t[d];h(y[0],e.slice(l+1),n);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===r)return;if(typeof r=="object"&&typeof n=="object"&&r!==null&&n!==null)Object.assign(r,n);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[o]=n}function f(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return n;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(d=>f(d,e.slice(o+1),n)):n}else return n}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return n;throw o}}function yw(t,e){for(const[n,o]of Object.entries(e)){const r=n.split("."),l=o.split("."),c=new Set;let d=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){d=y;break}if(d!==-1&&l.length>d)for(let y=d;y<l.length;y++){const p=l[y];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}gp(t,r,l,0,c)}}function gp(t,e,n,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),d=t;if(c in d&&Array.isArray(d[c]))for(const y of d[c])gp(y,e,n,o+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,d=Object.keys(c).filter(p=>!p.startsWith("_")&&!r.has(p)),y={};for(const p of d)y[p]=c[p];for(const[p,_]of Object.entries(y)){const T=[];for(const S of n.slice(o))S==="*"?T.push(p):T.push(S);h(c,T,_)}for(const p of d)delete c[p]}}else{const c=t;l in c&&gp(c[l],e,n,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jp(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vw(t){const e={},n=f(t,["operationName"]);n!=null&&h(e,["operationName"],n);const o=f(t,["resourceName"]);return o!=null&&h(e,["_url","resourceName"],o),e}function _w(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],Ew(c)),e}function Tw(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],Sw(c)),e}function Ew(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Aw(c))),h(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function Sw(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>Cw(c))),h(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function Aw(t){const e={},n=f(t,["video"]);return n!=null&&h(e,["video"],Mw(n)),e}function Cw(t){const e={},n=f(t,["_self"]);return n!=null&&h(e,["video"],xw(n)),e}function Iw(t){const e={},n=f(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function ww(t){const e={},n=f(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function Rw(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],bw(c)),e}function bw(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["parent"]);o!=null&&h(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function KE(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],Nw(c)),e}function Nw(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["parent"]);o!=null&&h(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function Mw(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const o=f(t,["encodedVideo"]);o!=null&&h(e,["videoBytes"],jp(o));const r=f(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function xw(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const o=f(t,["bytesBase64Encoded"]);o!=null&&h(e,["videoBytes"],jp(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var q_;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(q_||(q_={}));var B_;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(B_||(B_={}));var F_;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(F_||(F_={}));var tn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(tn||(tn={}));var G_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(G_||(G_={}));var H_;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(H_||(H_={}));var z_;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(z_||(z_={}));var Y_;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Y_||(Y_={}));var K_;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(K_||(K_={}));var J_;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(J_||(J_={}));var $_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})($_||($_={}));var Q_;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Q_||(Q_={}));var X_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(X_||(X_={}));var W_;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(W_||(W_={}));var Z_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Z_||(Z_={}));var j_;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(j_||(j_={}));var e0;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(e0||(e0={}));var t0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(t0||(t0={}));var n0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(n0||(n0={}));var Ll;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ll||(Ll={}));var i0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(i0||(i0={}));var o0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(o0||(o0={}));var s0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(s0||(s0={}));var yp;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yp||(yp={}));var r0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(r0||(r0={}));var a0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(a0||(a0={}));var l0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(l0||(l0={}));var u0;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(u0||(u0={}));var c0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(c0||(c0={}));var f0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(f0||(f0={}));var d0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(d0||(d0={}));var h0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(h0||(h0={}));var p0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(p0||(p0={}));var m0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(m0||(m0={}));var g0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(g0||(g0={}));var y0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(y0||(y0={}));var v0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(v0||(v0={}));var _0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(_0||(_0={}));var T0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(T0||(T0={}));var E0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(E0||(E0={}));var S0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(S0||(S0={}));var A0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(A0||(A0={}));var C0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(C0||(C0={}));var I0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(I0||(I0={}));var w0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(w0||(w0={}));var R0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(R0||(R0={}));var b0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(b0||(b0={}));var N0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(N0||(N0={}));var M0;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(M0||(M0={}));var x0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(x0||(x0={}));var D0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(D0||(D0={}));var V0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(V0||(V0={}));var P0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(P0||(P0={}));var k0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(k0||(k0={}));var U0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(U0||(U0={}));var Wr;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Wr||(Wr={}));class vp{constructor(e){const n={};for(const o of e.headers.entries())n[o[0]]=o[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Cl{get text(){var e,n,o,r,l,c,d,y;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",_=!1;const T=[];for(const S of(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&y!==void 0?y:[]){for(const[R,L]of Object.entries(S))R!=="text"&&R!=="thought"&&R!=="thoughtSignature"&&(L!==null||L!==void 0)&&T.push(R);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;_=!0,p+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?p:void 0}get data(){var e,n,o,r,l,c,d,y;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const _=[];for(const T of(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&y!==void 0?y:[]){for(const[S,R]of Object.entries(T))S!=="inlineData"&&(R!==null||R!==void 0)&&_.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,n,o,r,l,c,d,y;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,n,o,r,l,c,d,y,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,n,o,r,l,c,d,y,p;if(((r=(o=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((_==null?void 0:_.length)!==0)return(p=_==null?void 0:_[0])===null||p===void 0?void 0:p.output}}class L0{}class O0{}class Dw{}class Vw{}class Pw{}class kw{}class q0{}class B0{}class F0{}class Uw{}class Xc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new Xc;let r;const l=e;return n?r=Tw(l):r=_w(l),Object.assign(o,r),o}}class G0{}class H0{}class z0{}class Y0{}class Lw{}class Ow{}class qw{}class em{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new em,l=Rw(e);return Object.assign(o,l),o}}class Bw{}class Fw{}class Gw{}class K0{}class Hw{get text(){var e,n,o;let r="",l=!1;const c=[];for(const d of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(d))y!=="text"&&y!=="thought"&&p!==null&&c.push(y);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,r+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,n,o;let r="";const l=[];for(const c of(o=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&o!==void 0?o:[]){for(const[d,y]of Object.entries(c))d!=="inlineData"&&y!==null&&l.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class zw{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class tm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const o=new tm,l=KE(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ke(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function JE(t,e){const n=Ke(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function $E(t){return Array.isArray(t)?t.map(e=>Wc(e)):[Wc(t)]}function Wc(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function QE(t){const e=Wc(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function XE(t){const e=Wc(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function J0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function WE(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>J0(e)):[J0(t)]}function _p(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Q0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function sn(t){if(t==null)throw new Error("ContentUnion is required");return _p(t)?t:{role:"user",parts:WE(t)}}function nm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const o=sn(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const n=sn(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>sn(n)):[sn(e)]}function zn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($0(t)||Q0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[sn(t)]}const e=[],n=[],o=_p(t[0]);for(const r of t){const l=_p(r);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if($0(r)||Q0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(r)}}return o||e.push({role:"user",parts:WE(n)}),e}function Yw(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(o=>o!=="null");if(n.length===1)e.type=Object.values(tn).includes(n[0].toUpperCase())?n[0].toUpperCase():tn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of n)e.anyOf.push({type:Object.values(tn).includes(o.toUpperCase())?o.toUpperCase():tn.TYPE_UNSPECIFIED})}}function jr(t){const e={},n=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&Yw(t.type,e);for(const[c,d]of Object.entries(t))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(tn).includes(d.toUpperCase())?d.toUpperCase():tn.TYPE_UNSPECIFIED}else if(n.includes(c))e[c]=jr(d);else if(o.includes(c)){const y=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}y.push(jr(p))}e[c]=y}else if(r.includes(c)){const y={};for(const[p,_]of Object.entries(d))y[p]=jr(_);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=d}return e}function im(t){return jr(t)}function om(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function sm(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ca(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=jr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=jr(e.response));return t}function fa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Kw(t,e,n,o=1){const r=!e.startsWith(`${n}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:r?`${n}/${e}`:e}function po(t,e){if(typeof e!="string")throw new Error("name must be a string");return Kw(t,e,"cachedContents")}function ZE(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function ss(t){return jp(t)}function Jw(t){return t!=null&&typeof t=="object"&&"name"in t}function $w(t){return t!=null&&typeof t=="object"&&"video"in t}function Qw(t){return t!=null&&typeof t=="object"&&"uri"in t}function jE(t){var e;let n;if(Jw(t)&&(n=t.name),!(Qw(t)&&(n=t.uri,n===void 0))&&!($w(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const r=n.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${n}`);n=r[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function eS(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function tS(t){for(const e of["models","tunedModels","publisherModels"])if(Xw(t,e))return t[e];return[]}function Xw(t,e){return t!==null&&typeof t=="object"&&e in t}function Ww(t,e={}){const n=t,o={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(o.responseJsonSchema=n.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Zw(t,e={}){const n=[],o=new Set;for(const r of t){const l=r.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=Ww(r,e);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function nS(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const o=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,r=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function jw(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function iS(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const r=n.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const y=c.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function da(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oS(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eR(t){const e={},n=f(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const o=f(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>PR(c))),h(e,["inlinedResponses"],l)}const r=f(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function tR(t){const e={},n=f(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const o=f(t,["gcsDestination","outputUriPrefix"]);o!=null&&h(e,["gcsUri"],o);const r=f(t,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function nR(t){const e={},n=f(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const o=f(t,["gcsUri"]);o!=null&&h(e,["gcsDestination","outputUriPrefix"],o);const r=f(t,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Gc(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata","displayName"]);o!=null&&h(e,["displayName"],o);const r=f(t,["metadata","state"]);r!=null&&h(e,["state"],oS(r));const l=f(t,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=f(t,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const d=f(t,["metadata","updateTime"]);d!=null&&h(e,["updateTime"],d);const y=f(t,["metadata","model"]);y!=null&&h(e,["model"],y);const p=f(t,["metadata","output"]);return p!=null&&h(e,["dest"],eR(iS(p))),e}function Tp(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=f(t,["state"]);r!=null&&h(e,["state"],oS(r));const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["createTime"]);c!=null&&h(e,["createTime"],c);const d=f(t,["startTime"]);d!=null&&h(e,["startTime"],d);const y=f(t,["endTime"]);y!=null&&h(e,["endTime"],y);const p=f(t,["updateTime"]);p!=null&&h(e,["updateTime"],p);const _=f(t,["model"]);_!=null&&h(e,["model"],_);const T=f(t,["inputConfig"]);T!=null&&h(e,["src"],iR(T));const S=f(t,["outputConfig"]);S!=null&&h(e,["dest"],tR(iS(S)));const R=f(t,["completionStats"]);return R!=null&&h(e,["completionStats"],R),e}function iR(t){const e={},n=f(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const o=f(t,["gcsSource","uris"]);o!=null&&h(e,["gcsUri"],o);const r=f(t,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function oR(t,e){const n={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=f(e,["fileName"]);o!=null&&h(n,["fileName"],o);const r=f(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>VR(t,c))),h(n,["requests","requests"],l)}return n}function sR(t){const e={},n=f(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const o=f(t,["gcsUri"]);o!=null&&h(e,["gcsSource","uris"],o);const r=f(t,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),f(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function rR(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function aR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function lR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function uR(t){const e={},n=f(t,["content"]);n!=null&&h(e,["content"],n);const o=f(t,["citationMetadata"]);o!=null&&h(e,["citationMetadata"],cR(o));const r=f(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(t,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const y=f(t,["index"]);y!=null&&h(e,["index"],y);const p=f(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const _=f(t,["safetyRatings"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(R=>R)),h(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&h(e,["urlContextMetadata"],T),e}function cR(t){const e={},n=f(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["citations"],o)}return e}function sS(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>FR(l))),h(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&h(e,["role"],o),e}function fR(t,e){const n={},o=f(t,["displayName"]);if(e!==void 0&&o!=null&&h(e,["batch","displayName"],o),f(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function dR(t,e){const n={},o=f(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=f(t,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],nR(jw(r))),n}function X0(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["src"]);r!=null&&h(n,["batch","inputConfig"],oR(t,nS(t,r)));const l=f(e,["config"]);return l!=null&&fR(l,n),n}function hR(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["model"],Ke(t,o));const r=f(e,["src"]);r!=null&&h(n,["inputConfig"],sR(nS(t,r)));const l=f(e,["config"]);return l!=null&&dR(l,n),n}function pR(t,e){const n={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&h(e,["batch","displayName"],o),n}function mR(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["src"]);r!=null&&h(n,["batch","inputConfig"],SR(t,r));const l=f(e,["config"]);return l!=null&&pR(l,n),n}function gR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function yR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function vR(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["name"]);o!=null&&h(e,["name"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);return l!=null&&h(e,["error"],l),e}function _R(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["name"]);o!=null&&h(e,["name"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);return l!=null&&h(e,["error"],l),e}function TR(t,e){const n={},o=f(e,["contents"]);if(o!=null){let l=nm(t,o);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["requests[]","request","content"],l)}const r=f(e,["config"]);return r!=null&&(h(n,["_self"],ER(r,n)),yw(n,{"requests[].*":"requests[].request.*"})),n}function ER(t,e){const n={},o=f(t,["taskType"]);e!==void 0&&o!=null&&h(e,["requests[]","taskType"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function SR(t,e){const n={},o=f(e,["fileName"]);o!=null&&h(n,["file_name"],o);const r=f(e,["inlinedRequests"]);return r!=null&&h(n,["requests"],TR(t,r)),n}function AR(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function CR(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const o=f(t,["args"]);o!=null&&h(e,["args"],o);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function IR(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const o=f(t,["allowedFunctionNames"]);if(o!=null&&h(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function wR(t,e,n){const o={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],sS(sn(r)));const l=f(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(o,["topP"],c);const d=f(e,["topK"]);d!=null&&h(o,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(o,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(o,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&h(o,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&h(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(o,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(o,["presencePenalty"],R);const L=f(e,["frequencyPenalty"]);L!=null&&h(o,["frequencyPenalty"],L);const B=f(e,["seed"]);B!=null&&h(o,["seed"],B);const U=f(e,["responseMimeType"]);U!=null&&h(o,["responseMimeType"],U);const Q=f(e,["responseSchema"]);Q!=null&&h(o,["responseSchema"],im(Q));const oe=f(e,["responseJsonSchema"]);if(oe!=null&&h(o,["responseJsonSchema"],oe),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Z=f(e,["safetySettings"]);if(n!==void 0&&Z!=null){let V=Z;Array.isArray(V)&&(V=V.map(Le=>GR(Le))),h(n,["safetySettings"],V)}const se=f(e,["tools"]);if(n!==void 0&&se!=null){let V=fa(se);Array.isArray(V)&&(V=V.map(Le=>zR(ca(Le)))),h(n,["tools"],V)}const fe=f(e,["toolConfig"]);if(n!==void 0&&fe!=null&&h(n,["toolConfig"],HR(fe)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=f(e,["cachedContent"]);n!==void 0&&le!=null&&h(n,["cachedContent"],po(t,le));const w=f(e,["responseModalities"]);w!=null&&h(o,["responseModalities"],w);const N=f(e,["mediaResolution"]);N!=null&&h(o,["mediaResolution"],N);const M=f(e,["speechConfig"]);if(M!=null&&h(o,["speechConfig"],om(M)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const x=f(e,["thinkingConfig"]);x!=null&&h(o,["thinkingConfig"],x);const k=f(e,["imageConfig"]);k!=null&&h(o,["imageConfig"],DR(k));const F=f(e,["enableEnhancedCivicAnswers"]);return F!=null&&h(o,["enableEnhancedCivicAnswers"],F),o}function RR(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>uR(p))),h(e,["candidates"],y)}const r=f(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(t,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(t,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function bR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function NR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],da(t,o)),n}function MR(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function xR(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function DR(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const o=f(t,["imageSize"]);if(o!=null&&h(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function VR(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["request","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let d=zn(r);Array.isArray(d)&&(d=d.map(y=>sS(y))),h(n,["request","contents"],d)}const l=f(e,["metadata"]);l!=null&&h(n,["metadata"],l);const c=f(e,["config"]);return c!=null&&h(n,["request","generationConfig"],wR(t,c,f(n,["request"],{}))),n}function PR(t){const e={},n=f(t,["response"]);n!=null&&h(e,["response"],RR(n));const o=f(t,["error"]);return o!=null&&h(e,["error"],o),e}function kR(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),f(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function UR(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const l=f(t,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),n}function LR(t){const e={},n=f(t,["config"]);return n!=null&&kR(n,e),e}function OR(t){const e={},n=f(t,["config"]);return n!=null&&UR(n,e),e}function qR(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Gc(c))),h(e,["batchJobs"],l)}return e}function BR(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Tp(c))),h(e,["batchJobs"],l)}return e}function FR(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const o=f(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],AR(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],CR(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(t,["inlineData"]);y!=null&&h(e,["inlineData"],rR(y));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const _=f(t,["thought"]);_!=null&&h(e,["thought"],_);const T=f(t,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function GR(t){const e={},n=f(t,["category"]);if(n!=null&&h(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&h(e,["threshold"],o),e}function HR(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],IR(n));const o=f(t,["retrievalConfig"]);return o!=null&&h(e,["retrievalConfig"],o),e}function zR(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>T)),h(e,["functionDeclarations"],_)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],MR(d));const y=f(t,["googleSearch"]);y!=null&&h(e,["googleSearch"],xR(y));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ro;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ro||(ro={}));class Qs{constructor(e,n,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,o,r)}init(e,n,o){var r,l;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YR extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qs(ro.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=X0(this.apiClient,e),o=n._url,r=ce("{model}:batchGenerateContent",o),d=n.batch.inputConfig.requests,y=d.requests,p=[];for(const _ of y){const T=Object.assign({},_);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const R=T.request;R.systemInstruction=S,T.request=R}p.push(T)}return d.requests=p,delete n.config,delete n._url,delete n._query,{path:r,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const o=n?Object.assign({},n):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${r}`;else if(c)o.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=hR(this.apiClient,e);return d=ce("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>Tp(_))}else{const p=X0(this.apiClient,e);return d=ce("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Gc(_))}}async createEmbeddingsInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=mR(this.apiClient,e);return l=ce("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>Gc(y))}}async get(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=NR(this.apiClient,e);return d=ce("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>Tp(_))}else{const p=bR(this.apiClient,e);return d=ce("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Gc(_))}}async cancel(e){var n,o,r,l;let c="",d={};if(this.apiClient.isVertexAI()){const y=lR(this.apiClient,e);c=ce("batchPredictionJobs/{name}:cancel",y._url),d=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const y=aR(this.apiClient,e);c=ce("batches/{name}:cancel",y._url),d=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=OR(e);return d=ce("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=BR(_),S=new K0;return Object.assign(S,T),S})}else{const p=LR(e);return d=ce("batches",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=qR(_),S=new K0;return Object.assign(S,T),S})}}async delete(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=yR(this.apiClient,e);return d=ce("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>_R(_))}else{const p=gR(this.apiClient,e);return d=ce("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>vR(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KR(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function W0(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>mb(l))),h(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&h(e,["role"],o),e}function JR(t,e){const n={},o=f(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let _=zn(c);Array.isArray(_)&&(_=_.map(T=>W0(T))),h(e,["contents"],_)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],W0(sn(d)));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>yb(T))),h(e,["tools"],_)}const p=f(t,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],gb(p)),f(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function $R(t,e){const n={},o=f(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=f(t,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(t,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(t,["contents"]);if(e!==void 0&&c!=null){let T=zn(c);Array.isArray(T)&&(T=T.map(S=>S)),h(e,["contents"],T)}const d=f(t,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],sn(d));const y=f(t,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>vb(S))),h(e,["tools"],T)}const p=f(t,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const _=f(t,["kmsKeyName"]);return e!==void 0&&_!=null&&h(e,["encryption_spec","kmsKeyName"],_),n}function QR(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["model"],JE(t,o));const r=f(e,["config"]);return r!=null&&JR(r,n),n}function XR(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["model"],JE(t,o));const r=f(e,["config"]);return r!=null&&$R(r,n),n}function WR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],po(t,o)),n}function ZR(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],po(t,o)),n}function jR(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function eb(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function tb(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function nb(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const o=f(t,["args"]);o!=null&&h(e,["args"],o);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function ib(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const o=f(t,["allowedFunctionNames"]);if(o!=null&&h(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function ob(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const o=f(t,["name"]);o!=null&&h(e,["name"],o);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function sb(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],po(t,o)),n}function rb(t,e){const n={},o=f(e,["name"]);return o!=null&&h(n,["_url","name"],po(t,o)),n}function ab(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function lb(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function ub(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function cb(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function fb(t){const e={},n=f(t,["config"]);return n!=null&&ub(n,e),e}function db(t){const e={},n=f(t,["config"]);return n!=null&&cb(n,e),e}function hb(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function pb(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function mb(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const o=f(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],tb(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],nb(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(t,["inlineData"]);y!=null&&h(e,["inlineData"],KR(y));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const _=f(t,["thought"]);_!=null&&h(e,["thought"],_);const T=f(t,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function gb(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],ib(n));const o=f(t,["retrievalConfig"]);return o!=null&&h(e,["retrievalConfig"],o),e}function yb(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>T)),h(e,["functionDeclarations"],_)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],ab(d));const y=f(t,["googleSearch"]);y!=null&&h(e,["googleSearch"],lb(y));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function vb(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>ob(S))),h(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&h(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(t,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const _=f(t,["urlContext"]);return _!=null&&h(e,["urlContext"],_),e}function _b(t,e){const n={},o=f(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function Tb(t,e){const n={},o=f(t,["ttl"]);e!==void 0&&o!=null&&h(e,["ttl"],o);const r=f(t,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),n}function Eb(t,e){const n={},o=f(e,["name"]);o!=null&&h(n,["_url","name"],po(t,o));const r=f(e,["config"]);return r!=null&&_b(r,n),n}function Sb(t,e){const n={},o=f(e,["name"]);o!=null&&h(n,["_url","name"],po(t,o));const r=f(e,["config"]);return r!=null&&Tb(r,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ab extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qs(ro.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(n),n)}async create(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=XR(this.apiClient,e);return d=ce("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=QR(this.apiClient,e);return d=ce("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async get(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=rb(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=sb(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async delete(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=ZR(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=eb(_),S=new z0;return Object.assign(S,T),S})}else{const p=WR(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=jR(_),S=new z0;return Object.assign(S,T),S})}}async update(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Sb(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>_)}else{const p=Eb(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>_)}}async listInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=db(e);return d=ce("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=pb(_),S=new Y0;return Object.assign(S,T),S})}else{const p=fb(e);return d=ce("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=hb(_),S=new Y0;return Object.assign(S,T),S})}}}function Zc(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]]);return n}function Z0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],o=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ae(t){return this instanceof Ae?(this.v=t,this):new Ae(t)}function si(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=n.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(R){return function(L){return Promise.resolve(L).then(R,T)}}function d(R,L){o[R]&&(r[R]=function(B){return new Promise(function(U,Q){l.push([R,B,U,Q])>1||y(R,B)})},L&&(r[R]=L(r[R])))}function y(R,L){try{p(o[R](L))}catch(B){S(l[0][3],B)}}function p(R){R.value instanceof Ae?Promise.resolve(R.value.v).then(_,T):S(l[0][2],R)}function _(R){y("next",R)}function T(R){y("throw",R)}function S(R,L){R(L),l.shift(),l.length&&y(l[0][0],l[0][1])}}function ri(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Z0=="function"?Z0(t):t[Symbol.iterator](),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(l){n[l]=t[l]&&function(c){return new Promise(function(d,y){c=t[l](c),r(d,y,c.done,c.value)})}}function r(l,c,d,y){Promise.resolve(y).then(function(p){l({value:p,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:rS(n)}function rS(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Ib(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function j0(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let o=0;for(;o<n;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let l=!0;for(;o<n&&t[o].role==="model";)r.push(t[o]),l&&!rS(t[o])&&(l=!1),o++;l?e.push(...r):e.pop()}return e}class wb{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Rb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Rb{constructor(e,n,o,r={},l=[]){this.apiClient=e,this.modelsModule=n,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Ib(l)}async sendMessage(e){var n;await this.sendPromise;const o=sn(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,d;const y=await r,p=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,_=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];_!=null&&(S=(d=_.slice(T))!==null&&d!==void 0?d:[]);const R=p?[p]:[];this.recordHistory(o,R,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var n;await this.sendPromise;const o=sn(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(e=!1){const n=e?j0(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return si(this,arguments,function*(){var r,l,c,d,y,p;const _=[];try{for(var T=!0,S=ri(e),R;R=yield Ae(S.next()),r=R.done,!r;T=!0){d=R.value,T=!1;const L=d;if(Cb(L)){const B=(p=(y=L.candidates)===null||y===void 0?void 0:y[0])===null||p===void 0?void 0:p.content;B!==void 0&&_.push(B)}yield yield Ae(L)}}catch(L){l={error:L}}finally{try{!T&&!r&&(c=S.return)&&(yield Ae(c.call(S)))}finally{if(l)throw l.error}}this.recordHistory(n,_)})}recordHistory(e,n,o){let r=[];n.length>0&&n.every(l=>l.role!==void 0)?r=n:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...j0(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bb(t){const e={},n=f(t,["file"]);return n!=null&&h(e,["file"],n),e}function Nb(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Mb(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","file"],jE(n)),e}function xb(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function Db(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","file"],jE(n)),e}function Vb(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function Pb(t){const e={},n=f(t,["config"]);return n!=null&&Vb(n,e),e}function kb(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ub extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qs(ro.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Pb(e);return l=ce("files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const p=kb(y),_=new Bw;return Object.assign(_,p),_})}}async createInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=bb(e);return l=ce("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=Nb(y),_=new Fw;return Object.assign(_,p),_})}}async get(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Db(e);return l=ce("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Mb(e);return l=ce("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const p=xb(y),_=new Gw;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hc(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function Lb(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>jb(l))),h(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&h(e,["role"],o),e}function Ob(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function qb(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const o=f(t,["args"]);o!=null&&h(e,["args"],o);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Bb(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const o=f(t,["name"]);o!=null&&h(e,["name"],o);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function Fb(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const o=f(t,["responseJsonSchema"]);o!=null&&h(e,["responseJsonSchema"],o);const r=f(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(t,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const y=f(t,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=f(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const _=f(t,["mediaResolution"]);_!=null&&h(e,["mediaResolution"],_);const T=f(t,["presencePenalty"]);T!=null&&h(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const R=f(t,["responseMimeType"]);R!=null&&h(e,["responseMimeType"],R);const L=f(t,["responseModalities"]);L!=null&&h(e,["responseModalities"],L);const B=f(t,["responseSchema"]);B!=null&&h(e,["responseSchema"],B);const U=f(t,["routingConfig"]);U!=null&&h(e,["routingConfig"],U);const Q=f(t,["seed"]);Q!=null&&h(e,["seed"],Q);const oe=f(t,["speechConfig"]);oe!=null&&h(e,["speechConfig"],oe);const Z=f(t,["stopSequences"]);Z!=null&&h(e,["stopSequences"],Z);const se=f(t,["temperature"]);se!=null&&h(e,["temperature"],se);const fe=f(t,["thinkingConfig"]);fe!=null&&h(e,["thinkingConfig"],fe);const le=f(t,["topK"]);le!=null&&h(e,["topK"],le);const w=f(t,["topP"]);if(w!=null&&h(e,["topP"],w),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Gb(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Hb(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function zb(t,e){const n={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],o);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","seed"],_);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],sm(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(t,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&h(e,["setup","systemInstruction"],Lb(sn(L)));const B=f(t,["tools"]);if(e!==void 0&&B!=null){let le=fa(B);Array.isArray(le)&&(le=le.map(w=>tN(ca(w)))),h(e,["setup","tools"],le)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],eN(U));const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","inputAudioTranscription"],Q);const oe=f(t,["outputAudioTranscription"]);e!==void 0&&oe!=null&&h(e,["setup","outputAudioTranscription"],oe);const Z=f(t,["realtimeInputConfig"]);e!==void 0&&Z!=null&&h(e,["setup","realtimeInputConfig"],Z);const se=f(t,["contextWindowCompression"]);e!==void 0&&se!=null&&h(e,["setup","contextWindowCompression"],se);const fe=f(t,["proactivity"]);if(e!==void 0&&fe!=null&&h(e,["setup","proactivity"],fe),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Yb(t,e){const n={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],Fb(o));const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","seed"],_);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],sm(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(t,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&h(e,["setup","systemInstruction"],sn(L));const B=f(t,["tools"]);if(e!==void 0&&B!=null){let w=fa(B);Array.isArray(w)&&(w=w.map(N=>nN(ca(N)))),h(e,["setup","tools"],w)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],U);const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","inputAudioTranscription"],Q);const oe=f(t,["outputAudioTranscription"]);e!==void 0&&oe!=null&&h(e,["setup","outputAudioTranscription"],oe);const Z=f(t,["realtimeInputConfig"]);e!==void 0&&Z!=null&&h(e,["setup","realtimeInputConfig"],Z);const se=f(t,["contextWindowCompression"]);e!==void 0&&se!=null&&h(e,["setup","contextWindowCompression"],se);const fe=f(t,["proactivity"]);e!==void 0&&fe!=null&&h(e,["setup","proactivity"],fe);const le=f(t,["explicitVadSignal"]);return e!==void 0&&le!=null&&h(e,["setup","explicitVadSignal"],le),n}function Kb(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["setup","model"],Ke(t,o));const r=f(e,["config"]);return r!=null&&h(n,["config"],zb(r,n)),n}function Jb(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["setup","model"],Ke(t,o));const r=f(e,["config"]);return r!=null&&h(n,["config"],Yb(r,n)),n}function $b(t){const e={},n=f(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function Qb(t){const e={},n=f(t,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["weightedPrompts"],o)}return e}function Xb(t){const e={},n=f(t,["media"]);if(n!=null){let p=$E(n);Array.isArray(p)&&(p=p.map(_=>Hc(_))),h(e,["mediaChunks"],p)}const o=f(t,["audio"]);o!=null&&h(e,["audio"],Hc(XE(o)));const r=f(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&h(e,["video"],Hc(QE(l)));const c=f(t,["text"]);c!=null&&h(e,["text"],c);const d=f(t,["activityStart"]);d!=null&&h(e,["activityStart"],d);const y=f(t,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function Wb(t){const e={},n=f(t,["media"]);if(n!=null){let p=$E(n);Array.isArray(p)&&(p=p.map(_=>_)),h(e,["mediaChunks"],p)}const o=f(t,["audio"]);o!=null&&h(e,["audio"],XE(o));const r=f(t,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(t,["video"]);l!=null&&h(e,["video"],QE(l));const c=f(t,["text"]);c!=null&&h(e,["text"],c);const d=f(t,["activityStart"]);d!=null&&h(e,["activityStart"],d);const y=f(t,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function Zb(t){const e={},n=f(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const o=f(t,["serverContent"]);o!=null&&h(e,["serverContent"],o);const r=f(t,["toolCall"]);r!=null&&h(e,["toolCall"],r);const l=f(t,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=f(t,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],iN(c));const d=f(t,["goAway"]);d!=null&&h(e,["goAway"],d);const y=f(t,["sessionResumptionUpdate"]);y!=null&&h(e,["sessionResumptionUpdate"],y);const p=f(t,["voiceActivityDetectionSignal"]);return p!=null&&h(e,["voiceActivityDetectionSignal"],p),e}function jb(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const o=f(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],Ob(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],qb(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(t,["inlineData"]);y!=null&&h(e,["inlineData"],Hc(y));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const _=f(t,["thought"]);_!=null&&h(e,["thought"],_);const T=f(t,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function eN(t){const e={},n=f(t,["handle"]);if(n!=null&&h(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>T)),h(e,["functionDeclarations"],_)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],Gb(d));const y=f(t,["googleSearch"]);y!=null&&h(e,["googleSearch"],Hb(y));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function nN(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>Bb(S))),h(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&h(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(t,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const _=f(t,["urlContext"]);return _!=null&&h(e,["urlContext"],_),e}function iN(t){const e={},n=f(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const o=f(t,["cachedContentTokenCount"]);o!=null&&h(e,["cachedContentTokenCount"],o);const r=f(t,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const l=f(t,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=f(t,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const d=f(t,["totalTokenCount"]);d!=null&&h(e,["totalTokenCount"],d);const y=f(t,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(L=>L)),h(e,["promptTokensDetails"],R)}const p=f(t,["cacheTokensDetails"]);if(p!=null){let R=p;Array.isArray(R)&&(R=R.map(L=>L)),h(e,["cacheTokensDetails"],R)}const _=f(t,["candidatesTokensDetails"]);if(_!=null){let R=_;Array.isArray(R)&&(R=R.map(L=>L)),h(e,["responseTokensDetails"],R)}const T=f(t,["toolUsePromptTokensDetails"]);if(T!=null){let R=T;Array.isArray(R)&&(R=R.map(L=>L)),h(e,["toolUsePromptTokensDetails"],R)}const S=f(t,["trafficType"]);return S!=null&&h(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function sN(t){const e={},n=f(t,["content"]);n!=null&&h(e,["content"],n);const o=f(t,["citationMetadata"]);o!=null&&h(e,["citationMetadata"],rN(o));const r=f(t,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(t,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(t,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(t,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const y=f(t,["index"]);y!=null&&h(e,["index"],y);const p=f(t,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const _=f(t,["safetyRatings"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(R=>R)),h(e,["safetyRatings"],S)}const T=f(t,["urlContextMetadata"]);return T!=null&&h(e,["urlContextMetadata"],T),e}function rN(t){const e={},n=f(t,["citationSources"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>r)),h(e,["citations"],o)}return e}function aN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let l=zn(r);Array.isArray(l)&&(l=l.map(c=>c)),h(n,["contents"],l)}return n}function lN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["tokensInfo"],r)}return e}function uN(t){const e={},n=f(t,["values"]);n!=null&&h(e,["values"],n);const o=f(t,["statistics"]);return o!=null&&h(e,["statistics"],cN(o)),e}function cN(t){const e={},n=f(t,["truncated"]);n!=null&&h(e,["truncated"],n);const o=f(t,["token_count"]);return o!=null&&h(e,["tokenCount"],o),e}function _f(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>_M(l))),h(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&h(e,["role"],o),e}function fN(t){const e={},n=f(t,["controlType"]);n!=null&&h(e,["controlType"],n);const o=f(t,["enableControlImageComputation"]);return o!=null&&h(e,["computeControl"],o),e}function dN(t){const e={};if(f(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function hN(t,e){const n={},o=f(t,["systemInstruction"]);e!==void 0&&o!=null&&h(e,["systemInstruction"],sn(o));const r=f(t,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>cS(d))),h(e,["tools"],c)}const l=f(t,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],oM(l)),n}function pN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let c=zn(r);Array.isArray(c)&&(c=c.map(d=>_f(d))),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&dN(l),n}function mN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let c=zn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&hN(l,n),n}function gN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["totalTokens"]);o!=null&&h(e,["totalTokens"],o);const r=f(t,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function yN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["totalTokens"]);return o!=null&&h(e,["totalTokens"],o),e}function vN(t,e){const n={},o=f(e,["model"]);return o!=null&&h(n,["_url","name"],Ke(t,o)),n}function _N(t,e){const n={},o=f(e,["model"]);return o!=null&&h(n,["_url","name"],Ke(t,o)),n}function TN(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function EN(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function SN(t,e){const n={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const y=f(t,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&h(e,["parameters","personGeneration"],_);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&h(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const R=f(t,["language"]);e!==void 0&&R!=null&&h(e,["parameters","language"],R);const L=f(t,["outputMimeType"]);e!==void 0&&L!=null&&h(e,["parameters","outputOptions","mimeType"],L);const B=f(t,["outputCompressionQuality"]);e!==void 0&&B!=null&&h(e,["parameters","outputOptions","compressionQuality"],B);const U=f(t,["addWatermark"]);e!==void 0&&U!=null&&h(e,["parameters","addWatermark"],U);const Q=f(t,["labels"]);e!==void 0&&Q!=null&&h(e,["labels"],Q);const oe=f(t,["editMode"]);e!==void 0&&oe!=null&&h(e,["parameters","editMode"],oe);const Z=f(t,["baseSteps"]);return e!==void 0&&Z!=null&&h(e,["parameters","editConfig","baseSteps"],Z),n}function AN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(y=>IM(y))),h(n,["instances[0]","referenceImages"],d)}const c=f(e,["config"]);return c!=null&&SN(c,n),n}function CN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Tf(l))),h(e,["generatedImages"],r)}return e}function IN(t,e){const n={},o=f(t,["taskType"]);e!==void 0&&o!=null&&h(e,["requests[]","taskType"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function wN(t,e){const n={},o=f(t,["taskType"]);e!==void 0&&o!=null&&h(e,["instances[]","task_type"],o);const r=f(t,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const l=f(t,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=f(t,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const d=f(t,["autoTruncate"]);return e!==void 0&&d!=null&&h(e,["parameters","autoTruncate"],d),n}function RN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let d=nm(t,r);Array.isArray(d)&&(d=d.map(y=>y)),h(n,["requests[]","content"],d)}const l=f(e,["config"]);l!=null&&IN(l,n);const c=f(e,["model"]);return c!==void 0&&h(n,["requests[]","model"],Ke(t,c)),n}function bN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let c=nm(t,r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["instances[]","content"],c)}const l=f(e,["config"]);return l!=null&&wN(l,n),n}function NN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function MN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["predictions[]","embeddings"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>uN(c))),h(e,["embeddings"],l)}const r=f(t,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function xN(t){const e={},n=f(t,["endpoint"]);n!=null&&h(e,["name"],n);const o=f(t,["deployedModelId"]);return o!=null&&h(e,["deployedModelId"],o),e}function DN(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function VN(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const o=f(t,["args"]);o!=null&&h(e,["args"],o);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PN(t){const e={},n=f(t,["mode"]);n!=null&&h(e,["mode"],n);const o=f(t,["allowedFunctionNames"]);if(o!=null&&h(e,["allowedFunctionNames"],o),f(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function kN(t){const e={};if(f(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(t,["description"]);n!=null&&h(e,["description"],n);const o=f(t,["name"]);o!=null&&h(e,["name"],o);const r=f(t,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(t,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(t,["response"]);c!=null&&h(e,["response"],c);const d=f(t,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function UN(t,e,n){const o={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],_f(sn(r)));const l=f(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(o,["topP"],c);const d=f(e,["topK"]);d!=null&&h(o,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(o,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(o,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&h(o,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&h(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(o,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(o,["presencePenalty"],R);const L=f(e,["frequencyPenalty"]);L!=null&&h(o,["frequencyPenalty"],L);const B=f(e,["seed"]);B!=null&&h(o,["seed"],B);const U=f(e,["responseMimeType"]);U!=null&&h(o,["responseMimeType"],U);const Q=f(e,["responseSchema"]);Q!=null&&h(o,["responseSchema"],im(Q));const oe=f(e,["responseJsonSchema"]);if(oe!=null&&h(o,["responseJsonSchema"],oe),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Z=f(e,["safetySettings"]);if(n!==void 0&&Z!=null){let V=Z;Array.isArray(V)&&(V=V.map(Le=>wM(Le))),h(n,["safetySettings"],V)}const se=f(e,["tools"]);if(n!==void 0&&se!=null){let V=fa(se);Array.isArray(V)&&(V=V.map(Le=>VM(ca(Le)))),h(n,["tools"],V)}const fe=f(e,["toolConfig"]);if(n!==void 0&&fe!=null&&h(n,["toolConfig"],DM(fe)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const le=f(e,["cachedContent"]);n!==void 0&&le!=null&&h(n,["cachedContent"],po(t,le));const w=f(e,["responseModalities"]);w!=null&&h(o,["responseModalities"],w);const N=f(e,["mediaResolution"]);N!=null&&h(o,["mediaResolution"],N);const M=f(e,["speechConfig"]);if(M!=null&&h(o,["speechConfig"],om(M)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const x=f(e,["thinkingConfig"]);x!=null&&h(o,["thinkingConfig"],x);const k=f(e,["imageConfig"]);k!=null&&h(o,["imageConfig"],uM(k));const F=f(e,["enableEnhancedCivicAnswers"]);return F!=null&&h(o,["enableEnhancedCivicAnswers"],F),o}function LN(t,e,n){const o={},r=f(e,["systemInstruction"]);n!==void 0&&r!=null&&h(n,["systemInstruction"],sn(r));const l=f(e,["temperature"]);l!=null&&h(o,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(o,["topP"],c);const d=f(e,["topK"]);d!=null&&h(o,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(o,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(o,["maxOutputTokens"],p);const _=f(e,["stopSequences"]);_!=null&&h(o,["stopSequences"],_);const T=f(e,["responseLogprobs"]);T!=null&&h(o,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(o,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(o,["presencePenalty"],R);const L=f(e,["frequencyPenalty"]);L!=null&&h(o,["frequencyPenalty"],L);const B=f(e,["seed"]);B!=null&&h(o,["seed"],B);const U=f(e,["responseMimeType"]);U!=null&&h(o,["responseMimeType"],U);const Q=f(e,["responseSchema"]);Q!=null&&h(o,["responseSchema"],im(Q));const oe=f(e,["responseJsonSchema"]);oe!=null&&h(o,["responseJsonSchema"],oe);const Z=f(e,["routingConfig"]);Z!=null&&h(o,["routingConfig"],Z);const se=f(e,["modelSelectionConfig"]);se!=null&&h(o,["modelConfig"],se);const fe=f(e,["safetySettings"]);if(n!==void 0&&fe!=null){let X=fe;Array.isArray(X)&&(X=X.map(ae=>ae)),h(n,["safetySettings"],X)}const le=f(e,["tools"]);if(n!==void 0&&le!=null){let X=fa(le);Array.isArray(X)&&(X=X.map(ae=>cS(ca(ae)))),h(n,["tools"],X)}const w=f(e,["toolConfig"]);n!==void 0&&w!=null&&h(n,["toolConfig"],w);const N=f(e,["labels"]);n!==void 0&&N!=null&&h(n,["labels"],N);const M=f(e,["cachedContent"]);n!==void 0&&M!=null&&h(n,["cachedContent"],po(t,M));const x=f(e,["responseModalities"]);x!=null&&h(o,["responseModalities"],x);const k=f(e,["mediaResolution"]);k!=null&&h(o,["mediaResolution"],k);const F=f(e,["speechConfig"]);F!=null&&h(o,["speechConfig"],om(F));const V=f(e,["audioTimestamp"]);V!=null&&h(o,["audioTimestamp"],V);const Le=f(e,["thinkingConfig"]);Le!=null&&h(o,["thinkingConfig"],Le);const ht=f(e,["imageConfig"]);if(ht!=null&&h(o,["imageConfig"],cM(ht)),f(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function eT(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let c=zn(r);Array.isArray(c)&&(c=c.map(d=>_f(d))),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(n,["generationConfig"],UN(t,l,n)),n}function tT(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["contents"]);if(r!=null){let c=zn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(n,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(n,["generationConfig"],LN(t,l,n)),n}function nT(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["candidates"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>sN(p))),h(e,["candidates"],y)}const r=f(t,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(t,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(t,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(t,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function iT(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["candidates"]);if(o!=null){let p=o;Array.isArray(p)&&(p=p.map(_=>_)),h(e,["candidates"],p)}const r=f(t,["createTime"]);r!=null&&h(e,["createTime"],r);const l=f(t,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=f(t,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const d=f(t,["responseId"]);d!=null&&h(e,["responseId"],d);const y=f(t,["usageMetadata"]);return y!=null&&h(e,["usageMetadata"],y),e}function ON(t,e){const n={};if(f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=f(t,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const l=f(t,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const d=f(t,["personGeneration"]);e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d);const y=f(t,["includeSafetyAttributes"]);e!==void 0&&y!=null&&h(e,["parameters","includeSafetyAttributes"],y);const p=f(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const _=f(t,["language"]);e!==void 0&&_!=null&&h(e,["parameters","language"],_);const T=f(t,["outputMimeType"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","mimeType"],T);const S=f(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S),f(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=f(t,["imageSize"]);if(e!==void 0&&R!=null&&h(e,["parameters","sampleImageSize"],R),f(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function qN(t,e){const n={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=f(t,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(t,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(t,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(t,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const y=f(t,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=f(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&h(e,["parameters","personGeneration"],_);const T=f(t,["includeSafetyAttributes"]);e!==void 0&&T!=null&&h(e,["parameters","includeSafetyAttributes"],T);const S=f(t,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const R=f(t,["language"]);e!==void 0&&R!=null&&h(e,["parameters","language"],R);const L=f(t,["outputMimeType"]);e!==void 0&&L!=null&&h(e,["parameters","outputOptions","mimeType"],L);const B=f(t,["outputCompressionQuality"]);e!==void 0&&B!=null&&h(e,["parameters","outputOptions","compressionQuality"],B);const U=f(t,["addWatermark"]);e!==void 0&&U!=null&&h(e,["parameters","addWatermark"],U);const Q=f(t,["labels"]);e!==void 0&&Q!=null&&h(e,["labels"],Q);const oe=f(t,["imageSize"]);e!==void 0&&oe!=null&&h(e,["parameters","sampleImageSize"],oe);const Z=f(t,["enhancePrompt"]);return e!==void 0&&Z!=null&&h(e,["parameters","enhancePrompt"],Z),n}function BN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&ON(l,n),n}function FN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&qN(l,n),n}function GN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>eM(c))),h(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],lS(r)),e}function HN(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Tf(c))),h(e,["generatedImages"],l)}const r=f(t,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],uS(r)),e}function zN(t,e){const n={},o=f(t,["numberOfVideos"]);if(e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o),f(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(t,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),f(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=f(t,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const d=f(t,["personGeneration"]);if(e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d),f(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=f(t,["negativePrompt"]);e!==void 0&&y!=null&&h(e,["parameters","negativePrompt"],y);const p=f(t,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),f(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=f(t,["lastFrame"]);e!==void 0&&_!=null&&h(e,["instances[0]","lastFrame"],Ef(_));const T=f(t,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(R=>KM(R))),h(e,["instances[0]","referenceImages"],S)}if(f(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function YN(t,e){const n={},o=f(t,["numberOfVideos"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=f(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const l=f(t,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=f(t,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const d=f(t,["seed"]);e!==void 0&&d!=null&&h(e,["parameters","seed"],d);const y=f(t,["aspectRatio"]);e!==void 0&&y!=null&&h(e,["parameters","aspectRatio"],y);const p=f(t,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const _=f(t,["personGeneration"]);e!==void 0&&_!=null&&h(e,["parameters","personGeneration"],_);const T=f(t,["pubsubTopic"]);e!==void 0&&T!=null&&h(e,["parameters","pubsubTopic"],T);const S=f(t,["negativePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","negativePrompt"],S);const R=f(t,["enhancePrompt"]);e!==void 0&&R!=null&&h(e,["parameters","enhancePrompt"],R);const L=f(t,["generateAudio"]);e!==void 0&&L!=null&&h(e,["parameters","generateAudio"],L);const B=f(t,["lastFrame"]);e!==void 0&&B!=null&&h(e,["instances[0]","lastFrame"],li(B));const U=f(t,["referenceImages"]);if(e!==void 0&&U!=null){let Z=U;Array.isArray(Z)&&(Z=Z.map(se=>JM(se))),h(e,["instances[0]","referenceImages"],Z)}const Q=f(t,["mask"]);e!==void 0&&Q!=null&&h(e,["instances[0]","mask"],YM(Q));const oe=f(t,["compressionQuality"]);return e!==void 0&&oe!=null&&h(e,["parameters","compressionQuality"],oe),n}function KN(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],XN(c)),e}function JN(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],WN(c)),e}function $N(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(n,["instances[0]","image"],Ef(l));const c=f(e,["video"]);c!=null&&h(n,["instances[0]","video"],fS(c));const d=f(e,["source"]);d!=null&&ZN(d,n);const y=f(e,["config"]);return y!=null&&zN(y,n),n}function QN(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["prompt"]);r!=null&&h(n,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(n,["instances[0]","image"],li(l));const c=f(e,["video"]);c!=null&&h(n,["instances[0]","video"],dS(c));const d=f(e,["source"]);d!=null&&jN(d,n);const y=f(e,["config"]);return y!=null&&YN(y,n),n}function XN(t){const e={},n=f(t,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>nM(c))),h(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function WN(t){const e={},n=f(t,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>iM(c))),h(e,["generatedVideos"],l)}const o=f(t,["raiMediaFilteredCount"]);o!=null&&h(e,["raiMediaFilteredCount"],o);const r=f(t,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function ZN(t,e){const n={},o=f(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],Ef(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],fS(l)),n}function jN(t,e){const n={},o=f(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],li(r));const l=f(t,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],dS(l)),n}function eM(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["image"],fM(n));const o=f(t,["raiFilteredReason"]);o!=null&&h(e,["raiFilteredReason"],o);const r=f(t,["_self"]);return r!=null&&h(e,["safetyAttributes"],lS(r)),e}function Tf(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["image"],aS(n));const o=f(t,["raiFilteredReason"]);o!=null&&h(e,["raiFilteredReason"],o);const r=f(t,["_self"]);r!=null&&h(e,["safetyAttributes"],uS(r));const l=f(t,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function tM(t){const e={},n=f(t,["_self"]);n!=null&&h(e,["mask"],aS(n));const o=f(t,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["labels"],r)}return e}function nM(t){const e={},n=f(t,["video"]);return n!=null&&h(e,["video"],HM(n)),e}function iM(t){const e={},n=f(t,["_self"]);return n!=null&&h(e,["video"],zM(n)),e}function oM(t){const e={},n=f(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const o=f(t,["responseJsonSchema"]);o!=null&&h(e,["responseJsonSchema"],o);const r=f(t,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(t,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(t,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(t,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const y=f(t,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=f(t,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const _=f(t,["mediaResolution"]);_!=null&&h(e,["mediaResolution"],_);const T=f(t,["presencePenalty"]);T!=null&&h(e,["presencePenalty"],T);const S=f(t,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const R=f(t,["responseMimeType"]);R!=null&&h(e,["responseMimeType"],R);const L=f(t,["responseModalities"]);L!=null&&h(e,["responseModalities"],L);const B=f(t,["responseSchema"]);B!=null&&h(e,["responseSchema"],B);const U=f(t,["routingConfig"]);U!=null&&h(e,["routingConfig"],U);const Q=f(t,["seed"]);Q!=null&&h(e,["seed"],Q);const oe=f(t,["speechConfig"]);oe!=null&&h(e,["speechConfig"],oe);const Z=f(t,["stopSequences"]);Z!=null&&h(e,["stopSequences"],Z);const se=f(t,["temperature"]);se!=null&&h(e,["temperature"],se);const fe=f(t,["thinkingConfig"]);fe!=null&&h(e,["thinkingConfig"],fe);const le=f(t,["topK"]);le!=null&&h(e,["topK"],le);const w=f(t,["topP"]);if(w!=null&&h(e,["topP"],w),f(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function sM(t,e){const n={},o=f(e,["model"]);return o!=null&&h(n,["_url","name"],Ke(t,o)),n}function rM(t,e){const n={},o=f(e,["model"]);return o!=null&&h(n,["_url","name"],Ke(t,o)),n}function aM(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function lM(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function uM(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const o=f(t,["imageSize"]);if(o!=null&&h(e,["imageSize"],o),f(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function cM(t){const e={},n=f(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const o=f(t,["imageSize"]);o!=null&&h(e,["imageSize"],o);const r=f(t,["outputMimeType"]);r!=null&&h(e,["imageOutputOptions","mimeType"],r);const l=f(t,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function fM(t){const e={},n=f(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],ss(n));const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function aS(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const o=f(t,["bytesBase64Encoded"]);o!=null&&h(e,["imageBytes"],ss(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function Ef(t){const e={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],ss(n));const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function li(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const o=f(t,["imageBytes"]);o!=null&&h(e,["bytesBase64Encoded"],ss(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function dM(t,e,n){const o={},r=f(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&h(n,["_url","models_url"],eS(t,d)),o}function hM(t,e,n){const o={},r=f(e,["pageSize"]);n!==void 0&&r!=null&&h(n,["_query","pageSize"],r);const l=f(e,["pageToken"]);n!==void 0&&l!=null&&h(n,["_query","pageToken"],l);const c=f(e,["filter"]);n!==void 0&&c!=null&&h(n,["_query","filter"],c);const d=f(e,["queryBase"]);return n!==void 0&&d!=null&&h(n,["_url","models_url"],eS(t,d)),o}function pM(t,e){const n={},o=f(e,["config"]);return o!=null&&dM(t,o,n),n}function mM(t,e){const n={},o=f(e,["config"]);return o!=null&&hM(t,o,n),n}function gM(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["_self"]);if(r!=null){let l=tS(r);Array.isArray(l)&&(l=l.map(c=>Ep(c))),h(e,["models"],l)}return e}function yM(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["_self"]);if(r!=null){let l=tS(r);Array.isArray(l)&&(l=l.map(c=>Sp(c))),h(e,["models"],l)}return e}function vM(t){const e={},n=f(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const o=f(t,["segmentationClasses"]);o!=null&&h(e,["maskClasses"],o);const r=f(t,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function Ep(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=f(t,["description"]);r!=null&&h(e,["description"],r);const l=f(t,["version"]);l!=null&&h(e,["version"],l);const c=f(t,["_self"]);c!=null&&h(e,["tunedModelInfo"],PM(c));const d=f(t,["inputTokenLimit"]);d!=null&&h(e,["inputTokenLimit"],d);const y=f(t,["outputTokenLimit"]);y!=null&&h(e,["outputTokenLimit"],y);const p=f(t,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const _=f(t,["temperature"]);_!=null&&h(e,["temperature"],_);const T=f(t,["maxTemperature"]);T!=null&&h(e,["maxTemperature"],T);const S=f(t,["topP"]);S!=null&&h(e,["topP"],S);const R=f(t,["topK"]);R!=null&&h(e,["topK"],R);const L=f(t,["thinking"]);return L!=null&&h(e,["thinking"],L),e}function Sp(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["displayName"]);o!=null&&h(e,["displayName"],o);const r=f(t,["description"]);r!=null&&h(e,["description"],r);const l=f(t,["versionId"]);l!=null&&h(e,["version"],l);const c=f(t,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>xN(S))),h(e,["endpoints"],T)}const d=f(t,["labels"]);d!=null&&h(e,["labels"],d);const y=f(t,["_self"]);y!=null&&h(e,["tunedModelInfo"],kM(y));const p=f(t,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const _=f(t,["checkpoints"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(S=>S)),h(e,["checkpoints"],T)}return e}function _M(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const o=f(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],DN(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],VN(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(t,["inlineData"]);y!=null&&h(e,["inlineData"],oN(y));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const _=f(t,["thought"]);_!=null&&h(e,["thought"],_);const T=f(t,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function TM(t){const e={},n=f(t,["productImage"]);return n!=null&&h(e,["image"],li(n)),e}function EM(t,e){const n={},o=f(t,["numberOfImages"]);e!==void 0&&o!=null&&h(e,["parameters","sampleCount"],o);const r=f(t,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const l=f(t,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=f(t,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const d=f(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&h(e,["parameters","safetySetting"],d);const y=f(t,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const p=f(t,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const _=f(t,["outputMimeType"]);e!==void 0&&_!=null&&h(e,["parameters","outputOptions","mimeType"],_);const T=f(t,["outputCompressionQuality"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T);const S=f(t,["enhancePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","enhancePrompt"],S);const R=f(t,["labels"]);return e!==void 0&&R!=null&&h(e,["labels"],R),n}function SM(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["source"]);r!=null&&CM(r,n);const l=f(e,["config"]);return l!=null&&EM(l,n),n}function AM(t){const e={},n=f(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>Tf(r))),h(e,["generatedImages"],o)}return e}function CM(t,e){const n={},o=f(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=f(t,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],li(r));const l=f(t,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>TM(d))),h(e,["instances[0]","productImages"],c)}return n}function IM(t){const e={},n=f(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],li(n));const o=f(t,["referenceId"]);o!=null&&h(e,["referenceId"],o);const r=f(t,["referenceType"]);r!=null&&h(e,["referenceType"],r);const l=f(t,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],vM(l));const c=f(t,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],fN(c));const d=f(t,["styleImageConfig"]);d!=null&&h(e,["styleImageConfig"],d);const y=f(t,["subjectImageConfig"]);return y!=null&&h(e,["subjectImageConfig"],y),e}function lS(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const o=f(t,["safetyAttributes","scores"]);o!=null&&h(e,["scores"],o);const r=f(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function uS(t){const e={},n=f(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const o=f(t,["safetyAttributes","scores"]);o!=null&&h(e,["scores"],o);const r=f(t,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function wM(t){const e={},n=f(t,["category"]);if(n!=null&&h(e,["category"],n),f(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=f(t,["threshold"]);return o!=null&&h(e,["threshold"],o),e}function RM(t){const e={},n=f(t,["image"]);return n!=null&&h(e,["image"],li(n)),e}function bM(t,e){const n={},o=f(t,["mode"]);e!==void 0&&o!=null&&h(e,["parameters","mode"],o);const r=f(t,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const l=f(t,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=f(t,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const d=f(t,["binaryColorThreshold"]);e!==void 0&&d!=null&&h(e,["parameters","binaryColorThreshold"],d);const y=f(t,["labels"]);return e!==void 0&&y!=null&&h(e,["labels"],y),n}function NM(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["source"]);r!=null&&xM(r,n);const l=f(e,["config"]);return l!=null&&bM(l,n),n}function MM(t){const e={},n=f(t,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>tM(r))),h(e,["generatedMasks"],o)}return e}function xM(t,e){const n={},o=f(t,["prompt"]);e!==void 0&&o!=null&&h(e,["instances[0]","prompt"],o);const r=f(t,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],li(r));const l=f(t,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],RM(l)),n}function DM(t){const e={},n=f(t,["functionCallingConfig"]);n!=null&&h(e,["functionCallingConfig"],PN(n));const o=f(t,["retrievalConfig"]);return o!=null&&h(e,["retrievalConfig"],o),e}function VM(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>T)),h(e,["functionDeclarations"],_)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],aM(d));const y=f(t,["googleSearch"]);y!=null&&h(e,["googleSearch"],lM(y));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function cS(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let T=n;Array.isArray(T)&&(T=T.map(S=>kN(S))),h(e,["functionDeclarations"],T)}const o=f(t,["retrieval"]);o!=null&&h(e,["retrieval"],o);const r=f(t,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(t,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(t,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(t,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(t,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(t,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const _=f(t,["urlContext"]);return _!=null&&h(e,["urlContext"],_),e}function PM(t){const e={},n=f(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const o=f(t,["createTime"]);o!=null&&h(e,["createTime"],o);const r=f(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function kM(t){const e={},n=f(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const o=f(t,["createTime"]);o!=null&&h(e,["createTime"],o);const r=f(t,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function UM(t,e){const n={},o=f(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=f(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function LM(t,e){const n={},o=f(t,["displayName"]);e!==void 0&&o!=null&&h(e,["displayName"],o);const r=f(t,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),n}function OM(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","name"],Ke(t,o));const r=f(e,["config"]);return r!=null&&UM(r,n),n}function qM(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["config"]);return r!=null&&LM(r,n),n}function BM(t,e){const n={},o=f(t,["outputGcsUri"]);e!==void 0&&o!=null&&h(e,["parameters","storageUri"],o);const r=f(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const l=f(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=f(t,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const d=f(t,["outputMimeType"]);e!==void 0&&d!=null&&h(e,["parameters","outputOptions","mimeType"],d);const y=f(t,["outputCompressionQuality"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","compressionQuality"],y);const p=f(t,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const _=f(t,["imagePreservationFactor"]);e!==void 0&&_!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const T=f(t,["labels"]);e!==void 0&&T!=null&&h(e,["labels"],T);const S=f(t,["numberOfImages"]);e!==void 0&&S!=null&&h(e,["parameters","sampleCount"],S);const R=f(t,["mode"]);return e!==void 0&&R!=null&&h(e,["parameters","mode"],R),n}function FM(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["_url","model"],Ke(t,o));const r=f(e,["image"]);r!=null&&h(n,["instances[0]","image"],li(r));const l=f(e,["upscaleFactor"]);l!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],l);const c=f(e,["config"]);return c!=null&&BM(c,n),n}function GM(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Tf(l))),h(e,["generatedImages"],r)}return e}function HM(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const o=f(t,["encodedVideo"]);o!=null&&h(e,["videoBytes"],ss(o));const r=f(t,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function zM(t){const e={},n=f(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const o=f(t,["bytesBase64Encoded"]);o!=null&&h(e,["videoBytes"],ss(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function YM(t){const e={},n=f(t,["image"]);n!=null&&h(e,["_self"],li(n));const o=f(t,["maskMode"]);return o!=null&&h(e,["maskMode"],o),e}function KM(t){const e={},n=f(t,["image"]);n!=null&&h(e,["image"],Ef(n));const o=f(t,["referenceType"]);return o!=null&&h(e,["referenceType"],o),e}function JM(t){const e={},n=f(t,["image"]);n!=null&&h(e,["image"],li(n));const o=f(t,["referenceType"]);return o!=null&&h(e,["referenceType"],o),e}function fS(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["uri"],n);const o=f(t,["videoBytes"]);o!=null&&h(e,["encodedVideo"],ss(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function dS(t){const e={},n=f(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const o=f(t,["videoBytes"]);o!=null&&h(e,["bytesBase64Encoded"],ss(o));const r=f(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $M(t,e){const n={},o=f(t,["displayName"]);return e!==void 0&&o!=null&&h(e,["displayName"],o),n}function QM(t){const e={},n=f(t,["config"]);return n!=null&&$M(n,e),e}function XM(t,e){const n={},o=f(t,["force"]);return e!==void 0&&o!=null&&h(e,["_query","force"],o),n}function WM(t){const e={},n=f(t,["name"]);n!=null&&h(e,["_url","name"],n);const o=f(t,["config"]);return o!=null&&XM(o,e),e}function ZM(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function jM(t,e){const n={},o=f(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const r=f(t,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),n}function ex(t){const e={},n=f(t,["name"]);n!=null&&h(e,["name"],n);const o=f(t,["metadata"]);o!=null&&h(e,["metadata"],o);const r=f(t,["done"]);r!=null&&h(e,["done"],r);const l=f(t,["error"]);l!=null&&h(e,["error"],l);const c=f(t,["response"]);return c!=null&&h(e,["response"],nx(c)),e}function tx(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const o=f(t,["fileName"]);o!=null&&h(e,["fileName"],o);const r=f(t,["config"]);return r!=null&&jM(r,e),e}function nx(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["parent"]);o!=null&&h(e,["parent"],o);const r=f(t,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function ix(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function ox(t){const e={},n=f(t,["config"]);return n!=null&&ix(n,e),e}function sx(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function hS(t,e){const n={},o=f(t,["mimeType"]);e!==void 0&&o!=null&&h(e,["mimeType"],o);const r=f(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const l=f(t,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(y=>y)),h(e,["customMetadata"],d)}const c=f(t,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),n}function rx(t){const e={},n=f(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const o=f(t,["config"]);return o!=null&&hS(o,e),e}function ax(t){const e={},n=f(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lx="Content-Type",ux="X-Server-Timeout",cx="User-Agent",Ap="x-goog-api-client",fx="1.34.0",dx=`google-genai-sdk/${fx}`,hx="v1beta1",px="v1beta";class mx{constructor(e){var n,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:hx,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:px,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,o){const r=[this.getRequestUrlInternal(n)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);if(e.queryParams)for(const[c,d]of Object.entries(e.queryParams))r.searchParams.append(c,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,n){const o=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(n))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,n,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,o,r){if(n&&n.timeout||r){const l=new AbortController,c=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const d=setTimeout(()=>l.abort(),n.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return n&&n.extraBody!==null&&gx(e,n.extraBody),e.headers=await this.getHeadersInternal(n,o),e}async unaryApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await oT(r),new vp(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,n,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:o})).then(async r=>(await oT(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return si(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const d="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:_}=yield Ae(r.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=l.decode(_,{stream:!0});try{const L=JSON.parse(T);if("error"in L){const B=JSON.parse(JSON.stringify(L.error)),U=B.status,Q=B.code,oe=`got status: ${U}. ${JSON.stringify(L)}`;if(Q>=400&&Q<600)throw new vf({message:oe,status:Q})}}catch(L){if(L.name==="ApiError")throw L}c+=T;let S=-1,R=0;for(;;){S=-1,R=0;for(const U of y){const Q=c.indexOf(U);Q!==-1&&(S===-1||Q<S)&&(S=Q,R=U.length)}if(S===-1)break;const L=c.substring(0,S);c=c.substring(S+R);const B=L.trim();if(B.startsWith(d)){const U=B.substring(d.length).trim();try{const Q=new Response(U,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ae(new vp(Q))}catch(Q){throw new Error(`exception parsing stream chunk ${U}. ${Q}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},n=dx+" "+this.clientOptions.userAgentExtra;return e[cx]=n,e[Ap]=n,e[lx]="application/json",e}async getHeadersInternal(e,n){const o=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))o.append(r,l);e.timeout&&e.timeout>0&&o.append(ux,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,n),o}getFileName(e){var n;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(n=o.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),o}async uploadFile(e,n){var o;const r={};n!=null&&(r.mimeType=n.mimeType,r.name=n.name,r.displayName=n.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const d=(o=n==null?void 0:n.mimeType)!==null&&o!==void 0?o:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const y={file:r},p=this.getFileName(e),_=ce("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(_,r.sizeBytes,r.mimeType,p,y,n==null?void 0:n.httpOptions);return l.upload(e,T,this)}async uploadFileToFileSearchStore(e,n,o){var r;const l=this.clientOptions.uploader,c=await l.stat(n),d=String(c.size),y=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:c.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,_=this.getFileName(n),T={};o!=null&&hS(o,T);const S=await this.fetchUploadUrl(p,d,y,_,T,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(n,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,o,r,l,c){var d;let y={};c?y=c:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:y});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(d=p==null?void 0:p.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function oT(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw n>=400&&n<600?new vf({message:r,status:n}):new Error(r)}}function gx(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const d=Object.assign({},l);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const p=c[y],_=d[y];p&&typeof p=="object"&&!Array.isArray(p)&&_&&typeof _=="object"&&!Array.isArray(_)?d[y]=o(_,p):(_&&p&&typeof _!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof p}. Overwriting.`),d[y]=p)}return d}const r=o(n,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yx="mcp_used/unknown";let vx=!1;function pS(t){for(const e of t)if(_x(e)||typeof e=="object"&&"inputSchema"in e)return!0;return vx}function mS(t){var e;const n=(e=t[Ap])!==null&&e!==void 0?e:"";t[Ap]=(n+` ${yx}`).trimStart()}function _x(t){return t!==null&&typeof t=="object"&&t instanceof rm}function Tx(t){return si(this,arguments,function*(n,o=100){let r,l=0;for(;l<o;){const c=yield Ae(n.listTools({cursor:r}));for(const d of c.tools)yield yield Ae(d),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class rm{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new rm(e,n)}async initialize(){var e,n,o,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const _ of this.mcpClients)try{for(var d=!0,y=(n=void 0,ri(Tx(_))),p;p=await y.next(),e=p.done,!e;d=!0){r=p.value,d=!1;const T=r;c.push(T);const S=T.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=_}}catch(T){n={error:T}}finally{try{!d&&!e&&(o=y.return)&&await o.call(y)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),Zw(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:o.name,arguments:o.args},void 0,l);n.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Ex(t,e,n){const o=new zw;let r;n.data instanceof Blob?r=JSON.parse(await n.data.text()):r=JSON.parse(n.data),Object.assign(o,r),e(o)}class Sx{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o}async connect(e){var n,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=Ix(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const _=new Promise(Z=>{p=Z}),T=e.callbacks,S=function(){p({})},R=this.apiClient,L={onopen:S,onmessage:Z=>{Ex(R,T.onmessage,Z)},onerror:(n=T==null?void 0:T.onerror)!==null&&n!==void 0?n:function(Z){},onclose:(o=T==null?void 0:T.onclose)!==null&&o!==void 0?o:function(Z){}},B=this.webSocketFactory.create(y,Cx(c),L);B.connect(),await _;const oe={setup:{model:Ke(this.apiClient,e.model)}};return B.send(JSON.stringify(oe)),new Ax(B,this.apiClient)}}class Ax{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Qb(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=$b(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Wr.PLAY)}pause(){this.sendPlaybackControl(Wr.PAUSE)}stop(){this.sendPlaybackControl(Wr.STOP)}resetContext(){this.sendPlaybackControl(Wr.RESET_CONTEXT)}close(){this.conn.close()}}function Cx(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Ix(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wx="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function Rx(t,e,n){const o=new Hw;let r;n.data instanceof Blob?r=await n.data.text():n.data instanceof ArrayBuffer?r=new TextDecoder().decode(n.data):r=n.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=Zb(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class bx{constructor(e,n,o){this.apiClient=e,this.auth=n,this.webSocketFactory=o,this.music=new Sx(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,o,r,l,c,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let _;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&pS(e.config.tools)&&mS(T);const S=Dx(T);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,_);else{const M=this.apiClient.getApiKey();let x="BidiGenerateContent",k="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),x="BidiGenerateContentConstrained",k="access_token"),_=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${x}?${k}=${M}`}let R=()=>{};const L=new Promise(M=>{R=M}),B=e.callbacks,U=function(){var M;(M=B==null?void 0:B.onopen)===null||M===void 0||M.call(B),R({})},Q=this.apiClient,oe={onopen:U,onmessage:M=>{Rx(Q,B.onmessage,M)},onerror:(n=B==null?void 0:B.onerror)!==null&&n!==void 0?n:function(M){},onclose:(o=B==null?void 0:B.onclose)!==null&&o!==void 0?o:function(M){}},Z=this.webSocketFactory.create(_,xx(S),oe);Z.connect(),await L;let se=Ke(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&se.startsWith("publishers/")){const M=this.apiClient.getProject(),x=this.apiClient.getLocation();se=`projects/${M}/locations/${x}/`+se}let fe={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ll.AUDIO]}:e.config.responseModalities=[Ll.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const le=(d=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],w=[];for(const M of le)if(this.isCallableTool(M)){const x=M;w.push(await x.tool())}else w.push(M);w.length>0&&(e.config.tools=w);const N={model:se,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?fe=Jb(this.apiClient,N):fe=Kb(this.apiClient,N),delete fe.config,Z.send(JSON.stringify(fe)),new Mx(Z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Nx={turnComplete:!0};class Mx{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let o=[];try{o=zn(n.turns),e.isVertexAI()||(o=o.map(r=>_f(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:o,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let o=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?o=n.functionResponses:o=[n.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(wx)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Nx),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Wb(e)}:n={realtimeInput:Xb(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xx(t){const e={};return t.forEach((n,o)=>{e[o]=n}),e}function Dx(t){const e=new Headers;for(const[n,o]of Object.entries(t))e.append(n,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sT=10;function rT(t){var e,n,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ea(c)){r=!0;break}if(!r)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function ea(t){return"callTool"in t&&typeof t.callTool=="function"}function Vx(t){var e,n,o;return(o=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(r=>ea(r)))!==null&&o!==void 0?o:!1}function aT(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(ea(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(r)}),n}function lT(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Px extends ho{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var o,r,l,c,d;const y=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Vx(n)||rT(n.config))return await this.generateContentInternal(y);const p=aT(n);if(p.length>0){const B=p.map(U=>`tools[${U}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${B}.`)}let _,T;const S=zn(y.contents),R=(l=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:sT;let L=0;for(;L<R&&(_=await this.generateContentInternal(y),!(!_.functionCalls||_.functionCalls.length===0));){const B=_.candidates[0].content,U=[];for(const Q of(d=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(ea(Q)){const Z=await Q.callTool(_.functionCalls);U.push(...Z)}L++,T={role:"user",parts:U},y.contents=zn(y.contents),y.contents.push(B),y.contents.push(T),lT(y.config)&&(S.push(B),S.push(T))}return lT(y.config)&&(_.automaticFunctionCallingHistory=S),_},this.generateContentStream=async n=>{var o,r,l,c,d;if(this.maybeMoveToResponseJsonSchem(n),rT(n.config)){const T=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(T)}const y=aT(n);if(y.length>0){const T=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,_=(d=(c=n==null?void 0:n.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(p&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(o=>{var r;let l;const c=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=y==null?void 0:y.safetyAttributes:c.push(y);let d;return l?d={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},d}),this.list=async n=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Qs(ro.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async n=>{const o={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(o.referenceImages=n.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async n=>{let o={numberOfImages:1,mode:"upscale"};n.config&&(o=Object.assign(Object.assign({},o),n.config));const r={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async n=>{var o,r,l,c,d,y;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=n.video)===null||o===void 0)&&o.uri&&(!((r=n.video)===null||r===void 0)&&r.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((y=(d=n.source)===null||d===void 0?void 0:d.video)===null||y===void 0)&&y.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,o,r;const l=(n=e.config)===null||n===void 0?void 0:n.tools;if(!l)return e;const c=await Promise.all(l.map(async y=>ea(y)?await y.tool():y)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(d.config.tools=c,e.config&&e.config.tools&&pS(e.config.tools)){const y=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),mS(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var n,o,r;const l=new Map;for(const c of(o=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&o!==void 0?o:[])if(ea(c)){const d=c,y=await d.tool();for(const p of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,d)}}return l}async processAfcStream(e){var n,o,r;const l=(r=(o=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:sT;let c=!1,d=0;const y=await this.initAfcToolsMap(e);return(function(p,_,T){return si(this,arguments,function*(){for(var S,R,L,B,U,Q;d<l;){c&&(d++,c=!1);const fe=yield Ae(p.processParamsMaybeAddMcpUsage(T)),le=yield Ae(p.generateContentStreamInternal(fe)),w=[],N=[];try{for(var oe=!0,Z=(R=void 0,ri(le)),se;se=yield Ae(Z.next()),S=se.done,!S;oe=!0){B=se.value,oe=!1;const M=B;if(yield yield Ae(M),M.candidates&&(!((U=M.candidates[0])===null||U===void 0)&&U.content)){N.push(M.candidates[0].content);for(const x of(Q=M.candidates[0].content.parts)!==null&&Q!==void 0?Q:[])if(d<l&&x.functionCall){if(!x.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(x.functionCall.name)){const k=yield Ae(_.get(x.functionCall.name).callTool([x.functionCall]));w.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${x.functionCall.name}`)}}}}catch(M){R={error:M}}finally{try{!oe&&!S&&(L=Z.return)&&(yield Ae(L.call(Z)))}finally{if(R)throw R.error}}if(w.length>0){c=!0;const M=new Cl;M.candidates=[{content:{role:"user",parts:w}}],yield yield Ae(M);const x=[];x.push(...N),x.push({role:"user",parts:w});const k=zn(T.contents).concat(x);T.contents=k}else break}})})(this,y,e)}async generateContentInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=tT(this.apiClient,e);return d=ce("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=iT(_),S=new Cl;return Object.assign(S,T),S})}else{const p=eT(this.apiClient,e);return d=ce("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=nT(_),S=new Cl;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=tT(this.apiClient,e);return d=ce("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(T){return si(this,arguments,function*(){var S,R,L,B;try{for(var U=!0,Q=ri(T),oe;oe=yield Ae(Q.next()),S=oe.done,!S;U=!0){B=oe.value,U=!1;const Z=B,se=iT(yield Ae(Z.json()));se.sdkHttpResponse={headers:Z.headers};const fe=new Cl;Object.assign(fe,se),yield yield Ae(fe)}}catch(Z){R={error:Z}}finally{try{!U&&!S&&(L=Q.return)&&(yield Ae(L.call(Q)))}finally{if(R)throw R.error}}})})}else{const p=eT(this.apiClient,e);return d=ce("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(T){return si(this,arguments,function*(){var S,R,L,B;try{for(var U=!0,Q=ri(T),oe;oe=yield Ae(Q.next()),S=oe.done,!S;U=!0){B=oe.value,U=!1;const Z=B,se=nT(yield Ae(Z.json()));se.sdkHttpResponse={headers:Z.headers};const fe=new Cl;Object.assign(fe,se),yield yield Ae(fe)}}catch(Z){R={error:Z}}finally{try{!U&&!S&&(L=Q.return)&&(yield Ae(L.call(Q)))}finally{if(R)throw R.error}}})})}}async embedContent(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=bN(this.apiClient,e);return d=ce("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=MN(_),S=new L0;return Object.assign(S,T),S})}else{const p=RN(this.apiClient,e);return d=ce("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=NN(_),S=new L0;return Object.assign(S,T),S})}}async generateImagesInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=FN(this.apiClient,e);return d=ce("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=HN(_),S=new O0;return Object.assign(S,T),S})}else{const p=BN(this.apiClient,e);return d=ce("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=GN(_),S=new O0;return Object.assign(S,T),S})}}async editImageInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=AN(this.apiClient,e);return l=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const p=CN(y),_=new Dw;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=FM(this.apiClient,e);return l=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const p=GM(y),_=new Vw;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=SM(this.apiClient,e);return l=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=AM(y),_=new Pw;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=NM(this.apiClient,e);return l=ce("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=MM(y),_=new kw;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=rM(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>Sp(_))}else{const p=sM(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Ep(_))}}async listInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=mM(this.apiClient,e);return d=ce("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=yM(_),S=new q0;return Object.assign(S,T),S})}else{const p=pM(this.apiClient,e);return d=ce("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=gM(_),S=new q0;return Object.assign(S,T),S})}}async update(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=qM(this.apiClient,e);return d=ce("{model}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>Sp(_))}else{const p=OM(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>Ep(_))}}async delete(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=_N(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=EN(_),S=new B0;return Object.assign(S,T),S})}else{const p=vN(this.apiClient,e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=TN(_),S=new B0;return Object.assign(S,T),S})}}async countTokens(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=mN(this.apiClient,e);return d=ce("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=yN(_),S=new F0;return Object.assign(S,T),S})}else{const p=pN(this.apiClient,e);return d=ce("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=gN(_),S=new F0;return Object.assign(S,T),S})}}async computeTokens(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=aN(this.apiClient,e);return l=ce("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const p=lN(y),_=new Uw;return Object.assign(_,p),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=QN(this.apiClient,e);return d=ce("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c.then(_=>{const T=JN(_),S=new Xc;return Object.assign(S,T),S})}else{const p=$N(this.apiClient,e);return d=ce("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c.then(_=>{const T=KN(_),S=new Xc;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kx extends ho{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const n=e.operation,o=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=n.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:r,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:n.name,config:o});return n._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=ww(e);return d=ce("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json()),c}else{const p=Iw(e);return d=ce("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),c}}async fetchPredictVideosOperationInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=vw(e);return l=ce("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ux(t){const e={},n=f(t,["data"]);if(n!=null&&h(e,["data"],n),f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function Lx(t){const e={},n=f(t,["parts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Kx(l))),h(e,["parts"],r)}const o=f(t,["role"]);return o!=null&&h(e,["role"],o),e}function Ox(t,e,n){const o={},r=f(e,["expireTime"]);n!==void 0&&r!=null&&h(n,["expireTime"],r);const l=f(e,["newSessionExpireTime"]);n!==void 0&&l!=null&&h(n,["newSessionExpireTime"],l);const c=f(e,["uses"]);n!==void 0&&c!=null&&h(n,["uses"],c);const d=f(e,["liveConnectConstraints"]);n!==void 0&&d!=null&&h(n,["bidiGenerateContentSetup"],Yx(t,d));const y=f(e,["lockAdditionalFields"]);return n!==void 0&&y!=null&&h(n,["fieldMask"],y),o}function qx(t,e){const n={},o=f(e,["config"]);return o!=null&&h(n,["config"],Ox(t,o,n)),n}function Bx(t){const e={};if(f(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const o=f(t,["mimeType"]);return o!=null&&h(e,["mimeType"],o),e}function Fx(t){const e={},n=f(t,["id"]);n!=null&&h(e,["id"],n);const o=f(t,["args"]);o!=null&&h(e,["args"],o);const r=f(t,["name"]);if(r!=null&&h(e,["name"],r),f(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gx(t){const e={};if(f(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=f(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Hx(t){const e={};if(f(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=f(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function zx(t,e){const n={},o=f(t,["generationConfig"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig"],o);const r=f(t,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(t,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(t,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(t,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(t,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(t,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const _=f(t,["seed"]);e!==void 0&&_!=null&&h(e,["setup","generationConfig","seed"],_);const T=f(t,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],sm(T));const S=f(t,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(t,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const L=f(t,["systemInstruction"]);e!==void 0&&L!=null&&h(e,["setup","systemInstruction"],Lx(sn(L)));const B=f(t,["tools"]);if(e!==void 0&&B!=null){let le=fa(B);Array.isArray(le)&&(le=le.map(w=>$x(ca(w)))),h(e,["setup","tools"],le)}const U=f(t,["sessionResumption"]);e!==void 0&&U!=null&&h(e,["setup","sessionResumption"],Jx(U));const Q=f(t,["inputAudioTranscription"]);e!==void 0&&Q!=null&&h(e,["setup","inputAudioTranscription"],Q);const oe=f(t,["outputAudioTranscription"]);e!==void 0&&oe!=null&&h(e,["setup","outputAudioTranscription"],oe);const Z=f(t,["realtimeInputConfig"]);e!==void 0&&Z!=null&&h(e,["setup","realtimeInputConfig"],Z);const se=f(t,["contextWindowCompression"]);e!==void 0&&se!=null&&h(e,["setup","contextWindowCompression"],se);const fe=f(t,["proactivity"]);if(e!==void 0&&fe!=null&&h(e,["setup","proactivity"],fe),f(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Yx(t,e){const n={},o=f(e,["model"]);o!=null&&h(n,["setup","model"],Ke(t,o));const r=f(e,["config"]);return r!=null&&h(n,["config"],zx(r,n)),n}function Kx(t){const e={},n=f(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const o=f(t,["codeExecutionResult"]);o!=null&&h(e,["codeExecutionResult"],o);const r=f(t,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(t,["fileData"]);l!=null&&h(e,["fileData"],Bx(l));const c=f(t,["functionCall"]);c!=null&&h(e,["functionCall"],Fx(c));const d=f(t,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(t,["inlineData"]);y!=null&&h(e,["inlineData"],Ux(y));const p=f(t,["text"]);p!=null&&h(e,["text"],p);const _=f(t,["thought"]);_!=null&&h(e,["thought"],_);const T=f(t,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(t,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function Jx(t){const e={},n=f(t,["handle"]);if(n!=null&&h(e,["handle"],n),f(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $x(t){const e={},n=f(t,["functionDeclarations"]);if(n!=null){let _=n;Array.isArray(_)&&(_=_.map(T=>T)),h(e,["functionDeclarations"],_)}if(f(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(t,["googleSearchRetrieval"]);o!=null&&h(e,["googleSearchRetrieval"],o);const r=f(t,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(t,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(t,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(t,["googleMaps"]);d!=null&&h(e,["googleMaps"],Gx(d));const y=f(t,["googleSearch"]);y!=null&&h(e,["googleSearch"],Hx(y));const p=f(t,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qx(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const o=t[n];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(l=>`${n}.${l}`);e.push(...r)}else e.push(n)}return e.join(",")}function Xx(t,e){let n=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,n=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(n){const l=Qx(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(p=>c.includes(p)?`generationConfig.${p}`:p));const y=[];l&&y.push(l),d.length>0&&y.push(...d),y.length>0?t.fieldMask=y.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class Wx extends ho{constructor(e){super(),this.apiClient=e}async create(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=qx(this.apiClient,e);l=ce("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const y=Xx(d,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zx(t,e){const n={},o=f(t,["force"]);return e!==void 0&&o!=null&&h(e,["_query","force"],o),n}function jx(t){const e={},n=f(t,["name"]);n!=null&&h(e,["_url","name"],n);const o=f(t,["config"]);return o!=null&&Zx(o,e),e}function e2(t){const e={},n=f(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function t2(t,e){const n={},o=f(t,["pageSize"]);e!==void 0&&o!=null&&h(e,["_query","pageSize"],o);const r=f(t,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),n}function n2(t){const e={},n=f(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const o=f(t,["config"]);return o!=null&&t2(o,e),e}function i2(t){const e={},n=f(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const o=f(t,["nextPageToken"]);o!=null&&h(e,["nextPageToken"],o);const r=f(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o2 extends ho{constructor(e){super(),this.apiClient=e,this.list=async n=>new Qs(ro.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:n.parent,config:o.config}),await this.listInternal(n),n)}async get(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=e2(e);return l=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var n,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=jx(e);r=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=n2(e);return l=ce("{parent}/documents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=i2(y),_=new Lw;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class s2 extends ho{constructor(e,n=new o2(e)){super(),this.apiClient=e,this.documents=n,this.list=async(o={})=>new Qs(ro.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=QM(e);return l=ce("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ZM(e);return l=ce("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var n,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WM(e);r=ce("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ox(e);return l=ce("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=sx(y),_=new Ow;return Object.assign(_,p),_})}}async uploadToFileSearchStoreInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=rx(e);return l=ce("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=ax(y),_=new qw;return Object.assign(_,p),_})}}async importFile(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tx(e);return l=ce("{file_search_store_name}:importFile",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=ex(y),_=new em;return Object.assign(_,p),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gS=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return gS=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^n()&15>>+o/4).toString(16))};const r2=()=>gS();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cp(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Ip=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yn extends Error{}class fn extends Yn{constructor(e,n,o,r){super(`${fn.makeMessage(e,n,o)}`),this.status=e,this.headers=r,this.error=n}static makeMessage(e,n,o){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,o,r){if(!e||!r)return new Sf({message:o,cause:Ip(n)});const l=n;return e===400?new vS(e,l,o,r):e===401?new _S(e,l,o,r):e===403?new TS(e,l,o,r):e===404?new ES(e,l,o,r):e===409?new SS(e,l,o,r):e===422?new AS(e,l,o,r):e===429?new CS(e,l,o,r):e>=500?new IS(e,l,o,r):new fn(e,l,o,r)}}class wp extends fn{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Sf extends fn{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class yS extends Sf{constructor({message:e}={}){super({message:e??"Request timed out."})}}class vS extends fn{}class _S extends fn{}class TS extends fn{}class ES extends fn{}class SS extends fn{}class AS extends fn{}class CS extends fn{}class IS extends fn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a2=/^[a-z][a-z0-9+.-]*:/i,l2=t=>a2.test(t);let Rp=t=>(Rp=Array.isArray,Rp(t));const u2=Rp;let c2=u2;const uT=c2;function f2(t){if(!t)return!0;for(const e in t)return!1;return!0}function d2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const h2=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Yn(`${t} must be an integer`);if(e<0)throw new Yn(`${t} must be a positive integer`);return e},p2=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const m2=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yr="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g2(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const y2=()=>{var t,e,n,o,r;const l=g2();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":fT(Deno.build.os),"X-Stainless-Arch":cT(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":fT((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":cT((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=v2();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Yr,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function v2(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const o=n.exec(navigator.userAgent);if(o){const r=o[1]||0,l=o[2]||0,c=o[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const cT=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",fT=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Mc;const _2=()=>Mc??(Mc=y2());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T2(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function wS(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function E2(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return wS({start(){},async pull(n){const{done:o,value:r}=await e.next();o?n.close():n.enqueue(r)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function RS(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function S2(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A2=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bS=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wh(t,e,n){return bS(),new File(t,e??"unknown_file",n)}function C2(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const I2=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NS=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",w2=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&NS(t),R2=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function b2(t,e,n){if(bS(),t=await t,w2(t))return t instanceof File?t:Wh([await t.arrayBuffer()],t.name);if(R2(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wh(await bp(r),e,n)}const o=await bp(t);if(e||(e=C2(t)),!(n!=null&&n.type)){const r=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(n=Object.assign(Object.assign({},n),{type:r}))}return Wh(o,e,n)}async function bp(t){var e,n,o,r,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(NS(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(I2(t))try{for(var d=!0,y=ri(t),p;p=await y.next(),e=p.done,!e;d=!0){r=p.value,d=!1;const _=r;c.push(...await bp(_))}}catch(_){n={error:_}}finally{try{!d&&!e&&(o=y.return)&&await o.call(y)}finally{if(n)throw n.error}}else{const _=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${_?`; constructor: ${_}`:""}${N2(t)}`)}return c}function N2(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MS{constructor(e){this._client=e}}MS._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const dT=Object.freeze(Object.create(null)),M2=(t=xS)=>(function(n,...o){if(n.length===1)return n[0];let r=!1;const l=[],c=n.reduce((_,T,S)=>{var R,L,B;/[?#]/.test(T)&&(r=!0);const U=o[S];let Q=(r?encodeURIComponent:t)(""+U);return S!==o.length&&(U==null||typeof U=="object"&&U.toString===((B=Object.getPrototypeOf((L=Object.getPrototypeOf((R=U.hasOwnProperty)!==null&&R!==void 0?R:dT))!==null&&L!==void 0?L:dT))===null||B===void 0?void 0:B.toString))&&(Q=U+"",l.push({start:_.length+T.length,length:Q.length,error:`Value of type ${Object.prototype.toString.call(U).slice(8,-1)} is not a valid path parameter`})),_+T+(S===o.length?"":Q)},""),d=c.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=y.exec(d))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((_,T)=>_.start-T.start),l.length>0){let _=0;const T=l.reduce((S,R)=>{const L=" ".repeat(R.start-_),B="^".repeat(R.length);return _=R.start+R.length,S+L+B},"");throw new Yn(`Path parameters result in path with invalid segments:
${l.map(S=>S.error).join(`
`)}
${c}
${T}`)}return c}),xc=M2(xS);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DS extends MS{create(e,n){var o;const{api_version:r=this._client.apiVersion}=e,l=Zc(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new Yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new Yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xc`/${r}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.delete(xc`/${r}/interactions/${e}`,o)}cancel(e,n={},o){const{api_version:r=this._client.apiVersion}=n??{};return this._client.post(xc`/${r}/interactions/${e}/cancel`,o)}get(e,n={},o){var r;const l=n??{},{api_version:c=this._client.apiVersion}=l,d=Zc(l,["api_version"]);return this._client.get(xc`/${c}/interactions/${e}`,Object.assign(Object.assign({query:d},o),{stream:(r=n==null?void 0:n.stream)!==null&&r!==void 0?r:!1}))}}DS._key=Object.freeze(["interactions"]);class VS extends DS{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function x2(t){let e=0;for(const r of t)e+=r.length;const n=new Uint8Array(e);let o=0;for(const r of t)n.set(r,o),o+=r.length;return n}let Dc;function am(t){let e;return(Dc??(e=new globalThis.TextEncoder,Dc=e.encode.bind(e)))(t)}let Vc;function hT(t){let e;return(Vc??(e=new globalThis.TextDecoder,Vc=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Af{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?am(e):e;this.buffer=x2([this.buffer,n]);const o=[];let r;for(;(r=D2(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(hT(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=hT(this.buffer.subarray(0,l));o.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Af.NEWLINE_CHARS=new Set([`
`,"\r"]);Af.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function D2(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function V2(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jc={off:0,error:200,warn:300,info:400,debug:500},pT=(t,e,n)=>{if(t){if(d2(jc,t))return t;un(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(jc))}`)}};function Rl(){}function Pc(t,e,n){return!e||jc[t]>jc[n]?Rl:e[t].bind(e)}const P2={error:Rl,warn:Rl,info:Rl,debug:Rl};let mT=new WeakMap;function un(t){var e;const n=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return P2;const r=mT.get(n);if(r&&r[0]===o)return r[1];const l={error:Pc("error",n,o),warn:Pc("warn",n,o),info:Pc("info",n,o),debug:Pc("debug",n,o)};return mT.set(n,[o,l]),l}const Os=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zr{constructor(e,n,o){this.iterator=e,this.controller=n,this.client=o}static fromSSEResponse(e,n,o){let r=!1;const l=o?un(o):console;function c(){return si(this,arguments,function*(){var y,p,_,T;if(r)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var R=!0,L=ri(k2(e,n)),B;B=yield Ae(L.next()),y=B.done,!y;R=!0){T=B.value,R=!1;const U=T;if(!S)if(U.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield Ae(JSON.parse(U.data))}catch(Q){throw l.error("Could not parse message into JSON:",U.data),l.error("From chunk:",U.raw),Q}}}catch(U){p={error:U}}finally{try{!R&&!y&&(_=L.return)&&(yield Ae(_.call(L)))}finally{if(p)throw p.error}}S=!0}catch(U){if(Cp(U))return yield Ae(void 0);throw U}finally{S||n.abort()}})}return new Zr(c,n,o)}static fromReadableStream(e,n,o){let r=!1;function l(){return si(this,arguments,function*(){var y,p,_,T;const S=new Af,R=RS(e);try{for(var L=!0,B=ri(R),U;U=yield Ae(B.next()),y=U.done,!y;L=!0){T=U.value,L=!1;const Q=T;for(const oe of S.decode(Q))yield yield Ae(oe)}}catch(Q){p={error:Q}}finally{try{!L&&!y&&(_=B.return)&&(yield Ae(_.call(B)))}finally{if(p)throw p.error}}for(const Q of S.flush())yield yield Ae(Q)})}function c(){return si(this,arguments,function*(){var y,p,_,T;if(r)throw new Yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let S=!1;try{try{for(var R=!0,L=ri(l()),B;B=yield Ae(L.next()),y=B.done,!y;R=!0){T=B.value,R=!1;const U=T;S||U&&(yield yield Ae(JSON.parse(U)))}}catch(U){p={error:U}}finally{try{!R&&!y&&(_=L.return)&&(yield Ae(_.call(L)))}finally{if(p)throw p.error}}S=!0}catch(U){if(Cp(U))return yield Ae(void 0);throw U}finally{S||n.abort()}})}return new Zr(c,n,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],o=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=o.next();e.push(c),n.push(c)}return l.shift()}});return[new Zr(()=>r(e),this.controller,this.client),new Zr(()=>r(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return wS({async start(){n=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:l}=await n.next();if(l)return o.close();const c=am(JSON.stringify(r)+`
`);o.enqueue(c)}catch(r){o.error(r)}},async cancel(){var o;await((o=n.return)===null||o===void 0?void 0:o.call(n))}})}}function k2(t,e){return si(this,arguments,function*(){var o,r,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Yn("Attempted to iterate over a response with no body");const d=new L2,y=new Af,p=RS(t.body);try{for(var _=!0,T=ri(U2(p)),S;S=yield Ae(T.next()),o=S.done,!o;_=!0){c=S.value,_=!1;const R=c;for(const L of y.decode(R)){const B=d.decode(L);B&&(yield yield Ae(B))}}}catch(R){r={error:R}}finally{try{!_&&!o&&(l=T.return)&&(yield Ae(l.call(T)))}finally{if(r)throw r.error}}for(const R of y.flush()){const L=d.decode(R);L&&(yield yield Ae(L))}})}function U2(t){return si(this,arguments,function*(){var n,o,r,l;let c=new Uint8Array;try{for(var d=!0,y=ri(t),p;p=yield Ae(y.next()),n=p.done,!n;d=!0){l=p.value,d=!1;const _=l;if(_==null)continue;const T=_ instanceof ArrayBuffer?new Uint8Array(_):typeof _=="string"?am(_):_;let S=new Uint8Array(c.length+T.length);S.set(c),S.set(T,c.length),c=S;let R;for(;(R=V2(c))!==-1;)yield yield Ae(c.slice(0,R)),c=c.slice(R)}}catch(_){o={error:_}}finally{try{!d&&!n&&(r=y.return)&&(yield Ae(r.call(y)))}finally{if(o)throw o.error}}c.length>0&&(yield yield Ae(c))})}class L2{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,o,r]=O2(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}function O2(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function q2(t,e){const{response:n,requestLogID:o,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{var d;if(e.options.stream)return un(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):Zr.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const y=n.headers.get("content-type"),p=(d=y==null?void 0:y.split(";")[0])===null||d===void 0?void 0:d.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?await n.json():await n.text()})();return un(t).debug(`[${o}] response parsed`,Os({retryOfRequestLogID:r,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lm extends Promise{constructor(e,n,o=q2){super(r=>{r(null)}),this.responsePromise=n,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new lm(this.client,this.responsePromise,async(n,o)=>e(await this.parseResponse(n,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PS=Symbol("brand.privateNullableHeaders");function*B2(t){if(!t)return;if(PS in t){const{values:o,nulls:r}=t;yield*o.entries();for(const l of r)yield[l,null];return}let e=!1,n;t instanceof Headers?n=t.entries():uT(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let o of n){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=uT(o[1])?o[1]:[o[1]];let c=!1;for(const d of l)d!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,d])}}const Il=t=>{const e=new Headers,n=new Set;for(const o of t){const r=new Set;for(const[l,c]of B2(o)){const d=l.toLowerCase();r.has(d)||(e.delete(l),r.add(d)),c===null?(e.delete(l),n.add(d)):(e.append(l,c),n.delete(d))}}return{[PS]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Zh=t=>{var e,n,o,r,l,c;if(typeof globalThis.process<"u")return(o=(n=(e=dw)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kS;class Cf{constructor(e){var n,o,r,l,c,d,y,{baseURL:p=Zh("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(n=Zh("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:T="v1beta"}=e,S=Zc(e,["baseURL","apiKey","apiVersion"]);const R=Object.assign(Object.assign({apiKey:_,apiVersion:T},S),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=R.baseURL,this.timeout=(o=R.timeout)!==null&&o!==void 0?o:Cf.DEFAULT_TIMEOUT,this.logger=(r=R.logger)!==null&&r!==void 0?r:console;const L="warn";this.logLevel=L,this.logLevel=(c=(l=pT(R.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:pT(Zh("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:L,this.fetchOptions=R.fetchOptions,this.maxRetries=(d=R.maxRetries)!==null&&d!==void 0?d:2,this.fetch=(y=R.fetch)!==null&&y!==void 0?y:T2(),this.encoder=A2,this._options=R,this.apiKey=_,this.apiVersion=T,this.clientAdapter=R.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=Il([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,o])=>typeof o<"u").map(([n,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(n)}=`;throw new Yn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Yr}`}defaultIdempotencyKey(){return`stainless-node-retry-${r2()}`}makeStatusError(e,n,o,r){return fn.generate(e,n,o,r)}buildURL(e,n,o){const r=!this.baseURLOverridden()&&o||this.baseURL,l=l2(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return f2(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:o}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:n},r)))}request(e,n=null){return new lm(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,o){var r,l,c;const d=await e,y=(r=d.maxRetries)!==null&&r!==void 0?r:this.maxRetries;n==null&&(n=y),await this.prepareOptions(d);const{req:p,url:_,timeout:T}=await this.buildRequest(d,{retryCount:y-n});await this.prepareRequest(p,{url:_,options:d});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),R=o===void 0?"":`, retryOf: ${o}`,L=Date.now();if(un(this).debug(`[${S}] sending request`,Os({retryOfRequestLogID:o,method:d.method,url:_,options:d,headers:p.headers})),!((l=d.signal)===null||l===void 0)&&l.aborted)throw new wp;const B=new AbortController,U=await this.fetchWithTimeout(_,p,T,B).catch(Ip),Q=Date.now();if(U instanceof globalThis.Error){const Z=`retrying, ${n} attempts remaining`;if(!((c=d.signal)===null||c===void 0)&&c.aborted)throw new wp;const se=Cp(U)||/timed? ?out/i.test(String(U)+("cause"in U?String(U.cause):""));if(n)return un(this).info(`[${S}] connection ${se?"timed out":"failed"} - ${Z}`),un(this).debug(`[${S}] connection ${se?"timed out":"failed"} (${Z})`,Os({retryOfRequestLogID:o,url:_,durationMs:Q-L,message:U.message})),this.retryRequest(d,n,o??S);throw un(this).info(`[${S}] connection ${se?"timed out":"failed"} - error; no more retries left`),un(this).debug(`[${S}] connection ${se?"timed out":"failed"} (error; no more retries left)`,Os({retryOfRequestLogID:o,url:_,durationMs:Q-L,message:U.message})),se?new yS:new Sf({cause:U})}const oe=`[${S}${R}] ${p.method} ${_} ${U.ok?"succeeded":"failed"} with status ${U.status} in ${Q-L}ms`;if(!U.ok){const Z=await this.shouldRetry(U);if(n&&Z){const M=`retrying, ${n} attempts remaining`;return await S2(U.body),un(this).info(`${oe} - ${M}`),un(this).debug(`[${S}] response error (${M})`,Os({retryOfRequestLogID:o,url:U.url,status:U.status,headers:U.headers,durationMs:Q-L})),this.retryRequest(d,n,o??S,U.headers)}const se=Z?"error; no more retries left":"error; not retryable";un(this).info(`${oe} - ${se}`);const fe=await U.text().catch(M=>Ip(M).message),le=p2(fe),w=le?void 0:fe;throw un(this).debug(`[${S}] response error (${se})`,Os({retryOfRequestLogID:o,url:U.url,status:U.status,headers:U.headers,message:w,durationMs:Date.now()-L})),this.makeStatusError(U.status,le,w,U.headers)}return un(this).info(oe),un(this).debug(`[${S}] response start`,Os({retryOfRequestLogID:o,url:U.url,status:U.status,headers:U.headers,durationMs:Q-L})),{response:U,options:d,controller:B,requestLogID:S,retryOfRequestLogID:o,startTime:L}}async fetchWithTimeout(e,n,o,r){const l=n||{},{signal:c,method:d}=l,y=Zc(l,["signal","method"]);c&&c.addEventListener("abort",()=>r.abort());const p=setTimeout(()=>r.abort(),o),_=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},_?{duplex:"half"}:{}),{method:"GET"}),y);d&&(T.method=d.toUpperCase());try{return await this.fetch.call(void 0,e,T)}finally{clearTimeout(p)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,o,r){var l;let c;const d=r==null?void 0:r.get("retry-after-ms");if(d){const p=parseFloat(d);Number.isNaN(p)||(c=p)}const y=r==null?void 0:r.get("retry-after");if(y&&!c){const p=parseFloat(y);Number.isNaN(p)?c=Date.parse(y)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,p)}return await m2(c),this.makeRequest(e,n-1,o)}calculateDefaultRetryTimeoutMillis(e,n){const l=n-e,c=Math.min(.5*Math.pow(2,l),8),d=1-Math.random()*.25;return c*d*1e3}async buildRequest(e,{retryCount:n=0}={}){var o,r,l;const c=Object.assign({},e),{method:d,path:y,query:p,defaultBaseURL:_}=c,T=this.buildURL(y,p,_);"timeout"in c&&h2("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:R}=this.buildBody({options:c}),L=await this.buildHeaders({options:e,method:d,bodyHeaders:S,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:d,headers:L},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&R instanceof globalThis.ReadableStream&&{duplex:"half"}),R&&{body:R}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:T,timeout:c.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:o,retryCount:r}){let l={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let d=Il([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),_2()),this._options.defaultHeaders,o,e.headers,c]);return this.validateHeaders(d),d.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Il([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:E2(e)}:this.encoder({body:e,headers:o})}}Cf.DEFAULT_TIMEOUT=6e4;class Gt extends Cf{constructor(){super(...arguments),this.interactions=new VS(this)}}kS=Gt;Gt.GeminiNextGenAPIClient=kS;Gt.GeminiNextGenAPIClientError=Yn;Gt.APIError=fn;Gt.APIConnectionError=Sf;Gt.APIConnectionTimeoutError=yS;Gt.APIUserAbortError=wp;Gt.NotFoundError=ES;Gt.ConflictError=SS;Gt.RateLimitError=CS;Gt.BadRequestError=vS;Gt.AuthenticationError=_S;Gt.InternalServerError=IS;Gt.PermissionDeniedError=TS;Gt.UnprocessableEntityError=AS;Gt.toFile=b2;Gt.Interactions=VS;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function F2(t,e){const n={},o=f(t,["name"]);return o!=null&&h(n,["_url","name"],o),n}function G2(t,e){const n={},o=f(t,["name"]);return o!=null&&h(n,["_url","name"],o),n}function H2(t,e){const n={},o=f(t,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function z2(t,e){const n={},o=f(t,["sdkHttpResponse"]);return o!=null&&h(n,["sdkHttpResponse"],o),n}function Y2(t,e,n){const o={};if(f(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),f(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(t,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=f(t,["learningRateMultiplier"]);if(c!=null&&h(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(t,["batchSize"]);e!==void 0&&d!=null&&h(e,["tuningTask","hyperparameters","batchSize"],d);const y=f(t,["learningRate"]);if(e!==void 0&&y!=null&&h(e,["tuningTask","hyperparameters","learningRate"],y),f(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function K2(t,e,n){const o={};let r=f(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const R=f(t,["validationDataset"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec"],gT(R))}else if(r==="PREFERENCE_TUNING"){const R=f(t,["validationDataset"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec"],gT(R))}const l=f(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=f(t,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let d=f(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const R=f(t,["epochCount"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(d==="PREFERENCE_TUNING"){const R=f(t,["epochCount"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let y=f(n,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=f(t,["learningRateMultiplier"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(y==="PREFERENCE_TUNING"){const R=f(t,["learningRateMultiplier"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let p=f(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const R=f(t,["exportLastCheckpointOnly"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(p==="PREFERENCE_TUNING"){const R=f(t,["exportLastCheckpointOnly"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let _=f(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const R=f(t,["adapterSize"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(_==="PREFERENCE_TUNING"){const R=f(t,["adapterSize"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(f(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(t,["labels"]);e!==void 0&&T!=null&&h(e,["labels"],T);const S=f(t,["beta"]);return e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),o}function J2(t,e){const n={},o=f(t,["baseModel"]);o!=null&&h(n,["baseModel"],o);const r=f(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&oD(l);const c=f(t,["config"]);return c!=null&&Y2(c,n),n}function $2(t,e){const n={},o=f(t,["baseModel"]);o!=null&&h(n,["baseModel"],o);const r=f(t,["preTunedModel"]);r!=null&&h(n,["preTunedModel"],r);const l=f(t,["trainingDataset"]);l!=null&&sD(l,n,e);const c=f(t,["config"]);return c!=null&&K2(c,n,e),n}function Q2(t,e){const n={},o=f(t,["name"]);return o!=null&&h(n,["_url","name"],o),n}function X2(t,e){const n={},o=f(t,["name"]);return o!=null&&h(n,["_url","name"],o),n}function W2(t,e,n){const o={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),o}function Z2(t,e,n){const o={},r=f(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(t,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(t,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),o}function j2(t,e){const n={},o=f(t,["config"]);return o!=null&&W2(o,n),n}function eD(t,e){const n={},o=f(t,["config"]);return o!=null&&Z2(o,n),n}function tD(t,e){const n={},o=f(t,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=f(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=f(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>US(d))),h(n,["tuningJobs"],c)}return n}function nD(t,e){const n={},o=f(t,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=f(t,["nextPageToken"]);r!=null&&h(n,["nextPageToken"],r);const l=f(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Np(d))),h(n,["tuningJobs"],c)}return n}function iD(t,e){const n={},o=f(t,["name"]);o!=null&&h(n,["model"],o);const r=f(t,["name"]);return r!=null&&h(n,["endpoint"],r),n}function oD(t,e){const n={};if(f(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=f(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),h(n,["examples","examples"],r)}return n}function sD(t,e,n){const o={};let r=f(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(t,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=f(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function US(t,e){const n={},o=f(t,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["state"]);l!=null&&h(n,["state"],ZE(l));const c=f(t,["createTime"]);c!=null&&h(n,["createTime"],c);const d=f(t,["tuningTask","startTime"]);d!=null&&h(n,["startTime"],d);const y=f(t,["tuningTask","completeTime"]);y!=null&&h(n,["endTime"],y);const p=f(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const _=f(t,["description"]);_!=null&&h(n,["description"],_);const T=f(t,["baseModel"]);T!=null&&h(n,["baseModel"],T);const S=f(t,["_self"]);return S!=null&&h(n,["tunedModel"],iD(S)),n}function Np(t,e){const n={},o=f(t,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["state"]);l!=null&&h(n,["state"],ZE(l));const c=f(t,["createTime"]);c!=null&&h(n,["createTime"],c);const d=f(t,["startTime"]);d!=null&&h(n,["startTime"],d);const y=f(t,["endTime"]);y!=null&&h(n,["endTime"],y);const p=f(t,["updateTime"]);p!=null&&h(n,["updateTime"],p);const _=f(t,["error"]);_!=null&&h(n,["error"],_);const T=f(t,["description"]);T!=null&&h(n,["description"],T);const S=f(t,["baseModel"]);S!=null&&h(n,["baseModel"],S);const R=f(t,["tunedModel"]);R!=null&&h(n,["tunedModel"],R);const L=f(t,["preTunedModel"]);L!=null&&h(n,["preTunedModel"],L);const B=f(t,["supervisedTuningSpec"]);B!=null&&h(n,["supervisedTuningSpec"],B);const U=f(t,["preferenceOptimizationSpec"]);U!=null&&h(n,["preferenceOptimizationSpec"],U);const Q=f(t,["tuningDataStats"]);Q!=null&&h(n,["tuningDataStats"],Q);const oe=f(t,["encryptionSpec"]);oe!=null&&h(n,["encryptionSpec"],oe);const Z=f(t,["partnerModelTuningSpec"]);Z!=null&&h(n,["partnerModelTuningSpec"],Z);const se=f(t,["customBaseModel"]);se!=null&&h(n,["customBaseModel"],se);const fe=f(t,["experiment"]);fe!=null&&h(n,["experiment"],fe);const le=f(t,["labels"]);le!=null&&h(n,["labels"],le);const w=f(t,["outputUri"]);w!=null&&h(n,["outputUri"],w);const N=f(t,["pipelineJob"]);N!=null&&h(n,["pipelineJob"],N);const M=f(t,["serviceAccount"]);M!=null&&h(n,["serviceAccount"],M);const x=f(t,["tunedModelDisplayName"]);x!=null&&h(n,["tunedModelDisplayName"],x);const k=f(t,["veoTuningSpec"]);return k!=null&&h(n,["veoTuningSpec"],k),n}function rD(t,e){const n={},o=f(t,["sdkHttpResponse"]);o!=null&&h(n,["sdkHttpResponse"],o);const r=f(t,["name"]);r!=null&&h(n,["name"],r);const l=f(t,["metadata"]);l!=null&&h(n,["metadata"],l);const c=f(t,["done"]);c!=null&&h(n,["done"],c);const d=f(t,["error"]);return d!=null&&h(n,["error"],d),n}function gT(t,e){const n={},o=f(t,["gcsUri"]);o!=null&&h(n,["validationDatasetUri"],o);const r=f(t,["vertexDatasetResource"]);return r!=null&&h(n,["validationDatasetUri"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aD extends ho{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Qs(ro.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var o;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const r={tunedModelName:n.baseModel};!((o=n.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},n);return await this.tuneInternal(r)}else{const r=Object.assign({},n),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:yp.JOB_STATE_QUEUED}}}}async getInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=X2(e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>Np(_))}else{const p=Q2(e);return d=ce("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>US(_))}}async listInternal(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=eD(e);return d=ce("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=nD(_),S=new G0;return Object.assign(S,T),S})}else{const p=j2(e);return d=ce("tunedModels",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=tD(_),S=new G0;return Object.assign(S,T),S})}}async cancel(e){var n,o,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=G2(e);return d=ce("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=z2(_),S=new H0;return Object.assign(S,T),S})}else{const p=F2(e);return d=ce("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:_.headers},S})),c.then(_=>{const T=H2(_),S=new H0;return Object.assign(S,T),S})}}async tuneInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=$2(e,e);return l=ce("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>Np(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=J2(e);return l=ce("tunedModels",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(p=>{const _=p;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>rD(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lD{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const uD=1024*1024*8,cD=3,fD=1e3,dD=2,ef="x-goog-upload-status";async function hD(t,e,n){var o;const r=await LS(t,e,n),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function pD(t,e,n){var o;const r=await LS(t,e,n),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[ef])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=KE(l),d=new tm;return Object.assign(d,c),d}async function LS(t,e,n){var o,r;let l=0,c=0,d=new vp(new Response),y="upload";for(l=t.size;c<l;){const p=Math.min(uD,l-c),_=t.slice(c,c+p);c+p>=l&&(y+=", finalize");let T=0,S=fD;for(;T<cD&&(d=await n.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((o=d==null?void 0:d.headers)===null||o===void 0)&&o[ef]));)T++,await gD(S),S=S*dD;if(c+=p,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[ef])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function mD(t){return{size:t.size,type:t.type}}function gD(t){return new Promise(e=>setTimeout(e,t))}class yD{async upload(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await hD(e,n,o)}async uploadToFileSearchStore(e,n,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await pD(e,n,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vD{create(e,n,o){return new _D(e,n,o)}}class _D{constructor(e,n,o){this.url=e,this.headers=n,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yT="x-goog-api-key";class TD{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(yT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(yT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ED="gl-node/";class OS{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Gt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const o=gw(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new TD(this.apiKey);this.apiClient=new mx({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:ED+"web",uploader:new yD,downloader:new lD}),this.models=new Px(this.apiClient),this.live=new bx(this.apiClient,r,new vD),this.batches=new YR(this.apiClient),this.chats=new wb(this.models,this.apiClient),this.caches=new Ab(this.apiClient),this.files=new Ub(this.apiClient),this.operations=new kx(this.apiClient),this.authTokens=new Wx(this.apiClient),this.tunings=new aD(this.apiClient),this.fileSearchStores=new s2(this.apiClient)}}const SD=async t=>{const e=new OS({apiKey:"PLACEHOLDER_API_KEY"}),n=Xr.filter(p=>t.takenMedications[p.id]).map(p=>p.name),o=Xr.filter(p=>!t.takenMedications[p.id]).map(p=>p.name),r={good:"",fair:"",poor:""},l={good:"/",fair:"",poor:""},c=`
          .       ${t.patientAge}  ${t.patientName}:
    -     : ${n.join(", ")||" "}
    -  : ${o.join(", ")||" "}
    -    (1-5): ${t.currentReport.healthRating}
    -   (0-10): ${t.currentReport.painLevel}
    -  : ${t.currentReport.painLocation||"   "}
    -   : ${r[t.currentReport.sleepQuality]||" "}
    -   : ${l[t.currentReport.appetite]||" "}
    -  : ${t.currentReport.symptoms.join(", ")||"  "}
    -  : ${t.currentReport.notes||" "}

         :
    1.        .
    2.   (    ).
    3.          ( Eliquis/Plavix)       .
    4.      .

        JSON  .
  `,y=(await e.models.generateContent({model:"gemini-3-flash-preview",contents:c,config:{thinkingConfig:{thinkingBudget:4e3},responseMimeType:"application/json",responseSchema:{type:tn.OBJECT,properties:{summary:{type:tn.STRING,description:"   "},recommendations:{type:tn.ARRAY,items:{type:tn.STRING},description:" "},warnings:{type:tn.ARRAY,items:{type:tn.STRING},description:" "},positivePoints:{type:tn.ARRAY,items:{type:tn.STRING},description:" "}},required:["summary","recommendations","warnings","positivePoints"]}}})).text;if(!y)throw new Error("Empty response from AI");return JSON.parse(y)};function AD(t){const e=atob(t),n=e.length,o=new Uint8Array(n);for(let r=0;r<n;r++)o[r]=e.charCodeAt(r);return o}async function CD(t,e,n,o){const r=new Int16Array(t.buffer),l=r.length/o,c=e.createBuffer(o,l,n);for(let d=0;d<o;d++){const y=c.getChannelData(d);for(let p=0;p<l;p++)y[p]=r[p*o+d]/32768}return c}let Bs=null;const ID=async t=>{var d,y,p,_,T,S;Bs&&(Bs.stop(),Bs=null);const o=(S=(T=(_=(p=(y=(d=(await new OS({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`       : ${t}`}]}],config:{responseModalities:[Ll.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:d[0])==null?void 0:y.content)==null?void 0:p.parts)==null?void 0:_[0])==null?void 0:T.inlineData)==null?void 0:S.data;if(!o)return;const r=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),l=await CD(AD(o),r,24e3,1),c=r.createBufferSource();c.buffer=l,c.connect(r.destination),c.start(),Bs=c},wD=()=>{Bs&&(Bs.stop(),Bs=null)},RD=()=>{};var vT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(t){const e=[];let n=0;for(let o=0;o<t.length;o++){let r=t.charCodeAt(o);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&o+1<t.length&&(t.charCodeAt(o+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++o)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},bD=function(t){const e=[];let n=0,o=0;for(;n<t.length;){const r=t[n++];if(r<128)e[o++]=String.fromCharCode(r);else if(r>191&&r<224){const l=t[n++];e[o++]=String.fromCharCode((r&31)<<6|l&63)}else if(r>239&&r<365){const l=t[n++],c=t[n++],d=t[n++],y=((r&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[o++]=String.fromCharCode(55296+(y>>10)),e[o++]=String.fromCharCode(56320+(y&1023))}else{const l=t[n++],c=t[n++];e[o++]=String.fromCharCode((r&15)<<12|(l&63)<<6|c&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<t.length;r+=3){const l=t[r],c=r+1<t.length,d=c?t[r+1]:0,y=r+2<t.length,p=y?t[r+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|p>>6,R=p&63;y||(R=64,c||(S=64)),o.push(n[_],n[T],n[S],n[R])}return o.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<t.length;){const l=n[t.charAt(r++)],d=r<t.length?n[t.charAt(r)]:0;++r;const p=r<t.length?n[t.charAt(r)]:64;++r;const T=r<t.length?n[t.charAt(r)]:64;if(++r,l==null||d==null||p==null||T==null)throw new ND;const S=l<<2|d>>4;if(o.push(S),p!==64){const R=d<<4&240|p>>2;if(o.push(R),T!==64){const L=p<<6&192|T;o.push(L)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ND extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MD=function(t){const e=qS(t);return BS.encodeByteArray(e,!0)},tf=function(t){return MD(t).replace(/\./g,"")},xD=function(t){try{return BS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=()=>DD().__FIREBASE_DEFAULTS__,PD=()=>{if(typeof process>"u"||typeof vT>"u")return;const t=vT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xD(t[1]);return e&&JSON.parse(e)},um=()=>{try{return RD()||VD()||PD()||kD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UD=t=>{var e,n;return(n=(e=um())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},LD=t=>{const e=UD(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},FS=()=>{var t;return(t=um())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",r=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${o}`,aud:o,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tf(JSON.stringify(n)),tf(JSON.stringify(c)),""].join(".")}const Dl={};function FD(){const t={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?t.emulator.push(e):t.prod.push(e);return t}function GD(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _T=!1;function HD(t,e){if(typeof window>"u"||typeof document>"u"||!cm(window.location.host)||Dl[t]===e||Dl[t]||_T)return;Dl[t]=e;function n(S){return`__firebase__banner__${S}`}const o="__firebase__banner",l=FD().prod.length>0;function c(){const S=document.getElementById(o);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{_T=!0,c()},S}function _(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=GD(o),R=n("text"),L=document.getElementById(R)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),Q=n("preprendIcon"),oe=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Z=S.element;d(Z),_(U,B);const se=p();y(oe,Q),Z.append(oe,L,U,se),document.body.appendChild(Z)}l?(L.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YD(){var e;const t=(e=um())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KD(){return!YD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var l;e(((l=r.error)==null?void 0:l.message)||"")}}catch(n){e(n)}})}function JD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="FirebaseError";class Xs extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=$D,Object.setPrototypeOf(this,Xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,If.prototype.create)}}class If{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},r=`${this.service}/${e}`,l=this.errors[e],c=l?QD(l,o):"Error",d=`${this.serviceName}: ${c} (${r}).`;return new Xs(r,d,o)}}function QD(t,e){return t.replace(XD,(n,o)=>{const r=e[o];return r!=null?String(r):`<${o}?>`})}const XD=/\{\$([^}]+)}/g;function nf(t,e){if(t===e)return!0;const n=Object.keys(t),o=Object.keys(e);for(const r of n){if(!o.includes(r))return!1;const l=t[r],c=e[r];if(TT(l)&&TT(c)){if(!nf(l,c))return!1}else if(l!==c)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function TT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(t){return t&&t._delegate?t._delegate:t}class lo{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new OD;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&o.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(o)return null;throw r}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jD(e))try{this.getOrInitializeService({instanceIdentifier:qs})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:r});o.resolve(l)}catch{}}}}clearInstance(e=qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qs){return this.instances.has(e)}getOptions(e=qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);o===d&&c.resolve(r)}return r}onInit(e,n){const o=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(o)??new Set;r.add(e),this.onInitCallbacks.set(o,r);const l=this.instances.get(o);return l&&e(l,o),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const r of o)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:ZD(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=qs){return this.component?this.component.multipleInstances?e:qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZD(t){return t===qs?void 0:t}function jD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ge||(Ge={}));const tV={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},nV=Ge.INFO,iV={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},oV=(t,e,...n)=>{if(e<t.logLevel)return;const o=new Date().toISOString(),r=iV[e];if(r)console[r](`[${o}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zS{constructor(e){this.name=e,this._logLevel=nV,this._logHandler=oV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const sV=(t,e)=>e.some(n=>t instanceof n);let ET,ST;function rV(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aV(){return ST||(ST=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YS=new WeakMap,Mp=new WeakMap,KS=new WeakMap,jh=new WeakMap,fm=new WeakMap;function lV(t){const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("success",l),t.removeEventListener("error",c)},l=()=>{n(oo(t.result)),r()},c=()=>{o(t.error),r()};t.addEventListener("success",l),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&YS.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function uV(t){if(Mp.has(t))return;const e=new Promise((n,o)=>{const r=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",c),t.removeEventListener("abort",c)},l=()=>{n(),r()},c=()=>{o(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",l),t.addEventListener("error",c),t.addEventListener("abort",c)});Mp.set(t,e)}let xp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Mp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cV(t){xp=t(xp)}function fV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=t.call(ep(this),e,...n);return KS.set(o,e.sort?e.sort():[e]),oo(o)}:aV().includes(t)?function(...e){return t.apply(ep(this),e),oo(YS.get(this))}:function(...e){return oo(t.apply(ep(this),e))}}function dV(t){return typeof t=="function"?fV(t):(t instanceof IDBTransaction&&uV(t),sV(t,rV())?new Proxy(t,xp):t)}function oo(t){if(t instanceof IDBRequest)return lV(t);if(jh.has(t))return jh.get(t);const e=dV(t);return e!==t&&(jh.set(t,e),fm.set(e,t)),e}const ep=t=>fm.get(t);function wf(t,e,{blocked:n,upgrade:o,blocking:r,terminated:l}={}){const c=indexedDB.open(t,e),d=oo(c);return o&&c.addEventListener("upgradeneeded",y=>{o(oo(c.result),y.oldVersion,y.newVersion,oo(c.transaction),y)}),n&&c.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),d.then(y=>{l&&y.addEventListener("close",()=>l()),r&&y.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}function tp(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",o=>e(o.oldVersion,o)),oo(n).then(()=>{})}const hV=["get","getKey","getAll","getAllKeys","count"],pV=["put","add","delete","clear"],np=new Map;function AT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,r=pV.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||hV.includes(n)))return;const l=async function(c,...d){const y=this.transaction(c,r?"readwrite":"readonly");let p=y.store;return o&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),r&&y.done]))[0]};return np.set(e,l),l}cV(t=>({...t,get:(e,n,o)=>AT(e,n)||t.get(e,n,o),has:(e,n)=>!!AT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gV(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function gV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",CT="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo=new zS("@firebase/app"),yV="@firebase/app-compat",vV="@firebase/analytics-compat",_V="@firebase/analytics",TV="@firebase/app-check-compat",EV="@firebase/app-check",SV="@firebase/auth",AV="@firebase/auth-compat",CV="@firebase/database",IV="@firebase/data-connect",wV="@firebase/database-compat",RV="@firebase/functions",bV="@firebase/functions-compat",NV="@firebase/installations",MV="@firebase/installations-compat",xV="@firebase/messaging",DV="@firebase/messaging-compat",VV="@firebase/performance",PV="@firebase/performance-compat",kV="@firebase/remote-config",UV="@firebase/remote-config-compat",LV="@firebase/storage",OV="@firebase/storage-compat",qV="@firebase/firestore",BV="@firebase/ai",FV="@firebase/firestore-compat",GV="firebase",HV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="[DEFAULT]",zV={[Dp]:"fire-core",[yV]:"fire-core-compat",[_V]:"fire-analytics",[vV]:"fire-analytics-compat",[EV]:"fire-app-check",[TV]:"fire-app-check-compat",[SV]:"fire-auth",[AV]:"fire-auth-compat",[CV]:"fire-rtdb",[IV]:"fire-data-connect",[wV]:"fire-rtdb-compat",[RV]:"fire-fn",[bV]:"fire-fn-compat",[NV]:"fire-iid",[MV]:"fire-iid-compat",[xV]:"fire-fcm",[DV]:"fire-fcm-compat",[VV]:"fire-perf",[PV]:"fire-perf-compat",[kV]:"fire-rc",[UV]:"fire-rc-compat",[LV]:"fire-gcs",[OV]:"fire-gcs-compat",[qV]:"fire-fst",[FV]:"fire-fst-compat",[BV]:"fire-vertex","fire-js":"fire-js",[GV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,YV=new Map,Pp=new Map;function IT(t,e){try{t.container.addComponent(e)}catch(n){uo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Zo(t){const e=t.name;if(Pp.has(e))return uo.debug(`There were multiple attempts to register component ${e}.`),!1;Pp.set(e,t);for(const n of Ol.values())IT(n,t);for(const n of YV.values())IT(n,t);return!0}function Rf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function KV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qo=new If("app","Firebase",JV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,o){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=HV;function JS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const o={name:Vp,automaticDataCollectionEnabled:!0,...e},r=o.name;if(typeof r!="string"||!r)throw Qo.create("bad-app-name",{appName:String(r)});if(n||(n=FS()),!n)throw Qo.create("no-options");const l=Ol.get(r);if(l){if(nf(n,l.options)&&nf(o,l.config))return l;throw Qo.create("duplicate-app",{appName:r})}const c=new eV(r);for(const y of Pp.values())c.addComponent(y);const d=new $V(n,o,c);return Ol.set(r,d),d}function dm(t=Vp){const e=Ol.get(t);if(!e&&t===Vp&&FS())return JS();if(!e)throw Qo.create("no-app",{appName:t});return e}function XV(){return Array.from(Ol.values())}function Di(t,e,n){let o=zV[t]??t;n&&(o+=`-${n}`);const r=o.match(/\s|\//),l=e.match(/\s|\//);if(r||l){const c=[`Unable to register library "${o}" with version "${e}":`];r&&c.push(`library name "${o}" contains illegal characters (whitespace or "/")`),r&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),uo.warn(c.join(" "));return}Zo(new lo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="firebase-heartbeat-database",ZV=1,ql="firebase-heartbeat-store";let ip=null;function $S(){return ip||(ip=wf(WV,ZV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ql)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qo.create("idb-open",{originalErrorMessage:t.message})})),ip}async function jV(t){try{const n=(await $S()).transaction(ql),o=await n.objectStore(ql).get(QS(t));return await n.done,o}catch(e){if(e instanceof Xs)uo.warn(e.message);else{const n=Qo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});uo.warn(n.message)}}}async function wT(t,e){try{const o=(await $S()).transaction(ql,"readwrite");await o.objectStore(ql).put(e,QS(t)),await o.done}catch(n){if(n instanceof Xs)uo.warn(n.message);else{const o=Qo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});uo.warn(o.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=1024,tP=30;class nP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new oP(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=RT();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>tP){const c=sP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){uo.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=RT(),{heartbeatsToSend:o,unsentEntries:r}=iP(this._heartbeatsCache.heartbeats),l=tf(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return uo.warn(n),""}}}function RT(){return new Date().toISOString().substring(0,10)}function iP(t,e=eP){const n=[];let o=t.slice();for(const r of t){const l=n.find(c=>c.agent===r.agent);if(l){if(l.dates.push(r.date),bT(n)>e){l.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),bT(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class oP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const o=await this.read();return wT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bT(t){return tf(JSON.stringify({version:2,heartbeats:t})).length}function sP(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let o=1;o<t.length;o++)t[o].date<n&&(n=t[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){Zo(new lo("platform-logger",e=>new mV(e),"PRIVATE")),Zo(new lo("heartbeat",e=>new nP(e),"PRIVATE")),Di(Dp,CT,t),Di(Dp,CT,"esm2020"),Di("fire-js","")}rP("");var aP="firebase",lP="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Di(aP,lP,"app");const XS="@firebase/installations",hm="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=1e4,ZS=`w:${hm}`,jS="FIS_v2",uP="https://firebaseinstallations.googleapis.com/v1",cP=3600*1e3,fP="installations",dP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ys=new If(fP,dP,hP);function eA(t){return t instanceof Xs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA({projectId:t}){return`${uP}/projects/${t}/installations`}function nA(t){return{token:t.token,requestStatus:2,expiresIn:mP(t.expiresIn),creationTime:Date.now()}}async function iA(t,e){const o=(await e.json()).error;return Ys.create("request-failed",{requestName:t,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function oA({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pP(t,{refreshToken:e}){const n=oA(t);return n.append("Authorization",gP(e)),n}async function sA(t){const e=await t();return e.status>=500&&e.status<600?t():e}function mP(t){return Number(t.replace("s","000"))}function gP(t){return`${jS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const o=tA(t),r=oA(t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={fid:n,authVersion:jS,appId:t.appId,sdkVersion:ZS},d={method:"POST",headers:r,body:JSON.stringify(c)},y=await sA(()=>fetch(o,d));if(y.ok){const p=await y.json();return{fid:p.fid||n,registrationStatus:2,refreshToken:p.refreshToken,authToken:nA(p.authToken)}}else throw await iA("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=/^[cdef][\w-]{21}$/,kp="";function TP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=EP(t);return _P.test(n)?n:kp}catch{return kp}}function EP(t){return vP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Map;function lA(t,e){const n=bf(t);uA(n,e),SP(n,e)}function uA(t,e){const n=aA.get(t);if(n)for(const o of n)o(e)}function SP(t,e){const n=AP();n&&n.postMessage({key:t,fid:e}),CP()}let Fs=null;function AP(){return!Fs&&"BroadcastChannel"in self&&(Fs=new BroadcastChannel("[Firebase] FID Change"),Fs.onmessage=t=>{uA(t.data.key,t.data.fid)}),Fs}function CP(){aA.size===0&&Fs&&(Fs.close(),Fs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP="firebase-installations-database",wP=1,Ks="firebase-installations-store";let op=null;function pm(){return op||(op=wf(IP,wP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ks)}}})),op}async function of(t,e){const n=bf(t),r=(await pm()).transaction(Ks,"readwrite"),l=r.objectStore(Ks),c=await l.get(n);return await l.put(e,n),await r.done,(!c||c.fid!==e.fid)&&lA(t,e.fid),e}async function cA(t){const e=bf(t),o=(await pm()).transaction(Ks,"readwrite");await o.objectStore(Ks).delete(e),await o.done}async function Nf(t,e){const n=bf(t),r=(await pm()).transaction(Ks,"readwrite"),l=r.objectStore(Ks),c=await l.get(n),d=e(c);return d===void 0?await l.delete(n):await l.put(d,n),await r.done,d&&(!c||c.fid!==d.fid)&&lA(t,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t){let e;const n=await Nf(t.appConfig,o=>{const r=RP(o),l=bP(t,r);return e=l.registrationPromise,l.installationEntry});return n.fid===kp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function RP(t){const e=t||{fid:TP(),registrationStatus:0};return fA(e)}function bP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(Ys.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},o=NP(t,n);return{installationEntry:n,registrationPromise:o}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:MP(t)}:{installationEntry:e}}async function NP(t,e){try{const n=await yP(t,e);return of(t.appConfig,n)}catch(n){throw eA(n)&&n.customData.serverCode===409?await cA(t.appConfig):await of(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function MP(t){let e=await NT(t.appConfig);for(;e.registrationStatus===1;)await rA(100),e=await NT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await mm(t);return o||n}return e}function NT(t){return Nf(t,e=>{if(!e)throw Ys.create("installation-not-found");return fA(e)})}function fA(t){return xP(t)?{fid:t.fid,registrationStatus:0}:t}function xP(t){return t.registrationStatus===1&&t.registrationTime+WS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP({appConfig:t,heartbeatServiceProvider:e},n){const o=VP(t,n),r=pP(t,n),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&r.append("x-firebase-client",p)}const c={installation:{sdkVersion:ZS,appId:t.appId}},d={method:"POST",headers:r,body:JSON.stringify(c)},y=await sA(()=>fetch(o,d));if(y.ok){const p=await y.json();return nA(p)}else throw await iA("Generate Auth Token",y)}function VP(t,{fid:e}){return`${tA(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gm(t,e=!1){let n;const o=await Nf(t.appConfig,l=>{if(!dA(l))throw Ys.create("not-registered");const c=l.authToken;if(!e&&UP(c))return l;if(c.requestStatus===1)return n=PP(t,e),l;{if(!navigator.onLine)throw Ys.create("app-offline");const d=OP(l);return n=kP(t,d),d}});return n?await n:o.authToken}async function PP(t,e){let n=await MT(t.appConfig);for(;n.authToken.requestStatus===1;)await rA(100),n=await MT(t.appConfig);const o=n.authToken;return o.requestStatus===0?gm(t,e):o}function MT(t){return Nf(t,e=>{if(!dA(e))throw Ys.create("not-registered");const n=e.authToken;return qP(n)?{...e,authToken:{requestStatus:0}}:e})}async function kP(t,e){try{const n=await DP(t,e),o={...e,authToken:n};return await of(t.appConfig,o),n}catch(n){if(eA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await cA(t.appConfig);else{const o={...e,authToken:{requestStatus:0}};await of(t.appConfig,o)}throw n}}function dA(t){return t!==void 0&&t.registrationStatus===2}function UP(t){return t.requestStatus===2&&!LP(t)}function LP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+cP}function OP(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function qP(t){return t.requestStatus===1&&t.requestTime+WS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t){const e=t,{installationEntry:n,registrationPromise:o}=await mm(e);return o?o.catch(console.error):gm(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FP(t,e=!1){const n=t;return await GP(n),(await gm(n,e)).token}async function GP(t){const{registrationPromise:e}=await mm(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(t){if(!t||!t.options)throw sp("App Configuration");if(!t.name)throw sp("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw sp(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function sp(t){return Ys.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="installations",zP="installations-internal",YP=t=>{const e=t.getProvider("app").getImmediate(),n=HP(e),o=Rf(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},KP=t=>{const e=t.getProvider("app").getImmediate(),n=Rf(e,hA).getImmediate();return{getId:()=>BP(n),getToken:r=>FP(n,r)}};function JP(){Zo(new lo(hA,YP,"PUBLIC")),Zo(new lo(zP,KP,"PRIVATE"))}JP();Di(XS,hm);Di(XS,hm,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P="/firebase-messaging-sw.js",QP="/firebase-cloud-messaging-push-scope",pA="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",XP="https://fcmregistrations.googleapis.com/v1",mA="google.c.a.c_id",WP="google.c.a.c_l",ZP="google.c.a.ts",jP="google.c.a.e",xT=1e4;var DT;(function(t){t[t.DATA_MESSAGE=1]="DATA_MESSAGE",t[t.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(DT||(DT={}));/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except
 * in compliance with the License. You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software distributed under the License
 * is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express
 * or implied. See the License for the specific language governing permissions and limitations under
 * the License.
 */var Bl;(function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"})(Bl||(Bl={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function e4(t){const e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),o=atob(n),r=new Uint8Array(o.length);for(let l=0;l<o.length;++l)r[l]=o.charCodeAt(l);return r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="fcm_token_details_db",t4=5,VT="fcm_token_object_Store";async function n4(t){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(rp))return null;let e=null;return(await wf(rp,t4,{upgrade:async(o,r,l,c)=>{if(r<2||!o.objectStoreNames.contains(VT))return;const d=c.objectStore(VT),y=await d.index("fcmSenderId").get(t);if(await d.clear(),!!y){if(r===2){const p=y;if(!p.auth||!p.p256dh||!p.endpoint)return;e={token:p.fcmToken,createTime:p.createTime??Date.now(),subscriptionOptions:{auth:p.auth,p256dh:p.p256dh,endpoint:p.endpoint,swScope:p.swScope,vapidKey:typeof p.vapidKey=="string"?p.vapidKey:io(p.vapidKey)}}}else if(r===3){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:io(p.auth),p256dh:io(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:io(p.vapidKey)}}}else if(r===4){const p=y;e={token:p.fcmToken,createTime:p.createTime,subscriptionOptions:{auth:io(p.auth),p256dh:io(p.p256dh),endpoint:p.endpoint,swScope:p.swScope,vapidKey:io(p.vapidKey)}}}}}})).close(),await tp(rp),await tp("fcm_vapid_details_db"),await tp("undefined"),i4(e)?e:null}function i4(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="firebase-messaging-database",s4=1,Fl="firebase-messaging-store";let ap=null;function gA(){return ap||(ap=wf(o4,s4,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fl)}}})),ap}async function r4(t){const e=yA(t),o=await(await gA()).transaction(Fl).objectStore(Fl).get(e);if(o)return o;{const r=await n4(t.appConfig.senderId);if(r)return await ym(t,r),r}}async function ym(t,e){const n=yA(t),r=(await gA()).transaction(Fl,"readwrite");return await r.objectStore(Fl).put(e,n),await r.done,e}function yA({appConfig:t}){return t.appId}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},cn=new If("messaging","Messaging",a4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(t,e){const n=await _m(t),o=vA(e),r={method:"POST",headers:n,body:JSON.stringify(o)};let l;try{l=await(await fetch(vm(t.appConfig),r)).json()}catch(c){throw cn.create("token-subscribe-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw cn.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw cn.create("token-subscribe-no-token");return l.token}async function u4(t,e){const n=await _m(t),o=vA(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(o)};let l;try{l=await(await fetch(`${vm(t.appConfig)}/${e.token}`,r)).json()}catch(c){throw cn.create("token-update-failed",{errorInfo:c==null?void 0:c.toString()})}if(l.error){const c=l.error.message;throw cn.create("token-update-failed",{errorInfo:c})}if(!l.token)throw cn.create("token-update-no-token");return l.token}async function c4(t,e){const o={method:"DELETE",headers:await _m(t)};try{const l=await(await fetch(`${vm(t.appConfig)}/${e}`,o)).json();if(l.error){const c=l.error.message;throw cn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(r){throw cn.create("token-unsubscribe-failed",{errorInfo:r==null?void 0:r.toString()})}}function vm({projectId:t}){return`${XP}/projects/${t}/registrations`}async function _m({appConfig:t,installations:e}){const n=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function vA({p256dh:t,auth:e,endpoint:n,vapidKey:o}){const r={web:{endpoint:n,auth:e,p256dh:t}};return o!==pA&&(r.web.applicationPubKey=o),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4=10080*60*1e3;async function d4(t){const e=await p4(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:io(e.getKey("auth")),p256dh:io(e.getKey("p256dh"))},o=await r4(t.firebaseDependencies);if(o){if(m4(o.subscriptionOptions,n))return Date.now()>=o.createTime+f4?h4(t,{token:o.token,createTime:Date.now(),subscriptionOptions:n}):o.token;try{await c4(t.firebaseDependencies,o.token)}catch(r){console.warn(r)}return PT(t.firebaseDependencies,n)}else return PT(t.firebaseDependencies,n)}async function h4(t,e){try{const n=await u4(t.firebaseDependencies,e),o={...e,token:n,createTime:Date.now()};return await ym(t.firebaseDependencies,o),n}catch(n){throw n}}async function PT(t,e){const o={token:await l4(t,e),createTime:Date.now(),subscriptionOptions:e};return await ym(t,o),o.token}async function p4(t,e){const n=await t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e4(e)})}function m4(t,e){const n=e.vapidKey===t.vapidKey,o=e.endpoint===t.endpoint,r=e.auth===t.auth,l=e.p256dh===t.p256dh;return n&&o&&r&&l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return g4(e,t),y4(e,t),v4(e,t),e}function g4(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const o=e.notification.body;o&&(t.notification.body=o);const r=e.notification.image;r&&(t.notification.image=r);const l=e.notification.icon;l&&(t.notification.icon=l)}function y4(t,e){e.data&&(t.data=e.data)}function v4(t,e){var r,l,c,d;if(!e.fcmOptions&&!((r=e.notification)!=null&&r.click_action))return;t.fcmOptions={};const n=((l=e.fcmOptions)==null?void 0:l.link)??((c=e.notification)==null?void 0:c.click_action);n&&(t.fcmOptions.link=n);const o=(d=e.fcmOptions)==null?void 0:d.analytics_label;o&&(t.fcmOptions.analyticsLabel=o)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t){return typeof t=="object"&&!!t&&mA in t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){if(!t||!t.options)throw lp("App Configuration Object");if(!t.name)throw lp("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const o of e)if(!n[o])throw lp(o);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function lp(t){return cn.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n,o){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=T4(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:o}}_delete(){return Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S4(t){try{t.swRegistration=await navigator.serviceWorker.register($P,{scope:QP}),t.swRegistration.update().catch(()=>{}),await A4(t.swRegistration)}catch(e){throw cn.create("failed-service-worker-registration",{browserErrorMessage:e==null?void 0:e.message})}}async function A4(t){return new Promise((e,n)=>{const o=setTimeout(()=>n(new Error(`Service worker not registered after ${xT} ms`)),xT),r=t.installing||t.waiting;t.active?(clearTimeout(o),e()):r?r.onstatechange=l=>{var c;((c=l.target)==null?void 0:c.state)==="activated"&&(r.onstatechange=null,clearTimeout(o),e())}:(clearTimeout(o),n(new Error("No incoming service worker found.")))})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e){if(!e&&!t.swRegistration&&await S4(t),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw cn.create("invalid-sw-registration");t.swRegistration=e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=pA)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _A(t,e){if(!navigator)throw cn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw cn.create("permission-blocked");return await I4(t,e==null?void 0:e.vapidKey),await C4(t,e==null?void 0:e.serviceWorkerRegistration),d4(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(t,e,n){const o=R4(e);(await t.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:n[mA],message_name:n[WP],message_time:n[ZP],message_device_time:Math.floor(Date.now()/1e3)})}function R4(t){switch(t){case Bl.NOTIFICATION_CLICKED:return"notification_open";case Bl.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b4(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Bl.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(kT(n)):t.onMessageHandler.next(kT(n)));const o=n.data;_4(o)&&o[jP]==="1"&&await w4(t,n.messageType,o)}const UT="@firebase/messaging",LT="0.12.23";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4=t=>{const e=new E4(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>b4(e,n)),e},M4=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:o=>_A(e,o)}};function x4(){Zo(new lo("messaging",N4,"PUBLIC")),Zo(new lo("messaging-internal",M4,"PRIVATE")),Di(UT,LT),Di(UT,LT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(){try{await HS()}catch{return!1}return typeof window<"u"&&GS()&&JD()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(t=dm()){return D4().then(e=>{if(!e)throw cn.create("unsupported-browser")},e=>{throw cn.create("indexed-db-unsupported")}),Rf(ao(t),"messaging").getImmediate()}async function P4(t,e){return t=ao(t),_A(t,e)}x4();var OT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xo,TA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,N){function M(){}M.prototype=N.prototype,w.F=N.prototype,w.prototype=new M,w.prototype.constructor=w,w.D=function(x,k,F){for(var V=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)V[Le-2]=arguments[Le];return N.prototype[k].apply(x,V)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(o,n),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(w,N,M){M||(M=0);const x=Array(16);if(typeof N=="string")for(var k=0;k<16;++k)x[k]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(k=0;k<16;++k)x[k]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=w.g[0],M=w.g[1],k=w.g[2];let F=w.g[3],V;V=N+(F^M&(k^F))+x[0]+3614090360&4294967295,N=M+(V<<7&4294967295|V>>>25),V=F+(k^N&(M^k))+x[1]+3905402710&4294967295,F=N+(V<<12&4294967295|V>>>20),V=k+(M^F&(N^M))+x[2]+606105819&4294967295,k=F+(V<<17&4294967295|V>>>15),V=M+(N^k&(F^N))+x[3]+3250441966&4294967295,M=k+(V<<22&4294967295|V>>>10),V=N+(F^M&(k^F))+x[4]+4118548399&4294967295,N=M+(V<<7&4294967295|V>>>25),V=F+(k^N&(M^k))+x[5]+1200080426&4294967295,F=N+(V<<12&4294967295|V>>>20),V=k+(M^F&(N^M))+x[6]+2821735955&4294967295,k=F+(V<<17&4294967295|V>>>15),V=M+(N^k&(F^N))+x[7]+4249261313&4294967295,M=k+(V<<22&4294967295|V>>>10),V=N+(F^M&(k^F))+x[8]+1770035416&4294967295,N=M+(V<<7&4294967295|V>>>25),V=F+(k^N&(M^k))+x[9]+2336552879&4294967295,F=N+(V<<12&4294967295|V>>>20),V=k+(M^F&(N^M))+x[10]+4294925233&4294967295,k=F+(V<<17&4294967295|V>>>15),V=M+(N^k&(F^N))+x[11]+2304563134&4294967295,M=k+(V<<22&4294967295|V>>>10),V=N+(F^M&(k^F))+x[12]+1804603682&4294967295,N=M+(V<<7&4294967295|V>>>25),V=F+(k^N&(M^k))+x[13]+4254626195&4294967295,F=N+(V<<12&4294967295|V>>>20),V=k+(M^F&(N^M))+x[14]+2792965006&4294967295,k=F+(V<<17&4294967295|V>>>15),V=M+(N^k&(F^N))+x[15]+1236535329&4294967295,M=k+(V<<22&4294967295|V>>>10),V=N+(k^F&(M^k))+x[1]+4129170786&4294967295,N=M+(V<<5&4294967295|V>>>27),V=F+(M^k&(N^M))+x[6]+3225465664&4294967295,F=N+(V<<9&4294967295|V>>>23),V=k+(N^M&(F^N))+x[11]+643717713&4294967295,k=F+(V<<14&4294967295|V>>>18),V=M+(F^N&(k^F))+x[0]+3921069994&4294967295,M=k+(V<<20&4294967295|V>>>12),V=N+(k^F&(M^k))+x[5]+3593408605&4294967295,N=M+(V<<5&4294967295|V>>>27),V=F+(M^k&(N^M))+x[10]+38016083&4294967295,F=N+(V<<9&4294967295|V>>>23),V=k+(N^M&(F^N))+x[15]+3634488961&4294967295,k=F+(V<<14&4294967295|V>>>18),V=M+(F^N&(k^F))+x[4]+3889429448&4294967295,M=k+(V<<20&4294967295|V>>>12),V=N+(k^F&(M^k))+x[9]+568446438&4294967295,N=M+(V<<5&4294967295|V>>>27),V=F+(M^k&(N^M))+x[14]+3275163606&4294967295,F=N+(V<<9&4294967295|V>>>23),V=k+(N^M&(F^N))+x[3]+4107603335&4294967295,k=F+(V<<14&4294967295|V>>>18),V=M+(F^N&(k^F))+x[8]+1163531501&4294967295,M=k+(V<<20&4294967295|V>>>12),V=N+(k^F&(M^k))+x[13]+2850285829&4294967295,N=M+(V<<5&4294967295|V>>>27),V=F+(M^k&(N^M))+x[2]+4243563512&4294967295,F=N+(V<<9&4294967295|V>>>23),V=k+(N^M&(F^N))+x[7]+1735328473&4294967295,k=F+(V<<14&4294967295|V>>>18),V=M+(F^N&(k^F))+x[12]+2368359562&4294967295,M=k+(V<<20&4294967295|V>>>12),V=N+(M^k^F)+x[5]+4294588738&4294967295,N=M+(V<<4&4294967295|V>>>28),V=F+(N^M^k)+x[8]+2272392833&4294967295,F=N+(V<<11&4294967295|V>>>21),V=k+(F^N^M)+x[11]+1839030562&4294967295,k=F+(V<<16&4294967295|V>>>16),V=M+(k^F^N)+x[14]+4259657740&4294967295,M=k+(V<<23&4294967295|V>>>9),V=N+(M^k^F)+x[1]+2763975236&4294967295,N=M+(V<<4&4294967295|V>>>28),V=F+(N^M^k)+x[4]+1272893353&4294967295,F=N+(V<<11&4294967295|V>>>21),V=k+(F^N^M)+x[7]+4139469664&4294967295,k=F+(V<<16&4294967295|V>>>16),V=M+(k^F^N)+x[10]+3200236656&4294967295,M=k+(V<<23&4294967295|V>>>9),V=N+(M^k^F)+x[13]+681279174&4294967295,N=M+(V<<4&4294967295|V>>>28),V=F+(N^M^k)+x[0]+3936430074&4294967295,F=N+(V<<11&4294967295|V>>>21),V=k+(F^N^M)+x[3]+3572445317&4294967295,k=F+(V<<16&4294967295|V>>>16),V=M+(k^F^N)+x[6]+76029189&4294967295,M=k+(V<<23&4294967295|V>>>9),V=N+(M^k^F)+x[9]+3654602809&4294967295,N=M+(V<<4&4294967295|V>>>28),V=F+(N^M^k)+x[12]+3873151461&4294967295,F=N+(V<<11&4294967295|V>>>21),V=k+(F^N^M)+x[15]+530742520&4294967295,k=F+(V<<16&4294967295|V>>>16),V=M+(k^F^N)+x[2]+3299628645&4294967295,M=k+(V<<23&4294967295|V>>>9),V=N+(k^(M|~F))+x[0]+4096336452&4294967295,N=M+(V<<6&4294967295|V>>>26),V=F+(M^(N|~k))+x[7]+1126891415&4294967295,F=N+(V<<10&4294967295|V>>>22),V=k+(N^(F|~M))+x[14]+2878612391&4294967295,k=F+(V<<15&4294967295|V>>>17),V=M+(F^(k|~N))+x[5]+4237533241&4294967295,M=k+(V<<21&4294967295|V>>>11),V=N+(k^(M|~F))+x[12]+1700485571&4294967295,N=M+(V<<6&4294967295|V>>>26),V=F+(M^(N|~k))+x[3]+2399980690&4294967295,F=N+(V<<10&4294967295|V>>>22),V=k+(N^(F|~M))+x[10]+4293915773&4294967295,k=F+(V<<15&4294967295|V>>>17),V=M+(F^(k|~N))+x[1]+2240044497&4294967295,M=k+(V<<21&4294967295|V>>>11),V=N+(k^(M|~F))+x[8]+1873313359&4294967295,N=M+(V<<6&4294967295|V>>>26),V=F+(M^(N|~k))+x[15]+4264355552&4294967295,F=N+(V<<10&4294967295|V>>>22),V=k+(N^(F|~M))+x[6]+2734768916&4294967295,k=F+(V<<15&4294967295|V>>>17),V=M+(F^(k|~N))+x[13]+1309151649&4294967295,M=k+(V<<21&4294967295|V>>>11),V=N+(k^(M|~F))+x[4]+4149444226&4294967295,N=M+(V<<6&4294967295|V>>>26),V=F+(M^(N|~k))+x[11]+3174756917&4294967295,F=N+(V<<10&4294967295|V>>>22),V=k+(N^(F|~M))+x[2]+718787259&4294967295,k=F+(V<<15&4294967295|V>>>17),V=M+(F^(k|~N))+x[9]+3951481745&4294967295,w.g[0]=w.g[0]+N&4294967295,w.g[1]=w.g[1]+(k+(V<<21&4294967295|V>>>11))&4294967295,w.g[2]=w.g[2]+k&4294967295,w.g[3]=w.g[3]+F&4294967295}o.prototype.v=function(w,N){N===void 0&&(N=w.length);const M=N-this.blockSize,x=this.C;let k=this.h,F=0;for(;F<N;){if(k==0)for(;F<=M;)r(this,w,F),F+=this.blockSize;if(typeof w=="string"){for(;F<N;)if(x[k++]=w.charCodeAt(F++),k==this.blockSize){r(this,x),k=0;break}}else for(;F<N;)if(x[k++]=w[F++],k==this.blockSize){r(this,x),k=0;break}}this.h=k,this.o+=N},o.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var N=1;N<w.length-8;++N)w[N]=0;N=this.o*8;for(var M=w.length-8;M<w.length;++M)w[M]=N&255,N/=256;for(this.v(w),w=Array(16),N=0,M=0;M<4;++M)for(let x=0;x<32;x+=8)w[N++]=this.g[M]>>>x&255;return w};function l(w,N){var M=d;return Object.prototype.hasOwnProperty.call(M,w)?M[w]:M[w]=N(w)}function c(w,N){this.h=N;const M=[];let x=!0;for(let k=w.length-1;k>=0;k--){const F=w[k]|0;x&&F==N||(M[k]=F,x=!1)}this.g=M}var d={};function y(w){return-128<=w&&w<128?l(w,function(N){return new c([N|0],N<0?-1:0)}):new c([w|0],w<0?-1:0)}function p(w){if(isNaN(w)||!isFinite(w))return T;if(w<0)return U(p(-w));const N=[];let M=1;for(let x=0;w>=M;x++)N[x]=w/M|0,M*=4294967296;return new c(N,0)}function _(w,N){if(w.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(w.charAt(0)=="-")return U(_(w.substring(1),N));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=p(Math.pow(N,8));let x=T;for(let F=0;F<w.length;F+=8){var k=Math.min(8,w.length-F);const V=parseInt(w.substring(F,F+k),N);k<8?(k=p(Math.pow(N,k)),x=x.j(k).add(p(V))):(x=x.j(M),x=x.add(p(V)))}return x}var T=y(0),S=y(1),R=y(16777216);t=c.prototype,t.m=function(){if(B(this))return-U(this).m();let w=0,N=1;for(let M=0;M<this.g.length;M++){const x=this.i(M);w+=(x>=0?x:4294967296+x)*N,N*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(L(this))return"0";if(B(this))return"-"+U(this).toString(w);const N=p(Math.pow(w,6));var M=this;let x="";for(;;){const k=se(M,N).g;M=Q(M,k.j(N));let F=((M.g.length>0?M.g[0]:M.h)>>>0).toString(w);if(M=k,L(M))return F+x;for(;F.length<6;)F="0"+F;x=F+x}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function L(w){if(w.h!=0)return!1;for(let N=0;N<w.g.length;N++)if(w.g[N]!=0)return!1;return!0}function B(w){return w.h==-1}t.l=function(w){return w=Q(this,w),B(w)?-1:L(w)?0:1};function U(w){const N=w.g.length,M=[];for(let x=0;x<N;x++)M[x]=~w.g[x];return new c(M,~w.h).add(S)}t.abs=function(){return B(this)?U(this):this},t.add=function(w){const N=Math.max(this.g.length,w.g.length),M=[];let x=0;for(let k=0;k<=N;k++){let F=x+(this.i(k)&65535)+(w.i(k)&65535),V=(F>>>16)+(this.i(k)>>>16)+(w.i(k)>>>16);x=V>>>16,F&=65535,V&=65535,M[k]=V<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function Q(w,N){return w.add(U(N))}t.j=function(w){if(L(this)||L(w))return T;if(B(this))return B(w)?U(this).j(U(w)):U(U(this).j(w));if(B(w))return U(this.j(U(w)));if(this.l(R)<0&&w.l(R)<0)return p(this.m()*w.m());const N=this.g.length+w.g.length,M=[];for(var x=0;x<2*N;x++)M[x]=0;for(x=0;x<this.g.length;x++)for(let k=0;k<w.g.length;k++){const F=this.i(x)>>>16,V=this.i(x)&65535,Le=w.i(k)>>>16,ht=w.i(k)&65535;M[2*x+2*k]+=V*ht,oe(M,2*x+2*k),M[2*x+2*k+1]+=F*ht,oe(M,2*x+2*k+1),M[2*x+2*k+1]+=V*Le,oe(M,2*x+2*k+1),M[2*x+2*k+2]+=F*Le,oe(M,2*x+2*k+2)}for(w=0;w<N;w++)M[w]=M[2*w+1]<<16|M[2*w];for(w=N;w<2*N;w++)M[w]=0;return new c(M,0)};function oe(w,N){for(;(w[N]&65535)!=w[N];)w[N+1]+=w[N]>>>16,w[N]&=65535,N++}function Z(w,N){this.g=w,this.h=N}function se(w,N){if(L(N))throw Error("division by zero");if(L(w))return new Z(T,T);if(B(w))return N=se(U(w),N),new Z(U(N.g),U(N.h));if(B(N))return N=se(w,U(N)),new Z(U(N.g),N.h);if(w.g.length>30){if(B(w)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var M=S,x=N;x.l(w)<=0;)M=fe(M),x=fe(x);var k=le(M,1),F=le(x,1);for(x=le(x,2),M=le(M,2);!L(x);){var V=F.add(x);V.l(w)<=0&&(k=k.add(M),F=V),x=le(x,1),M=le(M,1)}return N=Q(w,k.j(N)),new Z(k,N)}for(k=T;w.l(N)>=0;){for(M=Math.max(1,Math.floor(w.m()/N.m())),x=Math.ceil(Math.log(M)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),F=p(M),V=F.j(N);B(V)||V.l(w)>0;)M-=x,F=p(M),V=F.j(N);L(F)&&(F=S),k=k.add(F),w=Q(w,V)}return new Z(k,w)}t.B=function(w){return se(this,w).h},t.and=function(w){const N=Math.max(this.g.length,w.g.length),M=[];for(let x=0;x<N;x++)M[x]=this.i(x)&w.i(x);return new c(M,this.h&w.h)},t.or=function(w){const N=Math.max(this.g.length,w.g.length),M=[];for(let x=0;x<N;x++)M[x]=this.i(x)|w.i(x);return new c(M,this.h|w.h)},t.xor=function(w){const N=Math.max(this.g.length,w.g.length),M=[];for(let x=0;x<N;x++)M[x]=this.i(x)^w.i(x);return new c(M,this.h^w.h)};function fe(w){const N=w.g.length+1,M=[];for(let x=0;x<N;x++)M[x]=w.i(x)<<1|w.i(x-1)>>>31;return new c(M,w.h)}function le(w,N){const M=N>>5;N%=32;const x=w.g.length-M,k=[];for(let F=0;F<x;F++)k[F]=N>0?w.i(F+M)>>>N|w.i(F+M+1)<<32-N:w.i(F+M);return new c(k,w.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,TA=o,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=_,Xo=c}).apply(typeof OT<"u"?OT:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var EA,bl,SA,zc,Up,AA,CA,IA;(function(){var t,e=Object.defineProperty;function n(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var E=0;E<m.length;++E){var C=m[E];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var o=n(this);function r(m,E){if(E)e:{var C=o;m=m.split(".");for(var b=0;b<m.length-1;b++){var H=m[b];if(!(H in C))break e;C=C[H]}m=m[m.length-1],b=C[m],E=E(b),E!=b&&E!=null&&e(C,m,{configurable:!0,writable:!0,value:E})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(E){var C=[],b;for(b in E)Object.prototype.hasOwnProperty.call(E,b)&&C.push([b,E[b]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,C){return m.call.apply(m.bind,arguments)}function p(m,E,C){return p=y,p.apply(null,arguments)}function _(m,E){var C=Array.prototype.slice.call(arguments,1);return function(){var b=C.slice();return b.push.apply(b,arguments),m.apply(this,b)}}function T(m,E){function C(){}C.prototype=E.prototype,m.Z=E.prototype,m.prototype=new C,m.prototype.constructor=m,m.Ob=function(b,H,J){for(var re=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)re[Re-2]=arguments[Re];return E.prototype[H].apply(b,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const E=m.length;if(E>0){const C=Array(E);for(let b=0;b<E;b++)C[b]=m[b];return C}return[]}function L(m,E){for(let b=1;b<arguments.length;b++){const H=arguments[b];var C=typeof H;if(C=C!="object"?C:H?Array.isArray(H)?"array":C:"null",C=="array"||C=="object"&&typeof H.length=="number"){C=m.length||0;const J=H.length||0;m.length=C+J;for(let re=0;re<J;re++)m[C+re]=H[re]}else m.push(H)}}class B{constructor(E,C){this.i=E,this.j=C,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function U(m){c.setTimeout(()=>{throw m},0)}function Q(){var m=w;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class oe{constructor(){this.h=this.g=null}add(E,C){const b=Z.get();b.set(E,C),this.h?this.h.next=b:this.g=b,this.h=b}}var Z=new B(()=>new se,m=>m.reset());class se{constructor(){this.next=this.g=this.h=null}set(E,C){this.h=E,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,le=!1,w=new oe,N=()=>{const m=Promise.resolve(void 0);fe=()=>{m.then(M)}};function M(){for(var m;m=Q();){try{m.h.call(m.g)}catch(C){U(C)}var E=Z;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}le=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const C=()=>{};c.addEventListener("test",C,E),c.removeEventListener("test",C,E)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function Le(m,E){k.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}T(Le,k),Le.prototype.init=function(m,E){const C=this.type=m.type,b=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(C=="mouseover"?E=m.fromElement:C=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),X=0;function ae(m,E,C,b,H){this.listener=m,this.proxy=null,this.src=E,this.type=C,this.capture=!!b,this.ha=H,this.key=++X,this.da=this.fa=!1}function _e(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function He(m,E,C){for(const b in m)E.call(C,m[b],b,m)}function Xe(m,E){for(const C in m)E.call(void 0,m[C],C,m)}function q(m){const E={};for(const C in m)E[C]=m[C];return E}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(m,E){let C,b;for(let H=1;H<arguments.length;H++){b=arguments[H];for(C in b)m[C]=b[C];for(let J=0;J<te.length;J++)C=te[J],Object.prototype.hasOwnProperty.call(b,C)&&(m[C]=b[C])}}function pe(m){this.src=m,this.g={},this.h=0}pe.prototype.add=function(m,E,C,b,H){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const re=Ne(m,E,b,H);return re>-1?(E=m[re],C||(E.fa=!1)):(E=new ae(E,this.src,J,!!b,H),E.fa=C,m.push(E)),E};function Se(m,E){const C=E.type;if(C in m.g){var b=m.g[C],H=Array.prototype.indexOf.call(b,E,void 0),J;(J=H>=0)&&Array.prototype.splice.call(b,H,1),J&&(_e(E),m.g[C].length==0&&(delete m.g[C],m.h--))}}function Ne(m,E,C,b){for(let H=0;H<m.length;++H){const J=m[H];if(!J.da&&J.listener==E&&J.capture==!!C&&J.ha==b)return H}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Pt={};function ut(m,E,C,b,H){if(Array.isArray(E)){for(let J=0;J<E.length;J++)ut(m,E[J],C,b,H);return null}return C=Ta(C),m&&m[ht]?m.J(E,C,d(b)?!!b.capture:!1,H):as(m,E,C,!1,b,H)}function as(m,E,C,b,H,J){if(!E)throw Error("Invalid event type");const re=d(H)?!!H.capture:!!H;let Re=ls(m);if(Re||(m[Be]=Re=new pe(m)),C=Re.add(E,C,b,re,J),C.proxy)return C;if(b=tr(),C.proxy=b,b.src=m,b.listener=C,m.addEventListener)F||(H=re),H===void 0&&(H=!1),m.addEventListener(E.toString(),b,H);else if(m.attachEvent)m.attachEvent(ui(E.toString()),b);else if(m.addListener&&m.removeListener)m.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return C}function tr(){function m(C){return E.call(m.src,m.listener,C)}const E=va;return m}function nr(m,E,C,b,H){if(Array.isArray(E))for(var J=0;J<E.length;J++)nr(m,E[J],C,b,H);else b=d(b)?!!b.capture:!!b,C=Ta(C),m&&m[ht]?(m=m.i,J=String(E).toString(),J in m.g&&(E=m.g[J],C=Ne(E,C,b,H),C>-1&&(_e(E[C]),Array.prototype.splice.call(E,C,1),E.length==0&&(delete m.g[J],m.h--)))):m&&(m=ls(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Ne(E,C,b,H)),(C=m>-1?E[m]:null)&&ir(C))}function ir(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[ht])Se(E.i,m);else{var C=m.type,b=m.proxy;E.removeEventListener?E.removeEventListener(C,b,m.capture):E.detachEvent?E.detachEvent(ui(C),b):E.addListener&&E.removeListener&&E.removeListener(b),(C=ls(E))?(Se(C,m),C.h==0&&(C.src=null,E[Be]=null)):_e(m)}}}function ui(m){return m in Pt?Pt[m]:Pt[m]="on"+m}function va(m,E){if(m.da)m=!0;else{E=new Le(E,this);const C=m.listener,b=m.ha||m.src;m.fa&&ir(m),m=C.call(b,E)}return m}function ls(m){return m=m[Be],m instanceof pe?m:null}var _a="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ta(m){return typeof m=="function"?m:(m[_a]||(m[_a]=function(E){return m.handleEvent(E)}),m[_a])}function Et(){x.call(this),this.i=new pe(this),this.M=this,this.G=null}T(Et,x),Et.prototype[ht]=!0,Et.prototype.removeEventListener=function(m,E,C,b){nr(this,m,E,C,b)};function kt(m,E){var C,b=m.G;if(b)for(C=[];b;b=b.G)C.push(b);if(m=m.M,b=E.type||E,typeof E=="string")E=new k(E,m);else if(E instanceof k)E.target=E.target||m;else{var H=E;E=new k(b,m),ue(E,H)}H=!0;let J,re;if(C)for(re=C.length-1;re>=0;re--)J=E.g=C[re],H=mo(J,b,!0,E)&&H;if(J=E.g=m,H=mo(J,b,!0,E)&&H,H=mo(J,b,!1,E)&&H,C)for(re=0;re<C.length;re++)J=E.g=C[re],H=mo(J,b,!1,E)&&H}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const C=m.g[E];for(let b=0;b<C.length;b++)_e(C[b]);delete m.g[E],m.h--}}this.G=null},Et.prototype.J=function(m,E,C,b){return this.i.add(String(m),E,!1,C,b)},Et.prototype.K=function(m,E,C,b){return this.i.add(String(m),E,!0,C,b)};function mo(m,E,C,b){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let H=!0;for(let J=0;J<E.length;++J){const re=E[J];if(re&&!re.da&&re.capture==C){const Re=re.listener,yt=re.ha||re.src;re.fa&&Se(m.i,re),H=Re.call(yt,b)!==!1&&H}}return H&&!b.defaultPrevented}function Yf(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(m,E||0)}function eu(m){m.g=Yf(()=>{m.g=null,m.i&&(m.i=!1,eu(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class rn extends x{constructor(E,C){super(),this.m=E,this.l=C,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(m){x.call(this),this.h=m,this.g={}}T(us,x);var Ea=[];function Sa(m){He(m.g,function(E,C){this.g.hasOwnProperty(C)&&ir(E)},m),m.g={}}us.prototype.N=function(){us.Z.N.call(this),Sa(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var go=c.JSON.stringify,Kf=c.JSON.parse,tu=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function nu(){}function iu(){}var Kn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){k.call(this,"d")}T(Ht,k);function Nn(){k.call(this,"c")}T(Nn,k);var gt={},ou=null;function or(){return ou=ou||new Et}gt.Ia="serverreachability";function su(m){k.call(this,gt.Ia,m)}T(su,k);function ci(m){const E=or();kt(E,new su(E))}gt.STAT_EVENT="statevent";function cs(m,E){k.call(this,gt.STAT_EVENT,m),this.stat=E}T(cs,k);function St(m){const E=or();kt(E,new cs(E,m))}gt.Ja="timingevent";function fi(m,E){k.call(this,gt.Ja,m),this.size=E}T(fi,k);function di(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Jf(m,E,C,b,H,J){m.info(function(){if(m.g)if(J){var re="",Re=J.split("&");for(let Je=0;Je<Re.length;Je++){var yt=Re[Je].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const Vn=ct.split("_");re=Vn.length>=2&&Vn[1]=="type"?re+(ct+"="+yt+"&"):re+(ct+"=redacted&")}}}else re=null;else re=J;return"XMLHTTP REQ ("+b+") [attempt "+H+"]: "+E+`
`+C+`
`+re})}function ru(m,E,C,b,H,J,re){m.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+H+"]: "+E+`
`+C+`
`+J+" "+re})}function hi(m,E,C,b){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+$f(m,C)+(b?" "+b:"")})}function fs(m,E){m.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function $f(m,E){if(!m.g)return E;if(!E)return null;try{const J=JSON.parse(E);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var C=J[m];if(!(C.length<2)){var b=C[1];if(Array.isArray(b)&&!(b.length<1)){var H=b[0];if(H!="noop"&&H!="stop"&&H!="close")for(let re=1;re<b.length;re++)b[re]=""}}}}return go(J)}catch{return E}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Aa={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ca;function hs(){}T(hs,nu),hs.prototype.g=function(){return new XMLHttpRequest},Ca=new hs;function Oi(m){return encodeURIComponent(String(m))}function au(m){var E=1;m=m.split(":");const C=[];for(;E>0&&m.length;)C.push(m.shift()),E--;return m.length&&C.push(m.join(":")),C}function $n(m,E,C,b){this.j=m,this.i=E,this.l=C,this.S=b||1,this.V=new us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var At={},Ot={};function pi(m,E,C){m.M=1,m.A=ps(It(E)),m.u=C,m.R=!0,sr(m,null)}function sr(m,E){m.F=Date.now(),mi(m),m.B=It(m.A);var C=m.B,b=m.S;Array.isArray(b)||(b=[String(b)]),ur(C.i,"t",b),m.C=0,C=m.j.L,m.h=new Qn,m.g=Su(m.j,C?E:null,!m.u),m.P>0&&(m.O=new rn(p(m.Y,m,m.g),m.P)),E=m.V,C=m.g,b=m.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ea[0]=H.toString()),H=Ea);for(let J=0;J<H.length;J++){const re=ut(C,H[J],b||E.handleEvent,!1,E.h||E);if(!re)break;E.g[re.key]=re}E=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),ci(),Jf(m.i,m.v,m.B,m.l,m.S,m.u)}$n.prototype.ba=function(m){m=m.target;const E=this.O;E&&Zn(m)==3?E.j():this.Y(m)},$n.prototype.Y=function(m){try{if(m==this.g)e:{const Re=Zn(this.g),yt=this.g.ya(),Je=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||Re!=4||yt==7||(yt==8||Je<=0?ci(3):ci(2)),gi(this);var E=this.g.ca();this.X=E;var C=Qf(this);if(this.o=E==200,ru(this.i,this.v,this.B,this.l,this.S,Re,E),this.o){if(this.U&&!this.L){t:{if(this.g){var b,H=this.g;if((b=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(b)){var J=b;break t}}J=null}if(m=J)hi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,m);else{this.o=!1,this.m=3,St(12),Tn(this),Mn(this);break e}}if(this.R){m=!0;let ct;for(;!this.K&&this.C<C.length;)if(ct=uu(this,C),ct==Ot){Re==4&&(this.m=4,St(14),m=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),hi(this.i,this.l,C,"[Invalid Chunk]"),m=!1;break}else hi(this.i,this.l,ct,null),yi(this,ct);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||C.length!=0||this.h.h||(this.m=1,St(16),m=!1),this.o=this.o&&m,!m)hi(this.i,this.l,C,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(C.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),qa(re),re.P=!0,St(11))}}else hi(this.i,this.l,C,null),yi(this,C);Re==4&&Tn(this),this.o&&!this.K&&(Re==4?vu(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),E==400&&C.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Tn(this),Mn(this)}}}catch{}finally{}};function Qf(m){if(!lu(m))return m.g.la();const E=zt(m.g);if(E==="")return"";let C="";const b=E.length,H=Zn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Tn(m),Mn(m),"";m.h.i=new c.TextDecoder}for(let J=0;J<b;J++)m.h.h=!0,C+=m.h.i.decode(E[J],{stream:!(H&&J==b-1)});return E.length=0,m.h.g+=C,m.C=0,m.h.g}function lu(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function uu(m,E){var C=m.C,b=E.indexOf(`
`,C);return b==-1?Ot:(C=Number(E.substring(C,b)),isNaN(C)?At:(b+=1,b+C>E.length?Ot:(E=E.slice(b,b+C),m.C=b+C,E)))}$n.prototype.cancel=function(){this.K=!0,Tn(this)};function mi(m){m.T=Date.now()+m.H,rr(m,m.H)}function rr(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=di(p(m.aa,m),E)}function gi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}$n.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ci(),St(17)),Tn(this),this.m=2,Mn(this)):rr(this,this.T-m)};function Mn(m){m.j.I==0||m.K||vu(m.j,m)}function Tn(m){gi(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,Sa(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function yi(m,E){try{var C=m.j;if(C.I!=0&&(C.g==m||_i(C.h,m))){if(!m.L&&_i(C.h,m)&&C.I==3){try{var b=C.Ba.g.parse(E)}catch{b=null}if(Array.isArray(b)&&b.length==3){var H=b;if(H[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<m.F)pr(C),Co(C);else break e;Es(C),St(18)}}else C.xa=H[1],0<C.xa-C.K&&H[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=di(p(C.Va,C),6e3));vi(C.h)<=1&&C.ta&&(C.ta=void 0)}else Ii(C,11)}else if((m.L||C.g==m)&&pr(C),!V(E))for(H=C.Ba.g.parse(E),E=0;E<H.length;E++){let Je=H[E];const ct=Je[0];if(!(ct<=C.K))if(C.K=ct,Je=Je[1],C.I==2)if(Je[0]=="c"){C.M=Je[1],C.ba=Je[2];const Vn=Je[3];Vn!=null&&(C.ka=Vn,C.j.info("VER="+C.ka));const wi=Je[4];wi!=null&&(C.za=wi,C.j.info("SVER="+C.za));const jn=Je[5];jn!=null&&typeof jn=="number"&&jn>0&&(b=1.5*jn,C.O=b,C.j.info("backChannelRequestTimeoutMs_="+b)),b=C;const ei=m.g;if(ei){const Ss=ei.g?ei.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var J=b.h;J.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ra(J,J.h),J.h=null))}if(b.G){const mr=ei.g?ei.g.getResponseHeader("X-HTTP-Session-Id"):null;mr&&(b.wa=mr,We(b.J,b.G,mr))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-m.F,C.j.info("Handshake RTT: "+C.T+"ms")),b=C;var re=m;if(b.na=Eu(b,b.L?b.ba:null,b.W),re.L){ba(b.h,re);var Re=re,yt=b.O;yt&&(Re.H=yt),Re.D&&(gi(Re),mi(Re)),b.g=re}else gu(b);C.i.length>0&&Ci(C)}else Je[0]!="stop"&&Je[0]!="close"||Ii(C,7);else C.I==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?Ii(C,7):La(C):Je[0]!="noop"&&C.l&&C.l.qa(Je),C.A=0)}}ci(4)}catch{}}var Ct=class{constructor(m,E){this.g=m,this.map=E}};function Ia(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function vi(m){return m.h?1:m.g?m.g.size:0}function _i(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Ra(m,E){m.g?m.g.add(E):m.h=E}function ba(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ia.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Na(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const C of m.g.values())E=E.concat(C.G);return E}return R(m.i)}var cu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ar(m,E){if(m){m=m.split("&");for(let C=0;C<m.length;C++){const b=m[C].indexOf("=");let H,J=null;b>=0?(H=m[C].substring(0,b),J=m[C].substring(b+1)):H=m[C],E(H,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function En(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof En?(this.l=m.l,qt(this,m.j),this.o=m.o,this.g=m.g,yo(this,m.u),this.h=m.h,Ma(this,pu(m.i)),this.m=m.m):m&&(E=String(m).match(cu))?(this.l=!1,qt(this,E[1]||"",!0),this.o=Ti(E[2]||""),this.g=Ti(E[3]||"",!0),yo(this,E[4]),this.h=Ti(E[5]||"",!0),Ma(this,E[6]||"",!0),this.m=Ti(E[7]||"")):(this.l=!1,this.i=new _o(null,this.l))}En.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(ms(E,lr,!0),":");var C=this.g;return(C||E=="file")&&(m.push("//"),(E=this.o)&&m.push(ms(E,lr,!0),"@"),m.push(Oi(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&m.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&m.push("/"),m.push(ms(C,C.charAt(0)=="/"?xa:fu,!0))),(C=this.i.toString())&&m.push("?",C),(C=this.m)&&m.push("#",ms(C,du)),m.join("")},En.prototype.resolve=function(m){const E=It(this);let C=!!m.j;C?qt(E,m.j):C=!!m.o,C?E.o=m.o:C=!!m.g,C?E.g=m.g:C=m.u!=null;var b=m.h;if(C)yo(E,m.u);else if(C=!!m.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var H=E.h.lastIndexOf("/");H!=-1&&(b=E.h.slice(0,H+1)+b)}if(H=b,H==".."||H==".")b="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){b=H.lastIndexOf("/",0)==0,H=H.split("/");const J=[];for(let re=0;re<H.length;){const Re=H[re++];Re=="."?b&&re==H.length&&J.push(""):Re==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),b&&re==H.length&&J.push("")):(J.push(Re),b=!0)}b=J.join("/")}else b=H}return C?E.h=b:C=m.i.toString()!=="",C?Ma(E,pu(m.i)):C=!!m.m,C&&(E.m=m.m),E};function It(m){return new En(m)}function qt(m,E,C){m.j=C?Ti(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function yo(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function Ma(m,E,C){E instanceof _o?(m.i=E,cr(m.i,m.l)):(C||(E=ms(E,vo)),m.i=new _o(E,m.l))}function We(m,E,C){m.i.set(E,C)}function ps(m){return We(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Ti(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function ms(m,E,C){return typeof m=="string"?(m=encodeURI(m).replace(E,dn),C&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function dn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var lr=/[#\/\?@]/g,fu=/[#\?:]/g,xa=/[#\?]/g,vo=/[#\?@]/g,du=/#/g;function _o(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function hn(m){m.g||(m.g=new Map,m.h=0,m.i&&ar(m.i,function(E,C){m.add(decodeURIComponent(E.replace(/\+/g," ")),C)}))}t=_o.prototype,t.add=function(m,E){hn(this),this.i=null,m=To(this,m);let C=this.g.get(m);return C||this.g.set(m,C=[]),C.push(E),this.h+=1,this};function hu(m,E){hn(m),E=To(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function Da(m,E){return hn(m),E=To(m,E),m.g.has(E)}t.forEach=function(m,E){hn(this),this.g.forEach(function(C,b){C.forEach(function(H){m.call(E,H,b,this)},this)},this)};function Va(m,E){hn(m);let C=[];if(typeof E=="string")Da(m,E)&&(C=C.concat(m.g.get(To(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)C=C.concat(m[E]);return C}t.set=function(m,E){return hn(this),this.i=null,m=To(this,m),Da(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},t.get=function(m,E){return m?(m=Va(this,m),m.length>0?String(m[0]):E):E};function ur(m,E,C){hu(m,E),C.length>0&&(m.i=null,m.g.set(To(m,E),R(C)),m.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let b=0;b<E.length;b++){var C=E[b];const H=Oi(C);C=Va(this,C);for(let J=0;J<C.length;J++){let re=H;C[J]!==""&&(re+="="+Oi(C[J])),m.push(re)}}return this.i=m.join("&")};function pu(m){const E=new _o;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function To(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function cr(m,E){E&&!m.j&&(hn(m),m.i=null,m.g.forEach(function(C,b){const H=b.toLowerCase();b!=H&&(hu(this,b),ur(this,H,C))},m)),m.j=E}function Xn(m,E){const C=new Jn;if(c.Image){const b=new Image;b.onload=_(xn,C,"TestLoadImage: loaded",!0,E,b),b.onerror=_(xn,C,"TestLoadImage: error",!1,E,b),b.onabort=_(xn,C,"TestLoadImage: abort",!1,E,b),b.ontimeout=_(xn,C,"TestLoadImage: timeout",!1,E,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=m}else E(!1)}function Pa(m,E){const C=new Jn,b=new AbortController,H=setTimeout(()=>{b.abort(),xn(C,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:b.signal}).then(J=>{clearTimeout(H),J.ok?xn(C,"TestPingServer: ok",!0,E):xn(C,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(H),xn(C,"TestPingServer: error",!1,E)})}function xn(m,E,C,b,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),b(C)}catch{}}function Eo(){this.g=new tu}function Ei(m){this.i=m.Sb||null,this.h=m.ab||!1}T(Ei,nu),Ei.prototype.g=function(){return new gs(this.i,this.h)};function gs(m,E){Et.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(gs,Et),t=gs.prototype,t.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Wn(this)},t.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},t.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;fr(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function fr(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}t.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?So(this):Wn(this),this.readyState==3&&fr(this)}},t.Oa=function(m){this.g&&(this.response=this.responseText=m,So(this))},t.Na=function(m){this.g&&(this.response=m,So(this))},t.ga=function(){this.g&&So(this)};function So(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Wn(m)}t.setRequestHeader=function(m,E){this.A.append(m,E)},t.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var C=E.next();!C.done;)C=C.value,m.push(C[0]+": "+C[1]),C=E.next();return m.join(`\r
`)};function Wn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Dn(m){let E="";return He(m,function(C,b){E+=b,E+=":",E+=C,E+=`\r
`}),E}function ys(m,E,C){e:{for(b in C){var b=!1;break e}b=!0}b||(C=Dn(C),typeof m=="string"?C!=null&&Oi(C):We(m,E,C))}function et(m){Et.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(et,Et);var Si=/^https?$/i,ka=["POST","PUT"];t=et.prototype,t.Fa=function(m){this.H=m},t.ea=function(m,E,C,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ca.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(J){vs(this,J);return}if(m=C||"",C=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var H in b)C.set(H,b[H]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const J of b.keys())C.set(J,b.get(J));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(C.keys()).find(J=>J.toLowerCase()=="content-type"),H=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(ka,E,void 0)>=0)||b||H||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,re]of C)this.g.setRequestHeader(J,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){vs(this,J)}};function vs(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Ua(m),qi(m)}function Ua(m){m.A||(m.A=!0,kt(m,"complete"),kt(m,"error"))}t.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,kt(this,"complete"),kt(this,"abort"),qi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),et.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_s(this):this.Xa())},t.Xa=function(){_s(this)};function _s(m){if(m.h&&typeof l<"u"){if(m.v&&Zn(m)==4)setTimeout(m.Ca.bind(m),0);else if(kt(m,"readystatechange"),Zn(m)==4){m.h=!1;try{const J=m.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var C;if(!(C=E)){var b;if(b=J===0){let re=String(m.D).match(cu)[1]||null;!re&&c.self&&c.self.location&&(re=c.self.location.protocol.slice(0,-1)),b=!Si.test(re?re.toLowerCase():"")}C=b}if(C)kt(m,"complete"),kt(m,"success");else{m.o=6;try{var H=Zn(m)>2?m.g.statusText:""}catch{H=""}m.l=H+" ["+m.ca()+"]",Ua(m)}}finally{qi(m)}}}}function qi(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const C=m.g;m.g=null,E||kt(m,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Zn(m){return m.g?m.g.readyState:0}t.ca=function(){try{return Zn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Kf(E)}};function zt(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(m){const E={};m=(m.g&&Zn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<m.length;b++){if(V(m[b]))continue;var C=au(m[b]);const H=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const J=E[H]||[];E[H]=J,J.push(C)}Xe(E,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(m,E,C){return C&&C.internalChannelParams&&C.internalChannelParams[m]||E}function Ao(m){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,m),this.Za=Ai("retryDelaySeedMs",1e4,m),this.Ta=Ai("forwardChannelMaxRetries",2,m),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ia(m&&m.concurrentRequestLimit),this.Ba=new Eo,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ao.prototype,t.ka=8,t.I=1,t.connect=function(m,E,C,b){St(0),this.W=m,this.H=E||{},C&&b!==void 0&&(this.H.OSID=C,this.H.OAID=b),this.F=this.X,this.J=Eu(this,null,this.W),Ci(this)};function La(m){if(dr(m),m.I==3){var E=m.V++,C=It(m.J);if(We(C,"SID",m.M),We(C,"RID",E),We(C,"TYPE","terminate"),Ts(m,C),E=new $n(m,m.j,E),E.M=2,E.A=ps(It(C)),C=!1,c.navigator&&c.navigator.sendBeacon)try{C=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!C&&c.Image&&(new Image().src=E.A,C=!0),C||(E.g=Su(E.j,null),E.g.ea(E.A)),E.F=Date.now(),mi(E)}Tu(m)}function Co(m){m.g&&(qa(m),m.g.cancel(),m.g=null)}function dr(m){Co(m),m.v&&(c.clearTimeout(m.v),m.v=null),pr(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ci(m){if(!wa(m.h)&&!m.m){m.m=!0;var E=m.Ea;fe||N(),le||(fe(),le=!0),w.add(E,m),m.D=0}}function hr(m,E){return vi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=di(p(m.Ea,m,E),_u(m,m.D)),m.D++,!0)}t.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const H=new $n(this,this.j,m);let J=this.o;if(this.U&&(J?(J=q(J),ue(J,this.U)):J=this.U),this.u!==null||this.R||(H.J=J,J=null),this.S)e:{for(var E=0,C=0;C<this.i.length;C++){t:{var b=this.i[C];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(E+=b,E>4096){E=C;break e}if(E===4096||C===this.i.length-1){E=C+1;break e}}E=1e3}else E=1e3;E=mu(this,H,E),C=It(this.J),We(C,"RID",m),We(C,"CVER",22),this.G&&We(C,"X-HTTP-Session-Id",this.G),Ts(this,C),J&&(this.R?E="headers="+Oi(Dn(J))+"&"+E:this.u&&ys(C,this.u,J)),Ra(this.h,H),this.Ra&&We(C,"TYPE","init"),this.S?(We(C,"$req",E),We(C,"SID","null"),H.U=!0,pi(H,C,null)):pi(H,C,E),this.I=2}}else this.I==3&&(m?Oa(this,m):this.i.length==0||wa(this.h)||Oa(this))};function Oa(m,E){var C;E?C=E.l:C=m.V++;const b=It(m.J);We(b,"SID",m.M),We(b,"RID",C),We(b,"AID",m.K),Ts(m,b),m.u&&m.o&&ys(b,m.u,m.o),C=new $n(m,m.j,C,m.D+1),m.u===null&&(C.J=m.o),E&&(m.i=E.G.concat(m.i)),E=mu(m,C,1e3),C.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Ra(m.h,C),pi(C,b,E)}function Ts(m,E){m.H&&He(m.H,function(C,b){We(E,b,C)}),m.l&&He({},function(C,b){We(E,b,C)})}function mu(m,E,C){C=Math.min(m.i.length,C);const b=m.l?p(m.l.Ka,m.l,m):null;e:{var H=m.i;let Re=-1;for(;;){const yt=["count="+C];Re==-1?C>0?(Re=H[0].g,yt.push("ofs="+Re)):Re=0:yt.push("ofs="+Re);let Je=!0;for(let ct=0;ct<C;ct++){var J=H[ct].g;const Vn=H[ct].map;if(J-=Re,J<0)Re=Math.max(0,H[ct].g-100),Je=!1;else try{J="req"+J+"_"||"";try{var re=Vn instanceof Map?Vn:Object.entries(Vn);for(const[wi,jn]of re){let ei=jn;d(jn)&&(ei=go(jn)),yt.push(J+wi+"="+encodeURIComponent(ei))}}catch(wi){throw yt.push(J+"type="+encodeURIComponent("_badmap")),wi}}catch{b&&b(Vn)}}if(Je){re=yt.join("&");break e}}re=void 0}return m=m.i.splice(0,C),E.G=m,re}function gu(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;fe||N(),le||(fe(),le=!0),w.add(E,m),m.A=0}}function Es(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=di(p(m.Da,m),_u(m,m.A)),m.A++,!0)}t.Da=function(){if(this.v=null,yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=di(p(this.Wa,this),m)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Co(this),yu(this))};function qa(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function yu(m){m.g=new $n(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=It(m.na);We(E,"RID","rpc"),We(E,"SID",m.M),We(E,"AID",m.K),We(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&We(E,"TO",m.ia),We(E,"TYPE","xmlhttp"),Ts(m,E),m.u&&m.o&&ys(E,m.u,m.o),m.O&&(m.g.H=m.O);var C=m.g;m=m.ba,C.M=1,C.A=ps(It(E)),C.u=null,C.R=!0,sr(C,m)}t.Va=function(){this.C!=null&&(this.C=null,Co(this),Es(this),St(19))};function pr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function vu(m,E){var C=null;if(m.g==E){pr(m),qa(m),m.g=null;var b=2}else if(_i(m.h,E))C=E.G,ba(m.h,E),b=1;else return;if(m.I!=0){if(E.o)if(b==1){C=E.u?E.u.length:0,E=Date.now()-E.F;var H=m.D;b=or(),kt(b,new fi(b,C)),Ci(m)}else gu(m);else if(H=E.m,H==3||H==0&&E.X>0||!(b==1&&hr(m,E)||b==2&&Es(m)))switch(C&&C.length>0&&(E=m.h,E.i=E.i.concat(C)),H){case 1:Ii(m,5);break;case 4:Ii(m,10);break;case 3:Ii(m,6);break;default:Ii(m,2)}}}function _u(m,E){let C=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(C*=2),C*E}function Ii(m,E){if(m.j.info("Error code "+E),E==2){var C=p(m.bb,m),b=m.Ua;const H=!b;b=new En(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(b,"https"),ps(b),H?Xn(b.toString(),C):Pa(b.toString(),C)}else St(2);m.I=0,m.l&&m.l.pa(E),Tu(m),dr(m)}t.bb=function(m){m?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Tu(m){if(m.I=0,m.ja=[],m.l){const E=Na(m.h);(E.length!=0||m.i.length!=0)&&(L(m.ja,E),L(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function Eu(m,E,C){var b=C instanceof En?It(C):new En(C);if(b.g!="")E&&(b.g=E+"."+b.g),yo(b,b.u);else{var H=c.location;b=H.protocol,E=E?E+"."+H.hostname:H.hostname,H=+H.port;const J=new En(null);b&&qt(J,b),E&&(J.g=E),H&&yo(J,H),C&&(J.h=C),b=J}return C=m.G,E=m.wa,C&&E&&We(b,C,E),We(b,"VER",m.ka),Ts(m,b),b}function Su(m,E,C){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new et(new Ei({ab:C})):new et(m.ma),E.Fa(m.L),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}t=Au.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Io(){}Io.prototype.g=function(m,E){return new an(m,E)};function an(m,E){Et.call(this),this.g=new Ao(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!V(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Fi(this)}T(an,Et),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){La(this.g)},an.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var C={};C.__data__=m,m=C}else this.v&&(C={},C.__data__=go(m),m=C);E.i.push(new Ct(E.Ya++,m)),E.I==3&&Ci(E)},an.prototype.N=function(){this.g.l=null,delete this.j,La(this.g),delete this.g,an.Z.N.call(this)};function Cu(m){Ht.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const C in E){m=C;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(Cu,Ht);function Iu(){Nn.call(this),this.status=1}T(Iu,Nn);function Fi(m){this.g=m}T(Fi,Au),Fi.prototype.ra=function(){kt(this.g,"a")},Fi.prototype.qa=function(m){kt(this.g,new Cu(m))},Fi.prototype.pa=function(m){kt(this.g,new Iu)},Fi.prototype.oa=function(){kt(this.g,"b")},Io.prototype.createWebChannel=Io.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,IA=function(){return new Io},CA=function(){return or()},AA=gt,Up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,zc=ds,Aa.COMPLETE="complete",SA=Aa,iu.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,bl=iu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,EA=et}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const qT="@firebase/firestore",BT="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new zS("@firebase/firestore");function Kr(){return Js.logLevel}function he(t,...e){if(Js.logLevel<=Ge.DEBUG){const n=e.map(Tm);Js.debug(`Firestore (${ha}): ${t}`,...n)}}function co(t,...e){if(Js.logLevel<=Ge.ERROR){const n=e.map(Tm);Js.error(`Firestore (${ha}): ${t}`,...n)}}function oa(t,...e){if(Js.logLevel<=Ge.WARN){const n=e.map(Tm);Js.warn(`Firestore (${ha}): ${t}`,...n)}}function Tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t,e,n){let o="Unexpected state";typeof e=="string"?o=e:n=e,wA(t,o,n)}function wA(t,e,n){let o=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{o+=" CONTEXT: "+JSON.stringify(n)}catch{o+=" CONTEXT: "+n}throw co(o),new Error(o)}function Qe(t,e,n,o){let r="Unexpected state";typeof n=="string"?r=n:o=n,t||wA(e,r,o)}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class U4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let o=this.i;const r=y=>this.i!==o?(o=this.i,n(y)):Promise.resolve();let l=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hs,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await r(this.currentUser)}))},d=y=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>d(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?d(y):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hs)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((o=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Qe(typeof o.accessToken=="string",31837,{l:o}),new RA(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class O4{constructor(e,n,o){this.P=e,this.T=n,this.I=o,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class q4{constructor(e,n,o){this.P=e,this.T=n,this.I=o}getToken(){return Promise.resolve(new O4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,KV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const o=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>o(l)))};const r=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>r(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?r(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<t;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const r=F4(40);for(let l=0;l<r.length;++l)o.length<20&&r[l]<n&&(o+=e.charAt(r[l]%62))}return o}}function ke(t,e){return t<e?-1:t>e?1:0}function Lp(t,e){const n=Math.min(t.length,e.length);for(let o=0;o<n;o++){const r=t.charAt(o),l=e.charAt(o);if(r!==l)return up(r)===up(l)?ke(r,l):up(r)?1:-1}return ke(t.length,e.length)}const G4=55296,H4=57343;function up(t){const e=t.charCodeAt(0);return e>=G4&&e<=H4}function sa(t,e,n){return t.length===e.length&&t.every(((o,r)=>n(o,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__name__";class xi{constructor(e,n,o){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),o===void 0?o=e.length-n:o>e.length-n&&Ee(1746,{length:o,range:e.length-n}),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((o=>{n.push(o)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let r=0;r<o;r++){const l=xi.compareSegments(e.get(r),n.get(r));if(l!==0)return l}return ke(e.length,n.length)}static compareSegments(e,n){const o=xi.isNumericId(e),r=xi.isNumericId(n);return o&&!r?-1:!o&&r?1:o&&r?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Lp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xo.fromString(e.substring(4,e.length-2))}}class st extends xi{construct(e,n,o){return new st(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter((r=>r.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends xi{construct(e,n,o){return new Xt(e,n,o)}static isValidIdentifier(e){return z4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===GT}static keyField(){return new Xt([GT])}static fromServerFormat(e){const n=[];let o="",r=0;const l=()=>{if(o.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let c=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=y,r+=2}else d==="`"?(c=!c,r++):d!=="."||c?(o+=d,r++):(l(),r++)}if(l(),c)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y4(t,e,n,o){if(e===!0&&o===!0)throw new de(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function HT(t){if(!ve.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zT(t){if(ve.isDocumentKey(t))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NA(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Mf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(o){return o.constructor?o.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee(12329,{type:typeof t})}function ta(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mf(t);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ql(t,e){if(!NA(t))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const o in e)if(e[o]){const r=e[o].typeString,l="value"in e[o]?{value:e[o].value}:void 0;if(!(o in t)){n=`JSON missing required field: '${o}'`;break}const c=t[o];if(r&&typeof c!==r){n=`JSON field '${o}' must be a ${r}.`;break}if(l!==void 0&&c!==l.value){n=`Expected '${o}' field to equal '${l.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=-62135596800,KT=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*KT);return new lt(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<YT)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ql(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-YT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Dt("string",lt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new lt(0,0))}static max(){return new Ce(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function K4(t,e){const n=t.toTimestamp().seconds,o=t.toTimestamp().nanoseconds+1,r=Ce.fromTimestamp(o===1e9?new lt(n+1,0):new lt(n,o));return new jo(r,ve.empty(),e)}function J4(t){return new jo(t.readTime,t.key,Gl)}class jo{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new jo(Ce.min(),ve.empty(),Gl)}static max(){return new jo(Ce.max(),ve.empty(),Gl)}}function $4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class X4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==Q4)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((o,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,r)},this.catchCallback=l=>{this.wrapFailure(n,l).next(o,r)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,o)=>{n(e)}))}static reject(e){return new ie(((n,o)=>{o(e)}))}static waitFor(e){return new ie(((n,o)=>{let r=0,l=0,c=!1;e.forEach((d=>{++r,d.next((()=>{++l,c&&l===r&&n()}),(y=>o(y)))})),c=!0,l===r&&n()}))}static or(e){let n=ie.resolve(!1);for(const o of e)n=n.next((r=>r?ie.resolve(r):o()));return n}static forEach(e,n){const o=[];return e.forEach(((r,l)=>{o.push(n.call(this,r,l))})),this.waitFor(o)}static mapArray(e,n){return new ie(((o,r)=>{const l=e.length,c=new Array(l);let d=0;for(let y=0;y<l;y++){const p=y;n(e[p]).next((_=>{c[p]=_,++d,d===l&&o(c)}),(_=>r(_)))}}))}static doWhile(e,n){return new ie(((o,r)=>{const l=()=>{e()===!0?n().next((()=>{l()}),r):o()};l()}))}}function W4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ma(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>n.writeSequenceNumber(o))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=-1;function Df(t){return t==null}function sf(t){return t===0&&1/t==-1/0}function Z4(t){return typeof t=="number"&&Number.isInteger(t)&&!sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="";function j4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JT(e)),e=ek(t.get(n),e);return JT(e)}function ek(t,e){let n=e;const o=t.length;for(let r=0;r<o;r++){const l=t.charAt(r);switch(l){case"\0":n+="";break;case MA:n+="";break;default:n+=l}}return n}function JT(t){return t+MA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const r=this.comparator(e,o.key);if(r===0)return n+o.left.size;r<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,o)=>(e(n,o),!1)))}toString(){const e=[];return this.inorderTraversal(((n,o)=>(e.push(`${n}:${o}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uc(this.root,e,this.comparator,!0)}}class Uc{constructor(e,n,o,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?o(e.key,n):1,n&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,o,r,l){this.key=e,this.value=n,this.color=o??Qt.RED,this.left=r??Qt.EMPTY,this.right=l??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,r,l){return new Qt(e??this.key,n??this.value,o??this.color,r??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let r=this;const l=o(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,n,o),null):l===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,o)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Qt.EMPTY;o=r.right.min(),r=r.copy(o.key,o.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,o,r,l){return this}insert(e,n,o){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,o)=>(e(n),!1)))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const r=o.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(e){return new QT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((o=>{n=n.add(o)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,l=o.getNext().key;if(this.comparator(r,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class QT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new oi([])}unionWith(e){let n=new Lt(Xt.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new oi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sa(this.fields,e.fields,((n,o)=>n.isEqual(o)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new DA("Invalid base64 string: "+l):l}})(e);return new Wt(n)}static fromUint8Array(e){const n=(function(r){let l="";for(let c=0;c<r.length;++c)l+=String.fromCharCode(r[c]);return l})(e);return new Wt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const o=new Uint8Array(n.length);for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Wt.EMPTY_BYTE_STRING=new Wt("");const tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(Qe(!!t,39018),typeof t=="string"){let e=0;const n=tk.exec(t);if(Qe(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const o=new Date(t);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Tt(t.seconds),nanos:Tt(t.nanos)}}function Tt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ts(t){return typeof t=="string"?Wt.fromBase64String(t):Wt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="server_timestamp",PA="__type__",kA="__previous_value__",UA="__local_write_time__";function Am(t){var n,o;return((o=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PA])==null?void 0:o.stringValue)===VA}function Vf(t){const e=t.mapValue.fields[kA];return Am(e)?Vf(e):e}function Hl(t){const e=es(t.mapValue.fields[UA].timestampValue);return new lt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,n,o,r,l,c,d,y,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=r,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=_}}const rf="(default)";class zl{constructor(e,n){this.projectId=e,this.database=n||rf}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===rf}isEqual(e){return e instanceof zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="__type__",ik="__max__",Lc={mapValue:{}},OA="__vector__",af="value";function ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Am(t)?4:sk(t)?9007199254740991:ok(t)?10:11:Ee(28295,{value:t})}function Li(t,e){if(t===e)return!0;const n=ns(t);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hl(t).isEqual(Hl(e));case 3:return(function(r,l){if(typeof r.timestampValue=="string"&&typeof l.timestampValue=="string"&&r.timestampValue.length===l.timestampValue.length)return r.timestampValue===l.timestampValue;const c=es(r.timestampValue),d=es(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(r,l){return ts(r.bytesValue).isEqual(ts(l.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(r,l){return Tt(r.geoPointValue.latitude)===Tt(l.geoPointValue.latitude)&&Tt(r.geoPointValue.longitude)===Tt(l.geoPointValue.longitude)})(t,e);case 2:return(function(r,l){if("integerValue"in r&&"integerValue"in l)return Tt(r.integerValue)===Tt(l.integerValue);if("doubleValue"in r&&"doubleValue"in l){const c=Tt(r.doubleValue),d=Tt(l.doubleValue);return c===d?sf(c)===sf(d):isNaN(c)&&isNaN(d)}return!1})(t,e);case 9:return sa(t.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(r,l){const c=r.mapValue.fields||{},d=l.mapValue.fields||{};if($T(c)!==$T(d))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(d[y]===void 0||!Li(c[y],d[y])))return!1;return!0})(t,e);default:return Ee(52216,{left:t})}}function Yl(t,e){return(t.values||[]).find((n=>Li(n,e)))!==void 0}function ra(t,e){if(t===e)return 0;const n=ns(t),o=ns(e);if(n!==o)return ke(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Tt(l.integerValue||l.doubleValue),y=Tt(c.integerValue||c.doubleValue);return d<y?-1:d>y?1:d===y?0:isNaN(d)?isNaN(y)?0:-1:1})(t,e);case 3:return XT(t.timestampValue,e.timestampValue);case 4:return XT(Hl(t),Hl(e));case 5:return Lp(t.stringValue,e.stringValue);case 6:return(function(l,c){const d=ts(l),y=ts(c);return d.compareTo(y)})(t.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),y=c.split("/");for(let p=0;p<d.length&&p<y.length;p++){const _=ke(d[p],y[p]);if(_!==0)return _}return ke(d.length,y.length)})(t.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ke(Tt(l.latitude),Tt(c.latitude));return d!==0?d:ke(Tt(l.longitude),Tt(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WT(t.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,R,L,B;const d=l.fields||{},y=c.fields||{},p=(S=d[af])==null?void 0:S.arrayValue,_=(R=y[af])==null?void 0:R.arrayValue,T=ke(((L=p==null?void 0:p.values)==null?void 0:L.length)||0,((B=_==null?void 0:_.values)==null?void 0:B.length)||0);return T!==0?T:WT(p,_)})(t.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Lc.mapValue&&c===Lc.mapValue)return 0;if(l===Lc.mapValue)return 1;if(c===Lc.mapValue)return-1;const d=l.fields||{},y=Object.keys(d),p=c.fields||{},_=Object.keys(p);y.sort(),_.sort();for(let T=0;T<y.length&&T<_.length;++T){const S=Lp(y[T],_[T]);if(S!==0)return S;const R=ra(d[y[T]],p[_[T]]);if(R!==0)return R}return ke(y.length,_.length)})(t.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function XT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=es(t),o=es(e),r=ke(n.seconds,o.seconds);return r!==0?r:ke(n.nanos,o.nanos)}function WT(t,e){const n=t.values||[],o=e.values||[];for(let r=0;r<n.length&&r<o.length;++r){const l=ra(n[r],o[r]);if(l)return l}return ke(n.length,o.length)}function aa(t){return Op(t)}function Op(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const o=es(n);return`time(${o.seconds},${o.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return ts(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ve.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let o="[",r=!0;for(const l of n.values||[])r?r=!1:o+=",",o+=Op(l);return o+"]"})(t.arrayValue):"mapValue"in t?(function(n){const o=Object.keys(n.fields||{}).sort();let r="{",l=!0;for(const c of o)l?l=!1:r+=",",r+=`${c}:${Op(n.fields[c])}`;return r+"}"})(t.mapValue):Ee(61005,{value:t})}function Yc(t){switch(ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vf(t);return e?16+Yc(e):16;case 5:return 2*t.stringValue.length;case 6:return ts(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(o){return(o.values||[]).reduce(((r,l)=>r+Yc(l)),0)})(t.arrayValue);case 10:case 11:return(function(o){let r=0;return Ws(o.fields,((l,c)=>{r+=l.length+Yc(c)})),r})(t.mapValue);default:throw Ee(13486,{value:t})}}function ZT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function qp(t){return!!t&&"integerValue"in t}function Cm(t){return!!t&&"arrayValue"in t}function jT(t){return!!t&&"nullValue"in t}function eE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Kc(t){return!!t&&"mapValue"in t}function ok(t){var n,o;return((o=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LA])==null?void 0:o.stringValue)===OA}function Vl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ws(t.mapValue.fields,((n,o)=>e.mapValue.fields[n]=Vl(o))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return{...t}}function sk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ik}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Xt.emptyPath(),o={},r=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const y=this.getFieldsMap(n);this.applyChanges(y,o,r),o={},r=[],n=d.popLast()}c?o[d.lastSegment()]=Vl(c):r.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,o,r)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let r=n.mapValue.fields[e.get(o)];Kc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,o){Ws(n,((r,l)=>e[r]=l));for(const r of o)delete e[r]}clone(){return new Gn(Vl(this.value))}}function qA(t){const e=[];return Ws(t.fields,((n,o)=>{const r=new Xt([n]);if(Kc(o)){const l=qA(o.mapValue).fields;if(l.length===0)e.push(r);else for(const c of l)e.push(r.child(c))}else e.push(r)})),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n,o,r,l,c,d){this.key=e,this.documentType=n,this.version=o,this.readTime=r,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new on(e,0,Ce.min(),Ce.min(),Ce.min(),Gn.empty(),0)}static newFoundDocument(e,n,o,r){return new on(e,1,n,Ce.min(),o,r,0)}static newNoDocument(e,n){return new on(e,2,n,Ce.min(),Ce.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new on(e,3,n,Ce.min(),Ce.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.position=e,this.inclusive=n}}function tE(t,e,n){let o=0;for(let r=0;r<t.position.length;r++){const l=e[r],c=t.position[r];if(l.field.isKeyField()?o=ve.comparator(ve.fromName(c.referenceValue),n.key):o=ra(c,n.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function nE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Li(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{}class xt extends BA{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new lk(e,n,o):n==="array-contains"?new fk(e,o):n==="in"?new dk(e,o):n==="not-in"?new hk(e,o):n==="array-contains-any"?new pk(e,o):new xt(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new uk(e,o):new ck(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ra(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends BA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return FA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function FA(t){return t.op==="and"}function GA(t){return ak(t)&&FA(t)}function ak(t){for(const e of t.filters)if(e instanceof ai)return!1;return!0}function Bp(t){if(t instanceof xt)return t.field.canonicalString()+t.op.toString()+aa(t.value);if(GA(t))return t.filters.map((e=>Bp(e))).join(",");{const e=t.filters.map((n=>Bp(n))).join(",");return`${t.op}(${e})`}}function HA(t,e){return t instanceof xt?(function(o,r){return r instanceof xt&&o.op===r.op&&o.field.isEqual(r.field)&&Li(o.value,r.value)})(t,e):t instanceof ai?(function(o,r){return r instanceof ai&&o.op===r.op&&o.filters.length===r.filters.length?o.filters.reduce(((l,c,d)=>l&&HA(c,r.filters[d])),!0):!1})(t,e):void Ee(19439)}function zA(t){return t instanceof xt?(function(n){return`${n.field.canonicalString()} ${n.op} ${aa(n.value)}`})(t):t instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(zA).join(" ,")+"}"})(t):"Filter"}class lk extends xt{constructor(e,n,o){super(e,n,o),this.key=ve.fromName(o.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class uk extends xt{constructor(e,n){super(e,"in",n),this.keys=YA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ck extends xt{constructor(e,n){super(e,"not-in",n),this.keys=YA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((o=>ve.fromName(o.referenceValue)))}class fk extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cm(n)&&Yl(n.arrayValue,this.value)}}class dk extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class hk extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class pk extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((o=>Yl(this.value.arrayValue,o)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n=null,o=[],r=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=r,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function iE(t,e=null,n=[],o=[],r=null,l=null,c=null){return new mk(t,e,n,o,r,l,c)}function Im(t){const e=we(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((o=>Bp(o))).join(","),n+="|ob:",n+=e.orderBy.map((o=>(function(l){return l.field.canonicalString()+l.dir})(o))).join(","),Df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((o=>aa(o))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((o=>aa(o))).join(",")),e.Te=n}return e.Te}function wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!rk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nE(t.startAt,e.startAt)&&nE(t.endAt,e.endAt)}function Fp(t){return ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n=null,o=[],r=[],l=null,c="F",d=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=r,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gk(t,e,n,o,r,l,c,d){return new ga(t,e,n,o,r,l,c,d)}function Rm(t){return new ga(t)}function oE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KA(t){return t.collectionGroup!==null}function Pl(t){const e=we(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),n.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Lt(Xt.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Kl(l,o))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Kl(Xt.keyField(),o))}return e.Ie}function Vi(t){const e=we(t);return e.Ee||(e.Ee=yk(e,Pl(t))),e.Ee}function yk(t,e){if(t.limitType==="F")return iE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((r=>{const l=r.dir==="desc"?"asc":"desc";return new Kl(r.field,l)}));const n=t.endAt?new lf(t.endAt.position,t.endAt.inclusive):null,o=t.startAt?new lf(t.startAt.position,t.startAt.inclusive):null;return iE(t.path,t.collectionGroup,e,t.filters,t.limit,n,o)}}function Gp(t,e){const n=t.filters.concat([e]);return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uf(t,e,n){return new ga(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pf(t,e){return wm(Vi(t),Vi(e))&&t.limitType===e.limitType}function JA(t){return`${Im(Vi(t))}|lt:${t.limitType}`}function Jr(t){return`Query(target=${(function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map((r=>zA(r))).join(", ")}]`),Df(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map((r=>aa(r))).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map((r=>aa(r))).join(",")),`Target(${o})`})(Vi(t))}; limitType=${t.limitType})`}function kf(t,e){return e.isFoundDocument()&&(function(o,r){const l=r.key.path;return o.collectionGroup!==null?r.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):ve.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)})(t,e)&&(function(o,r){for(const l of Pl(o))if(!l.field.isKeyField()&&r.data.field(l.field)===null)return!1;return!0})(t,e)&&(function(o,r){for(const l of o.filters)if(!l.matches(r))return!1;return!0})(t,e)&&(function(o,r){return!(o.startAt&&!(function(c,d,y){const p=tE(c,d,y);return c.inclusive?p<=0:p<0})(o.startAt,Pl(o),r)||o.endAt&&!(function(c,d,y){const p=tE(c,d,y);return c.inclusive?p>=0:p>0})(o.endAt,Pl(o),r))})(t,e)}function vk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $A(t){return(e,n)=>{let o=!1;for(const r of Pl(t)){const l=_k(r,e,n);if(l!==0)return l;o=o||r.field.isKeyField()}return 0}}function _k(t,e,n){const o=t.field.isKeyField()?ve.comparator(e.key,n.key):(function(l,c,d){const y=c.data.field(l),p=d.data.field(l);return y!==null&&p!==null?ra(y,p):Ee(42886)})(t.field,e,n);switch(t.dir){case"asc":return o;case"desc":return-1*o;default:return Ee(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[r,l]of o)if(this.equalsFn(r,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),r=this.inner[o];if(r===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let r=0;r<o.length;r++)if(this.equalsFn(o[r][0],e))return o.length===1?delete this.inner[n]:o.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,o)=>{for(const[r,l]of o)e(r,l)}))}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=new dt(ve.comparator);function fo(){return Tk}const QA=new dt(ve.comparator);function Nl(...t){let e=QA;for(const n of t)e=e.insert(n.key,n);return e}function XA(t){let e=QA;return t.forEach(((n,o)=>e=e.insert(n,o.overlayedDocument))),e}function Gs(){return kl()}function WA(){return kl()}function kl(){return new Zs((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Ek=new dt(ve.comparator),Sk=new Lt(ve.comparator);function Ue(...t){let e=Sk;for(const n of t)e=e.add(n);return e}const Ak=new Lt(ke);function Ck(){return Ak}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(e)?"-0":e}}function ZA(t){return{integerValue:""+t}}function Ik(t,e){return Z4(e)?ZA(e):bm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function wk(t,e,n){return t instanceof cf?(function(r,l){const c={fields:{[PA]:{stringValue:VA},[UA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return l&&Am(l)&&(l=Vf(l)),l&&(c.fields[kA]=l),{mapValue:c}})(n,e):t instanceof Jl?eC(t,e):t instanceof $l?tC(t,e):(function(r,l){const c=jA(r,l),d=sE(c)+sE(r.Ae);return qp(c)&&qp(r.Ae)?ZA(d):bm(r.serializer,d)})(t,e)}function Rk(t,e,n){return t instanceof Jl?eC(t,e):t instanceof $l?tC(t,e):n}function jA(t,e){return t instanceof ff?(function(o){return qp(o)||(function(l){return!!l&&"doubleValue"in l})(o)})(e)?e:{integerValue:0}:null}class cf extends Uf{}class Jl extends Uf{constructor(e){super(),this.elements=e}}function eC(t,e){const n=nC(e);for(const o of t.elements)n.some((r=>Li(r,o)))||n.push(o);return{arrayValue:{values:n}}}class $l extends Uf{constructor(e){super(),this.elements=e}}function tC(t,e){let n=nC(e);for(const o of t.elements)n=n.filter((r=>!Li(r,o)));return{arrayValue:{values:n}}}class ff extends Uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function sE(t){return Tt(t.integerValue||t.doubleValue)}function nC(t){return Cm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function bk(t,e){return t.field.isEqual(e.field)&&(function(o,r){return o instanceof Jl&&r instanceof Jl||o instanceof $l&&r instanceof $l?sa(o.elements,r.elements,Li):o instanceof ff&&r instanceof ff?Li(o.Ae,r.Ae):o instanceof cf&&r instanceof cf})(t.transform,e.transform)}class Nk{constructor(e,n){this.version=e,this.transformResults=n}}class so{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function iC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sC(t.key,so.none()):new Xl(t.key,t.data,so.none());{const n=t.data,o=Gn.empty();let r=new Lt(Xt.comparator);for(let l of e.fields)if(!r.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?o.delete(l):o.set(l,c),r=r.add(l)}return new js(t.key,o,new oi(r.toArray()),so.none())}}function Mk(t,e,n){t instanceof Xl?(function(r,l,c){const d=r.value.clone(),y=aE(r.fieldTransforms,l,c.transformResults);d.setAll(y),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(t,e,n):t instanceof js?(function(r,l,c){if(!Jc(r.precondition,l))return void l.convertToUnknownDocument(c.version);const d=aE(r.fieldTransforms,l,c.transformResults),y=l.data;y.setAll(oC(r)),y.setAll(d),l.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(t,e,n):(function(r,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Ul(t,e,n,o){return t instanceof Xl?(function(l,c,d,y){if(!Jc(l.precondition,c))return d;const p=l.value.clone(),_=lE(l.fieldTransforms,y,c);return p.setAll(_),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(t,e,n,o):t instanceof js?(function(l,c,d,y){if(!Jc(l.precondition,c))return d;const p=lE(l.fieldTransforms,y,c),_=c.data;return _.setAll(oC(l)),_.setAll(p),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(t,e,n,o):(function(l,c,d){return Jc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(t,e,n)}function xk(t,e){let n=null;for(const o of t.fieldTransforms){const r=e.data.field(o.field),l=jA(o.transform,r||null);l!=null&&(n===null&&(n=Gn.empty()),n.set(o.field,l))}return n||null}function rE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(o,r){return o===void 0&&r===void 0||!(!o||!r)&&sa(o,r,((l,c)=>bk(l,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Lf{constructor(e,n,o,r=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class js extends Lf{constructor(e,n,o,r,l=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=r,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oC(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const o=t.data.field(n);e.set(n,o)}})),e}function aE(t,e,n){const o=new Map;Qe(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const l=t[r],c=l.transform,d=e.data.field(l.field);o.set(l.field,Rk(c,d,n[r]))}return o}function lE(t,e,n){const o=new Map;for(const r of t){const l=r.transform,c=n.data.field(r.field);o.set(r.field,wk(l,c,e))}return o}class sC extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Dk extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,n,o,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=r}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&Mk(l,e,o[r])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Ul(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Ul(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=WA();return this.mutations.forEach((r=>{const l=e.get(r.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(r.key)?null:d;const y=iC(c,d);y!==null&&o.set(r.key,y),c.isValidDocument()||c.convertToNoDocument(Ce.min())})),o}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&sa(this.mutations,e.mutations,((n,o)=>rE(n,o)))&&sa(this.baseMutations,e.baseMutations,((n,o)=>rE(n,o)))}}class Nm{constructor(e,n,o,r){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=r}static from(e,n,o){Qe(e.mutations.length===o.length,58842,{me:e.mutations.length,fe:o.length});let r=(function(){return Ek})();const l=e.mutations;for(let c=0;c<l.length;c++)r=r.insert(l[c].key,o[c].version);return new Nm(e,n,o,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Fe;function Uk(t){switch(t){case ne.OK:return Ee(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ee(15467,{code:t})}}function rC(t){if(t===void 0)return co("GRPC error has no .code"),ne.UNKNOWN;switch(t){case Mt.OK:return ne.OK;case Mt.CANCELLED:return ne.CANCELLED;case Mt.UNKNOWN:return ne.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ne.INTERNAL;case Mt.UNAVAILABLE:return ne.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ne.NOT_FOUND;case Mt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Mt.ABORTED:return ne.ABORTED;case Mt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Mt.DATA_LOSS:return ne.DATA_LOSS;default:return Ee(39323,{code:t})}}(Fe=Mt||(Mt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=new Xo([4294967295,4294967295],0);function uE(t){const e=Lk().encode(t),n=new TA;return n.update(e),new Uint8Array(n.digest())}function cE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),r=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Xo([n,o],0),new Xo([r,l],0)]}class Mm{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Ml(`Invalid padding: ${n}`);if(o<0)throw new Ml(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Ml(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new Ml(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Xo.fromNumber(this.ge)}ye(e,n,o){let r=e.add(n.multiply(Xo.fromNumber(o)));return r.compare(Ok)===1&&(r=new Xo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uE(e),[o,r]=cE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(o,r,l);if(!this.we(c))return!1}return!0}static create(e,n,o){const r=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Mm(l,r,n);return o.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const n=uE(e),[o,r]=cE(n);for(let l=0;l<this.hashCount;l++){const c=this.ye(o,r,l);this.Se(c)}}Se(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,n,o,r,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const r=new Map;return r.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new Of(Ce.min(),r,new dt(ke),fo(),Ue())}}class Wl{constructor(e,n,o,r,l){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Wl(o,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,o,r){this.be=e,this.removedTargetIds=n,this.key=o,this.De=r}}class aC{constructor(e,n){this.targetId=e,this.Ce=n}}class lC{constructor(e,n,o=Wt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=r}}class fE{constructor(){this.ve=0,this.Fe=dE(),this.Me=Wt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),o=Ue();return this.Fe.forEach(((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:o=o.add(r);break;default:Ee(38017,{changeType:l})}})),new Wl(this.Me,this.xe,e,n,o)}qe(){this.Oe=!1,this.Fe=dE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qk{constructor(e){this.Ge=e,this.ze=new Map,this.je=fo(),this.Je=Oc(),this.He=Oc(),this.Ye=new dt(ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const o=this.nt(n);switch(e.state){case 0:this.rt(n)&&o.Le(e.resumeToken);break;case 1:o.Ke(),o.Ne||o.qe(),o.Le(e.resumeToken);break;case 2:o.Ke(),o.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(o.We(),o.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),o.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((o,r)=>{this.rt(r)&&n(r)}))}st(e){const n=e.targetId,o=e.Ce.count,r=this.ot(n);if(r){const l=r.target;if(Fp(l))if(o===0){const c=new ve(l.path);this.et(n,c,on.newNoDocument(c,Ce.min()))}else Qe(o===1,20013,{expectedCount:o});else{const c=this._t(n);if(c!==o){const d=this.ut(e),y=d?this.ct(d,e,c):1;if(y!==0){this.it(n);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,p)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:r=0},hashCount:l=0}=n;let c,d;try{c=ts(o).toUint8Array()}catch(y){if(y instanceof DA)return oa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{d=new Mm(c,r,l)}catch(y){return oa(y instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return d.ge===0?null:d}ct(e,n,o){return n.Ce.count===o-this.Pt(e,n.targetId)?0:2}Pt(e,n){const o=this.Ge.getRemoteKeysForTarget(n);let r=0;return o.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(n,l,null),r++)})),r}Tt(e){const n=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&Fp(d.target)){const y=new ve(d.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,on.newNoDocument(y,e))}l.Be&&(n.set(c,l.ke()),l.qe())}}));let o=Ue();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(o=o.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const r=new Of(e,n,this.Ye,this.je,o);return this.je=fo(),this.Je=Oc(),this.He=Oc(),this.Ye=new dt(ke),r}Xe(e,n){if(!this.rt(e))return;const o=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,o),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,o){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),o&&(this.je=this.je.insert(n,o))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new fE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Oc(){return new dt(ve.comparator)}function dE(){return new dt(ve.comparator)}const Bk={asc:"ASCENDING",desc:"DESCENDING"},Fk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gk={and:"AND",or:"OR"};class Hk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hp(t,e){return t.useProto3Json||Df(e)?e:{value:e}}function df(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zk(t,e){return df(t,e.toTimestamp())}function Pi(t){return Qe(!!t,49232),Ce.fromTimestamp((function(n){const o=es(n);return new lt(o.seconds,o.nanos)})(t))}function xm(t,e){return zp(t,e).canonicalString()}function zp(t,e){const n=(function(r){return new st(["projects",r.projectId,"databases",r.database])})(t).child("documents");return e===void 0?n:n.child(e)}function cC(t){const e=st.fromString(t);return Qe(mC(e),10190,{key:e.toString()}),e}function Yp(t,e){return xm(t.databaseId,e.path)}function cp(t,e){const n=cC(e);if(n.get(1)!==t.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ve(dC(n))}function fC(t,e){return xm(t.databaseId,e)}function Yk(t){const e=cC(t);return e.length===4?st.emptyPath():dC(e)}function Kp(t){return new st(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dC(t){return Qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hE(t,e,n){return{name:Yp(t,e),fields:n.value.mapValue.fields}}function Kk(t,e){let n;if("targetChange"in e){e.targetChange;const o=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],l=(function(p,_){return p.useProto3Json?(Qe(_===void 0||typeof _=="string",58123),Wt.fromBase64String(_||"")):(Qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Wt.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const _=p.code===void 0?ne.UNKNOWN:rC(p.code);return new de(_,p.message||"")})(c);n=new lC(o,r,l,d||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const r=cp(t,o.document.name),l=Pi(o.document.updateTime),c=o.document.createTime?Pi(o.document.createTime):Ce.min(),d=new Gn({mapValue:{fields:o.document.fields}}),y=on.newFoundDocument(r,l,c,d),p=o.targetIds||[],_=o.removedTargetIds||[];n=new $c(p,_,y.key,y)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const r=cp(t,o.document),l=o.readTime?Pi(o.readTime):Ce.min(),c=on.newNoDocument(r,l),d=o.removedTargetIds||[];n=new $c([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const r=cp(t,o.document),l=o.removedTargetIds||[];n=new $c([],l,r,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const o=e.filter;o.targetId;const{count:r=0,unchangedNames:l}=o,c=new kk(r,l),d=o.targetId;n=new aC(d,c)}}return n}function Jk(t,e){let n;if(e instanceof Xl)n={update:hE(t,e.key,e.value)};else if(e instanceof sC)n={delete:Yp(t,e.key)};else if(e instanceof js)n={update:hE(t,e.key,e.data),updateMask:nU(e.fieldMask)};else{if(!(e instanceof Dk))return Ee(16599,{Vt:e.type});n={verify:Yp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((o=>(function(l,c){const d=c.transform;if(d instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Jl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof $l)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ff)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:c.transform})})(0,o)))),e.precondition.isNone||(n.currentDocument=(function(r,l){return l.updateTime!==void 0?{updateTime:zk(r,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ee(27497)})(t,e.precondition)),n}function $k(t,e){return t&&t.length>0?(Qe(e!==void 0,14353),t.map((n=>(function(r,l){let c=r.updateTime?Pi(r.updateTime):Pi(l);return c.isEqual(Ce.min())&&(c=Pi(l)),new Nk(c,r.transformResults||[])})(n,e)))):[]}function Qk(t,e){return{documents:[fC(t,e.path)]}}function Xk(t,e){const n={structuredQuery:{}},o=e.path;let r;e.collectionGroup!==null?(r=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=fC(t,r);const l=(function(p){if(p.length!==0)return pC(ai.create(p,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((_=>(function(S){return{field:$r(S.field),direction:jk(S.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=Hp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:n,parent:r}}function Wk(t){let e=Yk(t.parent);const n=t.structuredQuery,o=n.from?n.from.length:0;let r=null;if(o>0){Qe(o===1,65062);const _=n.from[0];_.allDescendants?r=_.collectionId:e=e.child(_.collectionId)}let l=[];n.where&&(l=(function(T){const S=hC(T);return S instanceof ai&&GA(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(L){return new Kl(Qr(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(n.orderBy));let d=null;n.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,Df(S)?null:S})(n.limit));let y=null;n.startAt&&(y=(function(T){const S=!!T.before,R=T.values||[];return new lf(R,S)})(n.startAt));let p=null;return n.endAt&&(p=(function(T){const S=!T.before,R=T.values||[];return new lf(R,S)})(n.endAt)),gk(e,r,c,l,d,"F",y,p)}function Zk(t,e){const n=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:r})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hC(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=Qr(n.unaryFilter.field);return xt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const r=Qr(n.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qr(n.unaryFilter.field);return xt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qr(n.unaryFilter.field);return xt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(t):t.fieldFilter!==void 0?(function(n){return xt.create(Qr(n.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((o=>hC(o))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(t):Ee(30097,{filter:t})}function jk(t){return Bk[t]}function eU(t){return Fk[t]}function tU(t){return Gk[t]}function $r(t){return{fieldPath:t.canonicalString()}}function Qr(t){return Xt.fromServerFormat(t.fieldPath)}function pC(t){return t instanceof xt?(function(n){if(n.op==="=="){if(eE(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NAN"}};if(jT(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eE(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NAN"}};if(jT(n.value))return{unaryFilter:{field:$r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$r(n.field),op:eU(n.op),value:n.value}}})(t):t instanceof ai?(function(n){const o=n.getFilters().map((r=>pC(r)));return o.length===1?o[0]:{compositeFilter:{op:tU(n.op),filters:o}}})(t):Ee(54877,{filter:t})}function nU(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function mC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,o,r,l=Ce.min(),c=Ce.min(),d=Wt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=y}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.yt=e}}function oU(t){const e=Wk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(){this.Cn=new rU}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(jo.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(jo.min())}updateCollectionGroup(e,n,o){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class rU{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),r=this.index[n]||new Lt(st.comparator),l=!r.has(o);return this.index[n]=r.add(o),l}has(e){const n=e.lastSegment(),o=e.popLast(),r=this.index[n];return r&&r.has(o)}getEntries(e){return(this.index[e]||new Lt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gC=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(gC,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new la(0)}static cr(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="LruGarbageCollector",aU=1048576;function gE([t,e],[n,o]){const r=ke(t,n);return r===0?ke(e,o):r}class lU{constructor(e){this.Ir=e,this.buffer=new Lt(gE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();gE(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uU{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){he(mE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ma(n)?he(mE,"Ignoring IndexedDB error during garbage collection: ",n):await pa(n)}await this.Vr(3e5)}))}}class cU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((o=>Math.floor(n/100*o)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(xf.ce);const o=new lU(n);return this.mr.forEachTarget(e,(r=>o.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>o.Ar(r))))).next((()=>o.maxValue))}removeTargets(e,n,o){return this.mr.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(pE)):this.getCacheSize(e).next((o=>o<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let o,r,l,c,d,y,p;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r)))).next((T=>(o=T,d=Date.now(),this.removeTargets(e,o,n)))).next((T=>(l=T,y=Date.now(),this.removeOrphanedDocuments(e,o)))).next((T=>(p=Date.now(),Kr()<=Ge.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${r} in `+(d-c)+`ms
	Removed ${l} targets in `+(y-d)+`ms
	Removed ${T} documents in `+(p-y)+`ms
Total Duration: ${p-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:T}))))}}function fU(t,e){return new cU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(){this.changes=new Zs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?ie.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e,n,o,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=r}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next((r=>(o=r,this.remoteDocumentCache.getEntry(e,n)))).next((r=>(o!==null&&Ul(o.mutation,r,oi.empty(),lt.now()),r)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((o=>this.getLocalViewOfDocuments(e,o,Ue()).next((()=>o))))}getLocalViewOfDocuments(e,n,o=Ue()){const r=Gs();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,o).next((l=>{let c=Nl();return l.forEach(((d,y)=>{c=c.insert(d,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const o=Gs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,Ue())))}populateOverlays(e,n,o){const r=[];return o.forEach((l=>{n.has(l)||r.push(l)})),this.documentOverlayCache.getOverlays(e,r).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,o,r){let l=fo();const c=kl(),d=(function(){return kl()})();return n.forEach(((y,p)=>{const _=o.get(p.key);r.has(p.key)&&(_===void 0||_.mutation instanceof js)?l=l.insert(p.key,p):_!==void 0?(c.set(p.key,_.mutation.getFieldMask()),Ul(_.mutation,p,_.mutation.getFieldMask(),lt.now())):c.set(p.key,oi.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((p,_)=>c.set(p,_))),n.forEach(((p,_)=>d.set(p,new hU(_,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,n){const o=kl();let r=new dt(((c,d)=>c-d)),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((y=>{const p=n.get(y);if(p===null)return;let _=o.get(y)||oi.empty();_=d.applyToLocalView(p,_),o.set(y,_);const T=(r.get(d.batchId)||Ue()).add(y);r=r.insert(d.batchId,T)}))})).next((()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const y=d.getNext(),p=y.key,_=y.value,T=WA();_.forEach((S=>{if(!l.has(S)){const R=iC(n.get(S),o.get(S));R!==null&&T.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return ie.waitFor(c)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((o=>this.recalculateAndSaveOverlays(e,o)))}getDocumentsMatchingQuery(e,n,o,r){return(function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,r):this.getDocumentsMatchingCollectionQuery(e,n,o,r)}getNextDocuments(e,n,o,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,r).next((l=>{const c=r-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,r-l.size):ie.resolve(Gs());let d=Gl,y=l;return c.next((p=>ie.forEach(p,((_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{y=y.insert(_,S)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,y,p,Ue()))).next((_=>({batchId:d,changes:XA(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((o=>{let r=Nl();return o.isFoundDocument()&&(r=r.insert(o.key,o)),r}))}getDocumentsMatchingCollectionGroupQuery(e,n,o,r){const l=n.collectionGroup;let c=Nl();return this.indexManager.getCollectionParents(e,l).next((d=>ie.forEach(d,(y=>{const p=(function(T,S){return new ga(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,o,r).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,o,r){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,l,r)))).next((c=>{l.forEach(((y,p)=>{const _=p.getKey();c.get(_)===null&&(c=c.insert(_,on.newInvalidDocument(_)))}));let d=Nl();return c.forEach(((y,p)=>{const _=l.get(y);_!==void 0&&Ul(_.mutation,p,oi.empty(),lt.now()),kf(n,p)&&(d=d.insert(y,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(r){return{id:r.id,version:r.version,createTime:Pi(r.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(r){return{name:r.name,query:oU(r.bundledQuery),readTime:Pi(r.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(){this.overlays=new dt(ve.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Gs();return ie.forEach(n,(r=>this.getOverlay(e,r).next((l=>{l!==null&&o.set(r,l)})))).next((()=>o))}saveOverlays(e,n,o){return o.forEach(((r,l)=>{this.St(e,n,l)})),ie.resolve()}removeOverlaysForBatchId(e,n,o){const r=this.qr.get(o);return r!==void 0&&(r.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(o)),ie.resolve()}getOverlaysForCollection(e,n,o){const r=Gs(),l=n.length+1,c=new ve(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const y=d.getNext().value,p=y.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&y.largestBatchId>o&&r.set(y.getKey(),y)}return ie.resolve(r)}getOverlaysForCollectionGroup(e,n,o,r){let l=new dt(((p,_)=>p-_));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>o){let _=l.get(p.largestBatchId);_===null&&(_=Gs(),l=l.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=Gs(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=r)););return ie.resolve(d)}St(e,n,o){const r=this.overlays.get(o.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(o.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new Pk(n,o));let l=this.qr.get(n);l===void 0&&(l=Ue(),this.qr.set(n,l)),this.qr.set(n,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(){this.sessionToken=Wt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.Qr=new Lt(Ft.$r),this.Ur=new Lt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const o=new Ft(e,n);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(e,n){e.forEach((o=>this.addReference(o,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((o=>this.removeReference(o,n)))}jr(e){const n=new ve(new st([])),o=new Ft(n,e),r=new Ft(n,e+1),l=[];return this.Ur.forEachInRange([o,r],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),o=new Ft(n,e),r=new Ft(n,e+1);let l=Ue();return this.Ur.forEachInRange([o,r],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new Ft(e,0),o=this.Qr.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ke(e.Yr,n.Yr)}static Kr(e,n){return ke(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Ft.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,r){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Vk(l,n,o,r);this.mutationQueue.push(c);for(const d of r)this.Zr=this.Zr.add(new Ft(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,r=this.ei(o),l=r<0?0:r;return ie.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Sm:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new Ft(n,0),r=new Ft(n,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([o,r],(c=>{const d=this.Xr(c.Yr);l.push(d)})),ie.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Lt(ke);return n.forEach((r=>{const l=new Ft(r,0),c=new Ft(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{o=o.add(d.Yr)}))})),ie.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,r=o.length+1;let l=o;ve.isDocumentKey(l)||(l=l.child(""));const c=new Ft(new ve(l),0);let d=new Lt(ke);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!o.isPrefixOf(p)&&(p.length===r&&(d=d.add(y.Yr)),!0)}),c),ie.resolve(this.ti(d))}ti(e){const n=[];return e.forEach((o=>{const r=this.Xr(o);r!==null&&n.push(r)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return ie.forEach(n.mutations,(r=>{const l=new Ft(r.key,n.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=o}))}ir(e){}containsKey(e,n){const o=new Ft(n,0),r=this.Zr.firstAfterOrEqual(o);return ie.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.ri=e,this.docs=(function(){return new dt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,r=this.docs.get(o),l=r?r.size:0,c=this.ri(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return ie.resolve(o?o.document.mutableCopy():on.newInvalidDocument(n))}getEntries(e,n){let o=fo();return n.forEach((r=>{const l=this.docs.get(r);o=o.insert(r,l?l.document.mutableCopy():on.newInvalidDocument(r))})),ie.resolve(o)}getDocumentsMatchingQuery(e,n,o,r){let l=fo();const c=n.path,d=new ve(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(d);for(;y.hasNext();){const{key:p,value:{document:_}}=y.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||$4(J4(_),o)<=0||(r.has(_.key)||kf(n,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ie.resolve(l)}getAllFromCollectionGroup(e,n,o,r){Ee(9500)}ii(e,n){return ie.forEach(this.docs,(o=>n(o)))}newChangeBuffer(e){return new TU(this)}getSize(e){return ie.resolve(this.size)}}class TU extends dU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((o,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(o)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EU{constructor(e){this.persistence=e,this.si=new Zs((n=>Im(n)),wm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.oi=0,this._i=new Dm,this.targetCount=0,this.ai=la.ur()}forEachTarget(e,n){return this.si.forEach(((o,r)=>n(r))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new la(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,o){let r=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=n&&o.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),ie.waitFor(l).next((()=>r))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const o=this.si.get(n)||null;return ie.resolve(o)}addMatchingKeys(e,n,o){return this._i.Wr(n,o),ie.resolve()}removeMatchingKeys(e,n,o){this._i.zr(n,o);const r=this.persistence.referenceDelegate,l=[];return r&&n.forEach((c=>{l.push(r.markPotentiallyOrphaned(e,c))})),ie.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const o=this._i.Hr(n);return ie.resolve(o)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.ui={},this.overlays={},this.ci=new xf(0),this.li=!1,this.li=!0,this.hi=new yU,this.referenceDelegate=e(this),this.Pi=new EU(this),this.indexManager=new sU,this.remoteDocumentCache=(function(r){return new _U(r)})((o=>this.referenceDelegate.Ti(o))),this.serializer=new iU(n),this.Ii=new mU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.ui[e.toKey()];return o||(o=new vU(n,this.referenceDelegate),this.ui[e.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,o){he("MemoryPersistence","Starting transaction:",e);const r=new SU(this.ci.next());return this.referenceDelegate.Ei(),o(r).next((l=>this.referenceDelegate.di(r).next((()=>l)))).toPromise().then((l=>(r.raiseOnCommittedEvent(),l)))}Ai(e,n){return ie.or(Object.values(this.ui).map((o=>()=>o.containsKey(e,n))))}}class SU extends X4{constructor(e){super(),this.currentSequenceNumber=e}}class Vm{constructor(e){this.persistence=e,this.Ri=new Dm,this.Vi=null}static mi(e){return new Vm(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,o){return this.Ri.addReference(o,n),this.fi.delete(o.toString()),ie.resolve()}removeReference(e,n,o){return this.Ri.removeReference(o,n),this.fi.add(o.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((r=>this.fi.add(r.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next((r=>{r.forEach((l=>this.fi.add(l.toString())))})).next((()=>o.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(o=>{const r=ve.fromPath(o);return this.gi(e,r).next((l=>{l||n.removeEntry(r,Ce.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((o=>{o?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hf{constructor(e,n){this.persistence=e,this.pi=new Zs((o=>j4(o.path)),((o,r)=>o.isEqual(r))),this.garbageCollector=fU(this,n)}static mi(e,n){return new hf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((o=>n.next((r=>o+r))))}wr(e){let n=0;return this.pr(e,(o=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((o,r)=>this.br(e,o,r).next((l=>l?ie.resolve():n(r)))))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const r=this.persistence.getRemoteDocumentCache(),l=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,n).next((d=>{d||(o++,l.removeEntry(c,Ce.min()))})))).next((()=>l.apply(e))).next((()=>o))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.pi.set(o,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,o){return this.pi.set(o,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Yc(e.data.value)),n}br(e,n,o){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return ie.resolve(r!==void 0&&r>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,o,r){this.targetId=e,this.fromCache=n,this.Es=o,this.ds=r}static As(e,n){let o=Ue(),r=Ue();for(const l of n.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new Pm(e,n.fromCache,o,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KD()?8:W4(zD())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,o,r){const l={result:null};return this.ys(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,n,r,o).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new AU;return this.Ss(e,n,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,n,c,d.size)}))})).next((()=>l.result))}bs(e,n,o,r){return o.documentReadCount<this.fs?(Kr()<=Ge.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Jr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Kr()<=Ge.DEBUG&&he("QueryEngine","Query:",Jr(n),"scans",o.documentReadCount,"local documents and returns",r,"documents as results."),o.documentReadCount>this.gs*r?(Kr()<=Ge.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Jr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ie.resolve())}ys(e,n){if(oE(n))return ie.resolve(null);let o=Vi(n);return this.indexManager.getIndexType(e,o).next((r=>r===0?null:(n.limit!==null&&r===1&&(n=uf(n,null,"F"),o=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next((l=>{const c=Ue(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,o).next((y=>{const p=this.Ds(n,d);return this.Cs(n,p,c,y.readTime)?this.ys(e,uf(n,null,"F")):this.vs(e,p,n,y)}))))})))))}ws(e,n,o,r){return oE(n)||r.isEqual(Ce.min())?ie.resolve(null):this.ps.getDocuments(e,o).next((l=>{const c=this.Ds(n,l);return this.Cs(n,c,o,r)?ie.resolve(null):(Kr()<=Ge.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Jr(n)),this.vs(e,c,n,K4(r,Gl)).next((d=>d)))}))}Ds(e,n){let o=new Lt($A(e));return n.forEach(((r,l)=>{kf(e,l)&&(o=o.add(l))})),o}Cs(e,n,o,r){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Ss(e,n,o){return Kr()<=Ge.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Jr(n)),this.ps.getDocumentsMatchingQuery(e,n,jo.min(),o)}vs(e,n,o,r){return this.ps.getDocumentsMatchingQuery(e,o,r).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",IU=3e8;class wU{constructor(e,n,o,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new dt(ke),this.xs=new Zs((l=>Im(l)),wm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(o)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RU(t,e,n,o){return new wU(t,e,n,o)}async function vC(t,e){const n=we(t);return await n.persistence.runTransaction("Handle user change","readonly",(o=>{let r;return n.mutationQueue.getAllMutationBatches(o).next((l=>(r=l,n.Bs(e),n.mutationQueue.getAllMutationBatches(o)))).next((l=>{const c=[],d=[];let y=Ue();for(const p of r){c.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}for(const p of l){d.push(p.batchId);for(const _ of p.mutations)y=y.add(_.key)}return n.localDocuments.getDocuments(o,y).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function bU(t,e){const n=we(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(o=>{const r=e.batch.keys(),l=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,y,p,_){const T=p.batch,S=T.keys();let R=ie.resolve();return S.forEach((L=>{R=R.next((()=>_.getEntry(y,L))).next((B=>{const U=p.docVersions.get(L);Qe(U!==null,48541),B.version.compareTo(U)<0&&(T.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),_.addEntry(B)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(y,T)))})(n,o,e,l).next((()=>l.apply(o))).next((()=>n.mutationQueue.performConsistencyCheck(o))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(o,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(d){let y=Ue();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(y=y.add(d.batch.mutations[p].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(o,r)))}))}function _C(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function NU(t,e){const n=we(t),o=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const d=[];e.targetChanges.forEach(((_,T)=>{const S=r.get(T);if(!S)return;d.push(n.Pi.removeMatchingKeys(l,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(l,_.addedDocuments,T))));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(Wt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(_.resumeToken,o)),r=r.insert(T,R),(function(B,U,Q){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=IU?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,R,_)&&d.push(n.Pi.updateTargetData(l,R))}));let y=fo(),p=Ue();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,_))})),d.push(MU(l,c,e.documentUpdates).next((_=>{y=_.ks,p=_.qs}))),!o.isEqual(Ce.min())){const _=n.Pi.getLastRemoteSnapshotVersion(l).next((T=>n.Pi.setTargetsMetadata(l,l.currentSequenceNumber,o)));d.push(_)}return ie.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,y,p))).next((()=>y))})).then((l=>(n.Ms=r,l)))}function MU(t,e,n){let o=Ue(),r=Ue();return n.forEach((l=>o=o.add(l))),e.getEntries(t,o).next((l=>{let c=fo();return n.forEach(((d,y)=>{const p=l.get(d);y.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(d)),y.isNoDocument()&&y.version.isEqual(Ce.min())?(e.removeEntry(d,y.readTime),c=c.insert(d,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),c=c.insert(d,y)):he(km,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",y.version)})),{ks:c,qs:r}}))}function xU(t,e){const n=we(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(o=>(e===void 0&&(e=Sm),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e))))}function DU(t,e){const n=we(t);return n.persistence.runTransaction("Allocate target","readwrite",(o=>{let r;return n.Pi.getTargetData(o,e).next((l=>l?(r=l,ie.resolve(r)):n.Pi.allocateTargetId(o).next((c=>(r=new $o(e,c,"TargetPurposeListen",o.currentSequenceNumber),n.Pi.addTargetData(o,r).next((()=>r)))))))})).then((o=>{const r=n.Ms.get(o.targetId);return(r===null||o.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(o.targetId,o),n.xs.set(e,o.targetId)),o}))}async function Jp(t,e,n){const o=we(t),r=o.Ms.get(e),l=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",l,(c=>o.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ma(c))throw c;he(km,`Failed to update sequence numbers for target ${e}: ${c}`)}o.Ms=o.Ms.remove(e),o.xs.delete(r.target)}function yE(t,e,n){const o=we(t);let r=Ce.min(),l=Ue();return o.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,p,_){const T=we(y),S=T.xs.get(_);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(p,_)})(o,c,Vi(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,o.Pi.getMatchingKeysForTargetId(c,d.targetId).next((y=>{l=y}))})).next((()=>o.Fs.getDocumentsMatchingQuery(c,e,n?r:Ce.min(),n?l:Ue()))).next((d=>(VU(o,vk(e),d),{documents:d,Qs:l})))))}function VU(t,e,n){let o=t.Os.get(e)||Ce.min();n.forEach(((r,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)})),t.Os.set(e,o)}class vE{constructor(){this.activeTargetIds=Ck()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PU{constructor(){this.Mo=new vE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,o){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vE,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="ConnectivityMonitor";class TE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){he(_E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){he(_E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qc=null;function $p(){return qc===null?qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():qc++,"0x"+qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",UU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LU{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${o}/databases/${r}`,this.Wo=this.databaseId.database===rf?`project_id=${o}`:`project_id=${o}&database_id=${r}`}Go(e,n,o,r,l){const c=$p(),d=this.zo(e,n.toUriEncodedString());he(fp,`Sending RPC '${e}' ${c}:`,d,o);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,r,l);const{host:p}=new URL(d),_=cm(p);return this.Jo(e,d,y,o,_).then((T=>(he(fp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw oa(fp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",o),T}))}Ho(e,n,o,r,l,c){return this.Go(e,n,o,r,l)}jo(e,n,o){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ha})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((r,l)=>e[l]=r)),o&&o.headers.forEach(((r,l)=>e[l]=r))}zo(e,n){const o=UU[e];return`${this.Uo}/v1/${n}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class qU extends LU{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,o,r,l){const c=$p();return new Promise(((d,y)=>{const p=new EA;p.setWithCredentials(!0),p.listenOnce(SA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case zc.NO_ERROR:const T=p.getResponseJson();he(jt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case zc.TIMEOUT:he(jt,`RPC '${e}' ${c} timed out`),y(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const S=p.getStatus();if(he(jt,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const L=R==null?void 0:R.error;if(L&&L.status&&L.message){const B=(function(Q){const oe=Q.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(oe)>=0?oe:ne.UNKNOWN})(L.status);y(new de(B,L.message))}else y(new de(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{he(jt,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(r);he(jt,`RPC '${e}' ${c} sending request:`,r),p.send(n,"POST",_,o,15)}))}T_(e,n,o){const r=$p(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=IA(),d=CA(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,o),y.encodeInitMessageHeaders=!0;const _=l.join("");he(jt,`Creating RPC '${e}' stream ${r}: ${_}`,y);const T=c.createWebChannel(_,y);this.I_(T);let S=!1,R=!1;const L=new OU({Yo:U=>{R?he(jt,`Not sending because RPC '${e}' stream ${r} is closed:`,U):(S||(he(jt,`Opening RPC '${e}' stream ${r} transport.`),T.open(),S=!0),he(jt,`RPC '${e}' stream ${r} sending:`,U),T.send(U))},Zo:()=>T.close()}),B=(U,Q,oe)=>{U.listen(Q,(Z=>{try{oe(Z)}catch(se){setTimeout((()=>{throw se}),0)}}))};return B(T,bl.EventType.OPEN,(()=>{R||(he(jt,`RPC '${e}' stream ${r} transport opened.`),L.o_())})),B(T,bl.EventType.CLOSE,(()=>{R||(R=!0,he(jt,`RPC '${e}' stream ${r} transport closed`),L.a_(),this.E_(T))})),B(T,bl.EventType.ERROR,(U=>{R||(R=!0,oa(jt,`RPC '${e}' stream ${r} transport errored. Name:`,U.name,"Message:",U.message),L.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),B(T,bl.EventType.MESSAGE,(U=>{var Q;if(!R){const oe=U.data[0];Qe(!!oe,16349);const Z=oe,se=(Z==null?void 0:Z.error)||((Q=Z[0])==null?void 0:Q.error);if(se){he(jt,`RPC '${e}' stream ${r} received error:`,se);const fe=se.status;let le=(function(M){const x=Mt[M];if(x!==void 0)return rC(x)})(fe),w=se.message;le===void 0&&(le=ne.INTERNAL,w="Unknown error status: "+fe+" with message "+se.message),R=!0,L.a_(new de(le,w)),T.close()}else he(jt,`RPC '${e}' stream ${r} received:`,oe),L.u_(oe)}})),B(d,AA.STAT_EVENT,(U=>{U.stat===Up.PROXY?he(jt,`RPC '${e}' stream ${r} detected buffering proxy`):U.stat===Up.NOPROXY&&he(jt,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return new Hk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,o=1e3,r=1.5,l=6e4){this.Mi=e,this.timerId=n,this.d_=o,this.A_=r,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-o);r>0&&he("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="PersistentStream";class EC{constructor(e,n,o,r,l,c,d,y){this.Mi=e,this.S_=o,this.b_=r,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new TC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(co(n.toString()),co("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,r])=>{this.D_===n&&this.G_(o,r)}),(o=>{e((()=>{const r=new de(ne.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(r)}))}))}G_(e,n){const o=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{o((()=>this.listener.Xo()))})),this.stream.t_((()=>{o((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{o((()=>this.z_(r)))})),this.stream.onMessage((r=>{o((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(EE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(he(EE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class BU extends EC{constructor(e,n,o,r,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,r,c),this.serializer=l}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Kk(this.serializer,e),o=(function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Pi(c.readTime):Ce.min()})(e);return this.listener.H_(n,o)}Y_(e){const n={};n.database=Kp(this.serializer),n.addTarget=(function(l,c){let d;const y=c.target;if(d=Fp(y)?{documents:Qk(l,y)}:{query:Xk(l,y).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=uC(l,c.resumeToken);const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=df(l,c.snapshotVersion.toTimestamp());const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const o=Zk(this.serializer,e);o&&(n.labels=o),this.q_(n)}Z_(e){const n={};n.database=Kp(this.serializer),n.removeTarget=e,this.q_(n)}}class FU extends EC{constructor(e,n,o,r,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,r,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$k(e.writeResults,e.commitTime),o=Pi(e.commitTime);return this.listener.na(o,n)}ra(){const e={};e.database=Kp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((o=>Jk(this.serializer,o)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{}class HU extends GU{constructor(e,n,o,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,o,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,zp(n,o),r,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(ne.UNKNOWN,l.toString())}))}Ho(e,n,o,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,zp(n,o),r,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(co(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class YU{constructor(e,n,o,r,l){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{o.enqueueAndForget((async()=>{er(this)&&(he($s,"Restarting streams for network reachability change."),await(async function(y){const p=we(y);p.Ea.add(4),await Zl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await Bf(p)})(this))}))})),this.Ra=new zU(o,r)}}async function Bf(t){if(er(t))for(const e of t.da)await e(!0)}async function Zl(t){for(const e of t.da)await e(!1)}function SC(t,e){const n=we(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qm(n)?Om(n):ya(n).O_()&&Lm(n,e))}function Um(t,e){const n=we(t),o=ya(n);n.Ia.delete(e),o.O_()&&AC(n,e),n.Ia.size===0&&(o.O_()?o.L_():er(n)&&n.Ra.set("Unknown"))}function Lm(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ya(t).Y_(e)}function AC(t,e){t.Va.Ue(e),ya(t).Z_(e)}function Om(t){t.Va=new qk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ya(t).start(),t.Ra.ua()}function qm(t){return er(t)&&!ya(t).x_()&&t.Ia.size>0}function er(t){return we(t).Ea.size===0}function CC(t){t.Va=void 0}async function KU(t){t.Ra.set("Online")}async function JU(t){t.Ia.forEach(((e,n)=>{Lm(t,e)}))}async function $U(t,e){CC(t),qm(t)?(t.Ra.ha(e),Om(t)):t.Ra.set("Unknown")}async function QU(t,e,n){if(t.Ra.set("Online"),e instanceof lC&&e.state===2&&e.cause)try{await(async function(r,l){const c=l.cause;for(const d of l.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,c),r.Ia.delete(d),r.Va.removeTarget(d))})(t,e)}catch(o){he($s,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await pf(t,o)}else if(e instanceof $c?t.Va.Ze(e):e instanceof aC?t.Va.st(e):t.Va.tt(e),!n.isEqual(Ce.min()))try{const o=await _C(t.localStore);n.compareTo(o)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const _=l.Ia.get(p);_&&l.Ia.set(p,_.withResumeToken(y.resumeToken,c))}})),d.targetMismatches.forEach(((y,p)=>{const _=l.Ia.get(y);if(!_)return;l.Ia.set(y,_.withResumeToken(Wt.EMPTY_BYTE_STRING,_.snapshotVersion)),AC(l,y);const T=new $o(_.target,y,p,_.sequenceNumber);Lm(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(o){he($s,"Failed to raise snapshot:",o),await pf(t,o)}}async function pf(t,e,n){if(!ma(e))throw e;t.Ea.add(1),await Zl(t),t.Ra.set("Offline"),n||(n=()=>_C(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{he($s,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bf(t)}))}function IC(t,e){return e().catch((n=>pf(t,n,e)))}async function Ff(t){const e=we(t),n=is(e);let o=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sm;for(;XU(e);)try{const r=await xU(e.localStore,o);if(r===null){e.Ta.length===0&&n.L_();break}o=r.batchId,WU(e,r)}catch(r){await pf(e,r)}wC(e)&&RC(e)}function XU(t){return er(t)&&t.Ta.length<10}function WU(t,e){t.Ta.push(e);const n=is(t);n.O_()&&n.X_&&n.ea(e.mutations)}function wC(t){return er(t)&&!is(t).x_()&&t.Ta.length>0}function RC(t){is(t).start()}async function ZU(t){is(t).ra()}async function jU(t){const e=is(t);for(const n of t.Ta)e.ea(n.mutations)}async function eL(t,e,n){const o=t.Ta.shift(),r=Nm.from(o,e,n);await IC(t,(()=>t.remoteSyncer.applySuccessfulWrite(r))),await Ff(t)}async function tL(t,e){e&&is(t).X_&&await(async function(o,r){if((function(c){return Uk(c)&&c!==ne.ABORTED})(r.code)){const l=o.Ta.shift();is(o).B_(),await IC(o,(()=>o.remoteSyncer.rejectFailedWrite(l.batchId,r))),await Ff(o)}})(t,e),wC(t)&&RC(t)}async function SE(t,e){const n=we(t);n.asyncQueue.verifyOperationInProgress(),he($s,"RemoteStore received new credentials");const o=er(n);n.Ea.add(3),await Zl(n),o&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bf(n)}async function nL(t,e){const n=we(t);e?(n.Ea.delete(2),await Bf(n)):e||(n.Ea.add(2),await Zl(n),n.Ra.set("Unknown"))}function ya(t){return t.ma||(t.ma=(function(n,o,r){const l=we(n);return l.sa(),new BU(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(t.datastore,t.asyncQueue,{Xo:KU.bind(null,t),t_:JU.bind(null,t),r_:$U.bind(null,t),H_:QU.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),qm(t)?Om(t):t.Ra.set("Unknown")):(await t.ma.stop(),CC(t))}))),t.ma}function is(t){return t.fa||(t.fa=(function(n,o,r){const l=we(n);return l.sa(),new FU(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZU.bind(null,t),r_:tL.bind(null,t),ta:jU.bind(null,t),na:eL.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Ff(t)):(await t.fa.stop(),t.Ta.length>0&&(he($s,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,o,r,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=r,this.removalCallback=l,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,r,l){const c=Date.now()+o,d=new Bm(e,n,c,r,l);return d.start(o),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(t,e){if(co("AsyncQueue",`${e}: ${t}`),ma(t))return new de(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||ve.comparator(n.key,o.key):(n,o)=>ve.comparator(n.key,o.key),this.keyedMap=Nl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,o)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,l=o.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new na;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(){this.ga=new dt(ve.comparator)}track(e){const n=e.doc.key,o=this.ga.get(n);o?e.type!==0&&o.type===3?this.ga=this.ga.insert(n,e):e.type===3&&o.type!==1?this.ga=this.ga.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.ga=this.ga.remove(n):e.type===1&&o.type===2?this.ga=this.ga.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:o}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,o)=>{e.push(o)})),e}}class ua{constructor(e,n,o,r,l,c,d,y,p){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=r,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,n,o,r,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new ua(e,n,na.emptySet(n),c,o,r,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==o[r].type||!n[r].doc.isEqual(o[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class oL{constructor(){this.queries=CE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,o){const r=we(n),l=r.queries;r.queries=CE(),l.forEach(((c,d)=>{for(const y of d.Sa)y.onError(o)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function CE(){return new Zs((t=>JA(t)),Pf)}async function sL(t,e){const n=we(t);let o=3;const r=e.query;let l=n.queries.get(r);l?!l.ba()&&e.Da()&&(o=2):(l=new iL,o=e.Da()?0:1);try{switch(o){case 0:l.wa=await n.onListen(r,!0);break;case 1:l.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(c){const d=Fm(c,`Initialization of query '${Jr(e.query)}' failed`);return void e.onError(d)}n.queries.set(r,l),l.Sa.push(e),e.va(n.onlineState),l.wa&&e.Fa(l.wa)&&Gm(n)}async function rL(t,e){const n=we(t),o=e.query;let r=3;const l=n.queries.get(o);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?r=e.Da()?0:1:!l.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function aL(t,e){const n=we(t);let o=!1;for(const r of e){const l=r.query,c=n.queries.get(l);if(c){for(const d of c.Sa)d.Fa(r)&&(o=!0);c.wa=r}}o&&Gm(n)}function lL(t,e,n){const o=we(t),r=o.queries.get(e);if(r)for(const l of r.Sa)l.onError(n);o.queries.delete(e)}function Gm(t){t.Ca.forEach((e=>{e.next()}))}var Qp,IE;(IE=Qp||(Qp={})).Ma="default",IE.Cache="cache";class uL{constructor(e,n,o){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=o||{}}Fa(e){if(!this.options.includeMetadataChanges){const o=[];for(const r of e.docChanges)r.type!==3&&o.push(r);e=new ua(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const o=n!=="Offline";return(!this.options.qa||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e){this.key=e}}class NC{constructor(e){this.key=e}}class cL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=$A(e),this.tu=new na(this.eu)}get nu(){return this.Ya}ru(e,n){const o=n?n.iu:new AE,r=n?n.tu:this.tu;let l=n?n.mutatedKeys:this.mutatedKeys,c=r,d=!1;const y=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((_,T)=>{const S=r.get(_),R=kf(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),B=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let U=!1;S&&R?S.data.isEqual(R.data)?L!==B&&(o.track({type:3,doc:R}),U=!0):this.su(S,R)||(o.track({type:2,doc:R}),U=!0,(y&&this.eu(R,y)>0||p&&this.eu(R,p)<0)&&(d=!0)):!S&&R?(o.track({type:0,doc:R}),U=!0):S&&!R&&(o.track({type:1,doc:S}),U=!0,(y||p)&&(d=!0)),U&&(R?(c=c.add(R),l=B?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{tu:c,iu:o,Cs:d,mutatedKeys:l}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,r){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(R,L){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:U})}};return B(R)-B(L)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(o),r=r??!1;const d=n&&!r?this._u():[],y=this.Xa.size===0&&this.current&&!r?1:0,p=y!==this.Za;return this.Za=y,c.length!==0||p?{snapshot:new ua(this.query,e.tu,l,c,e.mutatedKeys,y===0,p,!1,!!o&&o.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((o=>{this.uu(o.key)&&(this.Xa=this.Xa.add(o.key))}));const n=[];return e.forEach((o=>{this.Xa.has(o)||n.push(new NC(o))})),this.Xa.forEach((o=>{e.has(o)||n.push(new bC(o))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ua.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hm="SyncEngine";class fL{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class dL{constructor(e){this.key=e,this.hu=!1}}class hL{constructor(e,n,o,r,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Zs((d=>JA(d)),Pf),this.Iu=new Map,this.Eu=new Set,this.du=new dt(ve.comparator),this.Au=new Map,this.Ru=new Dm,this.Vu={},this.mu=new Map,this.fu=la.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function pL(t,e,n=!0){const o=kC(t);let r;const l=o.Tu.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),r=l.view.lu()):r=await MC(o,e,n,!0),r}async function mL(t,e){const n=kC(t);await MC(n,e,!0,!1)}async function MC(t,e,n,o){const r=await DU(t.localStore,Vi(e)),l=r.targetId,c=t.sharedClientState.addLocalQueryTarget(l,n);let d;return o&&(d=await gL(t,e,l,c==="current",r.resumeToken)),t.isPrimaryClient&&n&&SC(t.remoteStore,r),d}async function gL(t,e,n,o,r){t.pu=(T,S,R)=>(async function(B,U,Q,oe){let Z=U.view.ru(Q);Z.Cs&&(Z=await yE(B.localStore,U.query,!1).then((({documents:w})=>U.view.ru(w,Z))));const se=oe&&oe.targetChanges.get(U.targetId),fe=oe&&oe.targetMismatches.get(U.targetId)!=null,le=U.view.applyChanges(Z,B.isPrimaryClient,se,fe);return RE(B,U.targetId,le.au),le.snapshot})(t,T,S,R);const l=await yE(t.localStore,e,!0),c=new cL(e,l.Qs),d=c.ru(l.documents),y=Wl.createSynthesizedTargetChangeForCurrentChange(n,o&&t.onlineState!=="Offline",r),p=c.applyChanges(d,t.isPrimaryClient,y);RE(t,n,p.au);const _=new fL(e,n,c);return t.Tu.set(e,_),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),p.snapshot}async function yL(t,e,n){const o=we(t),r=o.Tu.get(e),l=o.Iu.get(r.targetId);if(l.length>1)return o.Iu.set(r.targetId,l.filter((c=>!Pf(c,e)))),void o.Tu.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(r.targetId),o.sharedClientState.isActiveQueryTarget(r.targetId)||await Jp(o.localStore,r.targetId,!1).then((()=>{o.sharedClientState.clearQueryState(r.targetId),n&&Um(o.remoteStore,r.targetId),Xp(o,r.targetId)})).catch(pa)):(Xp(o,r.targetId),await Jp(o.localStore,r.targetId,!0))}async function vL(t,e){const n=we(t),o=n.Tu.get(e),r=n.Iu.get(o.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Um(n.remoteStore,o.targetId))}async function _L(t,e,n){const o=wL(t);try{const r=await(function(c,d){const y=we(c),p=lt.now(),_=d.reduce(((R,L)=>R.add(L.key)),Ue());let T,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let L=fo(),B=Ue();return y.Ns.getEntries(R,_).next((U=>{L=U,L.forEach(((Q,oe)=>{oe.isValidDocument()||(B=B.add(Q))}))})).next((()=>y.localDocuments.getOverlayedDocuments(R,L))).next((U=>{T=U;const Q=[];for(const oe of d){const Z=xk(oe,T.get(oe.key).overlayedDocument);Z!=null&&Q.push(new js(oe.key,Z,qA(Z.value.mapValue),so.exists(!0)))}return y.mutationQueue.addMutationBatch(R,p,Q,d)})).next((U=>{S=U;const Q=U.applyToLocalDocumentSet(T,B);return y.documentOverlayCache.saveOverlays(R,U.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:XA(T)})))})(o.localStore,e);o.sharedClientState.addPendingMutation(r.batchId),(function(c,d,y){let p=c.Vu[c.currentUser.toKey()];p||(p=new dt(ke)),p=p.insert(d,y),c.Vu[c.currentUser.toKey()]=p})(o,r.batchId,n),await jl(o,r.changes),await Ff(o.remoteStore)}catch(r){const l=Fm(r,"Failed to persist write");n.reject(l)}}async function xC(t,e){const n=we(t);try{const o=await NU(n.localStore,e);e.targetChanges.forEach(((r,l)=>{const c=n.Au.get(l);c&&(Qe(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?Qe(c.hu,14607):r.removedDocuments.size>0&&(Qe(c.hu,42227),c.hu=!1))})),await jl(n,o,e)}catch(o){await pa(o)}}function wE(t,e,n){const o=we(t);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const r=[];o.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(c,d){const y=we(c);y.onlineState=d;let p=!1;y.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(d)&&(p=!0)})),p&&Gm(y)})(o.eventManager,e),r.length&&o.Pu.H_(r),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function TL(t,e,n){const o=we(t);o.sharedClientState.updateQueryState(e,"rejected",n);const r=o.Au.get(e),l=r&&r.key;if(l){let c=new dt(ve.comparator);c=c.insert(l,on.newNoDocument(l,Ce.min()));const d=Ue().add(l),y=new Of(Ce.min(),new Map,new dt(ke),c,d);await xC(o,y),o.du=o.du.remove(l),o.Au.delete(e),zm(o)}else await Jp(o.localStore,e,!1).then((()=>Xp(o,e,n))).catch(pa)}async function EL(t,e){const n=we(t),o=e.batch.batchId;try{const r=await bU(n.localStore,e);VC(n,o,null),DC(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await jl(n,r)}catch(r){await pa(r)}}async function SL(t,e,n){const o=we(t);try{const r=await(function(c,d){const y=we(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return y.mutationQueue.lookupMutationBatch(p,d).next((T=>(Qe(T!==null,37113),_=T.keys(),y.mutationQueue.removeMutationBatch(p,T)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>y.localDocuments.getDocuments(p,_)))}))})(o.localStore,e);VC(o,e,n),DC(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await jl(o,r)}catch(r){await pa(r)}}function DC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function VC(t,e,n){const o=we(t);let r=o.Vu[o.currentUser.toKey()];if(r){const l=r.get(e);l&&(n?l.reject(n):l.resolve(),r=r.remove(e)),o.Vu[o.currentUser.toKey()]=r}}function Xp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const o of t.Iu.get(e))t.Tu.delete(o),n&&t.Pu.yu(o,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((o=>{t.Ru.containsKey(o)||PC(t,o)}))}function PC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Um(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zm(t))}function RE(t,e,n){for(const o of n)o instanceof bC?(t.Ru.addReference(o.key,e),AL(t,o)):o instanceof NC?(he(Hm,"Document no longer in limbo: "+o.key),t.Ru.removeReference(o.key,e),t.Ru.containsKey(o.key)||PC(t,o.key)):Ee(19791,{wu:o})}function AL(t,e){const n=e.key,o=n.path.canonicalString();t.du.get(n)||t.Eu.has(o)||(he(Hm,"New document in limbo: "+n),t.Eu.add(o),zm(t))}function zm(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ve(st.fromString(e)),o=t.fu.next();t.Au.set(o,new dL(n)),t.du=t.du.insert(n,o),SC(t.remoteStore,new $o(Vi(Rm(n.path)),o,"TargetPurposeLimboResolution",xf.ce))}}async function jl(t,e,n){const o=we(t),r=[],l=[],c=[];o.Tu.isEmpty()||(o.Tu.forEach(((d,y)=>{c.push(o.pu(y,e,n).then((p=>{var _;if((p||n)&&o.isPrimaryClient){const T=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:_.current;o.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){r.push(p);const T=Pm.As(y.targetId,p);l.push(T)}})))})),await Promise.all(c),o.Pu.H_(r),await(async function(y,p){const _=we(y);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(p,(S=>ie.forEach(S.Es,(R=>_.persistence.referenceDelegate.addReference(T,S.targetId,R))).next((()=>ie.forEach(S.ds,(R=>_.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))))))}catch(T){if(!ma(T))throw T;he(km,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const R=_.Ms.get(S),L=R.snapshotVersion,B=R.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(S,B)}}})(o.localStore,l))}async function CL(t,e){const n=we(t);if(!n.currentUser.isEqual(e)){he(Hm,"User change. New user:",e.toKey());const o=await vC(n.localStore,e);n.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((y=>{y.reject(new de(ne.CANCELLED,c))}))})),l.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await jl(n,o.Ls)}}function IL(t,e){const n=we(t),o=n.Au.get(e);if(o&&o.hu)return Ue().add(o.key);{let r=Ue();const l=n.Iu.get(e);if(!l)return r;for(const c of l){const d=n.Tu.get(c);r=r.unionWith(d.view.nu)}return r}}function kC(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TL.bind(null,e),e.Pu.H_=aL.bind(null,e.eventManager),e.Pu.yu=lL.bind(null,e.eventManager),e}function wL(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SL.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RU(this.persistence,new CU,e.initialUser,this.serializer)}Cu(e){return new yC(Vm.mi,this.serializer)}Du(e){return new PU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class RL extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof hf,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new uU(o,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new yC((o=>hf.mi(o,n)),this.serializer)}}class Wp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>wE(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=CL.bind(null,this.syncEngine),await nL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oL})()}createDatastore(e){const n=qf(e.databaseInfo.databaseId),o=(function(l){return new qU(l)})(e.databaseInfo);return(function(l,c,d,y){return new HU(l,c,d,y)})(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return(function(o,r,l,c,d){return new YU(o,r,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>wE(this.syncEngine,n,0)),(function(){return TE.v()?new TE:new kU})())}createSyncEngine(e,n){return(function(r,l,c,d,y,p,_){const T=new hL(r,l,c,d,y,p);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(r){const l=we(r);he($s,"RemoteStore shutting down."),l.Ea.add(5),await Zl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Wp.provider={build:()=>new Wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):co("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="FirestoreClient";class NL{constructor(e,n,o,r,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,(async c=>{he(os,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(o,(c=>(he(os,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Fm(n,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}async function hp(t,e){t.asyncQueue.verifyOperationInProgress(),he(os,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let o=n.initialUser;t.setCredentialChangeListener((async r=>{o.isEqual(r)||(await vC(e.localStore,r),o=r)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function bE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ML(t);he(os,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((o=>SE(e.remoteStore,o))),t.setAppCheckTokenChangeListener(((o,r)=>SE(e.remoteStore,r))),t._onlineComponents=e}async function ML(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(os,"Using user provided OfflineComponentProvider");try{await hp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(r){return r.name==="FirebaseError"?r.code===ne.FAILED_PRECONDITION||r.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await hp(t,new mf)}}else he(os,"Using default OfflineComponentProvider"),await hp(t,new RL(void 0));return t._offlineComponents}async function UC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(os,"Using user provided OnlineComponentProvider"),await bE(t,t._uninitializedComponentsProvider._online)):(he(os,"Using default OnlineComponentProvider"),await bE(t,new Wp))),t._onlineComponents}function xL(t){return UC(t).then((e=>e.syncEngine))}async function NE(t){const e=await UC(t),n=e.eventManager;return n.onListen=pL.bind(null,e.syncEngine),n.onUnlisten=yL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=mL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vL.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="firestore.googleapis.com",xE=!0;class DE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OC,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aU)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LC(e.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(o,r){return o.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gf{constructor(e,n,o,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new k4;switch(o.type){case"firstParty":return new q4(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const o=ME.get(n);o&&(he("ComponentProvider","Removing Datastore"),ME.delete(n),o.terminate())})(this),Promise.resolve()}}function DL(t,e,n,o={}){var p;t=ta(t,Gf);const r=cm(e),l=t._getSettings(),c={...l,emulatorOptions:t._getEmulatorOptions()},d=`${e}:${n}`;r&&(qD(`https://${d}`),HD("Firestore",!0)),l.host!==OC&&l.host!==d&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:d,ssl:r,emulatorOptions:o};if(!nf(y,c)&&(t._setSettings(y),o.mockUserToken)){let _,T;if(typeof o.mockUserToken=="string")_=o.mockUserToken,T=nn.MOCK_USER;else{_=BD(o.mockUserToken,(p=t._app)==null?void 0:p.options.projectId);const S=o.mockUserToken.sub||o.mockUserToken.user_id;if(!S)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(S)}t._authCredentials=new U4(new RA(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class Vt{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,o){if(Ql(n,Vt._jsonSchema))return new Vt(e,o||null,new ve(st.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Dt("string",Vt._jsonSchemaVersion),referencePath:Dt("string")};class Wo extends rs{constructor(e,n,o){super(e,n,Rm(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new ve(e))}withConverter(e){return new Wo(this.firestore,e,this._path)}}function VL(t,e,...n){if(t=ao(t),bA("collection","path",e),t instanceof Gf){const o=st.fromString(e,...n);return zT(o),new Wo(t,null,o)}{if(!(t instanceof Vt||t instanceof Wo))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(st.fromString(e,...n));return zT(o),new Wo(t.firestore,null,o)}}function qC(t,e,...n){if(t=ao(t),arguments.length===1&&(e=Em.newId()),bA("doc","path",e),t instanceof Gf){const o=st.fromString(e,...n);return HT(o),new Vt(t,null,new ve(o))}{if(!(t instanceof Vt||t instanceof Wo))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=t._path.child(st.fromString(e,...n));return HT(o),new Vt(t.firestore,t instanceof Wo?t.converter:null,new ve(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new TC(this,"async_queue_retry"),this._c=()=>{const o=dp();o&&he(VE,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=e;const n=dp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Hs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!ma(e))throw e;he(VE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((o=>{throw this.nc=o,this.rc=!1,co("INTERNAL UNHANDLED ERROR: ",kE(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=n,n}enqueueAfterDelay(e,n,o){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=Bm.createAndSchedule(this,e,n,o,(l=>this.hc(l)));return this.tc.push(r),r}uc(){this.nc&&Ee(47125,{Pc:kE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,o)=>n.targetTimeMs-o.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function kE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){return(function(n,o){if(typeof n!="object"||n===null)return!1;const r=n;for(const l of o)if(l in r&&typeof r[l]=="function")return!0;return!1})(t,["next","error","complete"])}class gf extends Gf{constructor(e,n,o,r){super(e,n,o,r),this.type="firestore",this._queue=new PE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function PL(t,e){const n=typeof t=="object"?t:dm(),o=typeof t=="string"?t:rf,r=Rf(n,"firestore").getImmediate({identifier:o});if(!r._initialized){const l=LD("firestore");l&&DL(r,...l)}return r}function BC(t){if(t._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kL(t),t._firestoreClient}function kL(t){var o,r,l;const e=t._freezeSettings(),n=(function(d,y,p,_){return new nk(d,y,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,LC(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)})(t._databaseId,((o=t._app)==null?void 0:o.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new NL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(d){const y=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(y),_online:y}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Wt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ql(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Dt("string",Hn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(Ql(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(o,r){if(o.length!==r.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==r[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ql(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Dt("string",Ui._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^__.*__$/;class LL{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}function GC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:t})}}class Km{constructor(e,n,o,r,l,c){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=r,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Km({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),o=this.Vc({path:n,fc:!1});return o.gc(e),o}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),o=this.Vc({path:n,fc:!1});return o.Rc(),o}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return yf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(GC(this.Ac)&&UL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OL{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||qf(e)}Cc(e,n,o,r=!1){return new Km({Ac:e,methodName:n,Dc:o,path:Xt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HC(t){const e=t._freezeSettings(),n=qf(t._databaseId);return new OL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qL(t,e,n,o,r,l={}){const c=t.Cc(l.merge||l.mergeFields?2:0,e,n,r);KC("Data must be an object, but it was:",c,o);const d=zC(o,c);let y,p;if(l.merge)y=new oi(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const S=FL(e,T,n);if(!c.contains(S))throw new de(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);HL(_,S)||_.push(S)}y=new oi(_),p=c.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,p=c.fieldTransforms;return new LL(new Gn(d),y,p)}function BL(t,e,n,o=!1){return Jm(n,t.Cc(o?4:3,e))}function Jm(t,e){if(YC(t=ao(t)))return KC("Unsupported field value:",e,t),zC(t,e);if(t instanceof FC)return(function(o,r){if(!GC(r.Ac))throw r.Sc(`${o._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(r);l&&r.fieldTransforms.push(l)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(o,r){const l=[];let c=0;for(const d of o){let y=Jm(d,r.wc(c));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),c++}return{arrayValue:{values:l}}})(t,e)}return(function(o,r){if((o=ao(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return Ik(r.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=lt.fromDate(o);return{timestampValue:df(r.serializer,l)}}if(o instanceof lt){const l=new lt(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:df(r.serializer,l)}}if(o instanceof ki)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Hn)return{bytesValue:uC(r.serializer,o._byteString)};if(o instanceof Vt){const l=r.databaseId,c=o.firestore._databaseId;if(!c.isEqual(l))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:xm(o.firestore._databaseId||r.databaseId,o._key.path)}}if(o instanceof Ui)return(function(c,d){return{mapValue:{fields:{[LA]:{stringValue:OA},[af]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return bm(d.serializer,p)}))}}}}}})(o,r);throw r.Sc(`Unsupported field value: ${Mf(o)}`)})(t,e)}function zC(t,e){const n={};return xA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(t,((o,r)=>{const l=Jm(r,e.mc(o));l!=null&&(n[o]=l)})),{mapValue:{fields:n}}}function YC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof lt||t instanceof ki||t instanceof Hn||t instanceof Vt||t instanceof FC||t instanceof Ui)}function KC(t,e,n){if(!YC(n)||!NA(n)){const o=Mf(n);throw o==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+o)}}function FL(t,e,n){if((e=ao(e))instanceof Ym)return e._internalPath;if(typeof e=="string")return JC(t,e);throw yf("Field path arguments must be of type string or ",t,!1,void 0,n)}const GL=new RegExp("[~\\*/\\[\\]]");function JC(t,e,n){if(e.search(GL)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ym(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yf(t,e,n,o,r){const l=o&&!o.isEmpty(),c=r!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${o}`),c&&(y+=` in document ${r}`),y+=")"),new de(ne.INVALID_ARGUMENT,d+t+y)}function HL(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,o,r,l){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zL extends $C{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?JC(t,e):e instanceof Ym?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $m{}class Qm extends $m{}function KL(t,e,...n){let o=[];e instanceof $m&&o.push(e),o=o.concat(n),(function(l){const c=l.filter((y=>y instanceof Xm)).length,d=l.filter((y=>y instanceof zf)).length;if(c>1||c>0&&d>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(o);for(const r of o)t=r._apply(t);return t}class zf extends Qm{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new zf(e,n,o)}_apply(e){const n=this._parse(e);return QC(e._query,n),new rs(e.firestore,e.converter,Gp(e._query,n))}_parse(e){const n=HC(e.firestore);return(function(l,c,d,y,p,_,T){let S;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){OE(T,_);const L=[];for(const B of T)L.push(LE(y,l,B));S={arrayValue:{values:L}}}else S=LE(y,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||OE(T,_),S=BL(d,c,T,_==="in"||_==="not-in");return xt.create(p,_,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function JL(t,e,n){const o=e,r=Hf("where",t);return zf._create(r,o,n)}class Xm extends $m{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Xm(e,n)}_parse(e){const n=this._queryConstraints.map((o=>o._parse(e))).filter((o=>o.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(r,l){let c=r;const d=l.getFlattenedFilters();for(const y of d)QC(c,y),c=Gp(c,y)})(e._query,n),new rs(e.firestore,e.converter,Gp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wm extends Qm{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wm(e,n)}_apply(e){const n=(function(r,l,c){if(r.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(l,c)})(e._query,this._field,this._direction);return new rs(e.firestore,e.converter,(function(r,l){const c=r.explicitOrderBy.concat([l]);return new ga(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,n))}}function $L(t,e="asc"){const n=e,o=Hf("orderBy",t);return Wm._create(o,n)}class Zm extends Qm{constructor(e,n,o){super(),this.type=e,this._limit=n,this._limitType=o}static _create(e,n,o){return new Zm(e,n,o)}_apply(e){return new rs(e.firestore,e.converter,uf(e._query,this._limit,this._limitType))}}function QL(t){return Zm._create("limit",t,"F")}function LE(t,e,n){if(typeof(n=ao(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KA(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(st.fromString(n));if(!ve.isDocumentKey(o))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ZT(t,new ve(o))}if(n instanceof Vt)return ZT(t,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mf(n)}.`)}function OE(t,e){if(!Array.isArray(t)||t.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QC(t,e){const n=(function(r,l){for(const c of r)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XL{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Ws(e,((r,l)=>{o[r]=this.convertValue(l,n)})),o}convertVectorValue(e){var o,r,l;const n=(l=(r=(o=e.fields)==null?void 0:o[af].arrayValue)==null?void 0:r.values)==null?void 0:l.map((c=>Tt(c.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new ki(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((o=>this.convertValue(o,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Vf(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const n=es(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=st.fromString(e);Qe(mC(o),9688,{name:e});const r=new zl(o.get(1),o.get(3)),l=new ve(o.popFirst(5));return r.isEqual(n)||co(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(t,e,n){let o;return o=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,o}class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zs extends $C{constructor(e,n,o,r,l,c){super(e,n,o,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Hf("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",zs._jsonSchema={type:Dt("string",zs._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Qc extends zs{data(e={}){return super.data(e)}}class ia{constructor(e,n,o,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new xl(r.hasPendingWrites,r.fromCache),this.query=o}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((o=>{e.call(n,new Qc(this._firestore,this._userDataWriter,o.key,o,new xl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(r,l){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((d=>{const y=new Qc(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xl(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const y=new Qc(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xl(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,_=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:ZL(d.type),doc:y,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ia._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],o=[],r=[];return this.docs.forEach((l=>{l._document!==null&&(n.push(l._document),o.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),r.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:t})}}ia._jsonSchemaVersion="firestore/querySnapshot/1.0",ia._jsonSchema={type:Dt("string",ia._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class XC extends XL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function jL(t,e,n){t=ta(t,Vt);const o=ta(t.firestore,gf),r=WL(t.converter,e,n);return e3(o,[qL(HC(o),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,so.none())])}function WC(t,...e){var y,p,_;t=ao(t);let n={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||UE(e[o])||(n=e[o++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(UE(e[o])){const T=e[o];e[o]=(y=T.next)==null?void 0:y.bind(T),e[o+1]=(p=T.error)==null?void 0:p.bind(T),e[o+2]=(_=T.complete)==null?void 0:_.bind(T)}let l,c,d;if(t instanceof Vt)c=ta(t.firestore,gf),d=Rm(t._key.path),l={next:T=>{e[o]&&e[o](t3(c,t,T))},error:e[o+1],complete:e[o+2]};else{const T=ta(t,rs);c=ta(T.firestore,gf),d=T._query;const S=new XC(c);l={next:R=>{e[o]&&e[o](new ia(c,S,T,R))},error:e[o+1],complete:e[o+2]},YL(t._query)}return(function(S,R,L,B){const U=new bL(B),Q=new uL(R,U,L);return S.asyncQueue.enqueueAndForget((async()=>sL(await NE(S),Q))),()=>{U.Nu(),S.asyncQueue.enqueueAndForget((async()=>rL(await NE(S),Q)))}})(BC(c),d,r,l)}function e3(t,e){return(function(o,r){const l=new Hs;return o.asyncQueue.enqueueAndForget((async()=>_L(await xL(o),r,l))),l.promise})(BC(t),e)}function t3(t,e,n){const o=n.docs.get(e._key),r=new XC(t);return new zs(t,r,e._key,o,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){ha=r})(QV),Zo(new lo("firestore",((o,{instanceIdentifier:r,options:l})=>{const c=o.getProvider("app").getImmediate(),d=new gf(new L4(o.getProvider("auth-internal")),new B4(c,o.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(p.options.projectId,_)})(c,r),c);return l={useFetchStreams:n,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Di(qT,BT,e),Di(qT,BT,"esm2020")})();const n3={apiKey:"AIzaSyAMJjeucsuWiIrOKJ19AK6VT9zLS7ZB6MY",authDomain:"medtrackmamdouh.firebaseapp.com",projectId:"medtrackmamdouh",storageBucket:"medtrackmamdouh.firebasestorage.app",messagingSenderId:"588115249832",appId:"1:588115249832:web:1e8a2f5dd57db68047909d"},ZC=XV().length===0?JS(n3):dm(),jm=PL(ZC),qE=typeof window<"u"?V4(ZC):null,i3=async()=>{if(!qE)return null;try{if(await Notification.requestPermission()==="granted"){const o=await navigator.serviceWorker.register("./firebase-messaging-sw.js");return await P4(qE,{vapidKey:"BLzY0D83d0M5sWss4qGpmJ35KuzM25E3gSZb9stAYJDeEme8uVfxCJY_X5gSKOQ1woJaxjuDTB433e0M4Sw1Y1A",serviceWorkerRegistration:o})}}catch(t){console.error("Error with notifications:",t)}return null},o3=async(t,e)=>{try{const n=qC(jm,"patients",t);await jL(n,{...e,lastUpdated:new Date().toISOString()},{merge:!0})}catch(n){console.error("Error syncing data:",n)}},s3=(t,e)=>{try{const n=qC(jm,"patients",t);return WC(n,o=>{o.exists()&&e(o.data())},o=>{console.error("Firestore Listen Error:",o)})}catch(n){return console.error("Error setting up patient listener:",n),()=>{}}},r3=(t,e)=>{try{const n=VL(jm,"notifications"),o=KL(n,JL("patientId","==",t),$L("timestamp","desc"),QL(1));return WC(o,r=>{r.docChanges().forEach(l=>{l.type==="added"&&e(l.doc.data())})},r=>{console.error("Notifications Listen Error:",r)})}catch(n){return console.error("Error setting up notifications listener:",n),()=>{}}},BE=[{name:"Pill",icon:D.jsx(mp,{className:"w-6 h-6"})},{name:"Droplets",icon:D.jsx(ZI,{className:"w-6 h-6"})},{name:"Zap",icon:D.jsx(cw,{className:"w-6 h-6"})},{name:"ShieldPlus",icon:D.jsx(nw,{className:"w-6 h-6"})},{name:"Thermometer",icon:D.jsx(sw,{className:"w-6 h-6"})},{name:"Syringe",icon:D.jsx(ow,{className:"w-6 h-6"})},{name:"Activity",icon:D.jsx(wl,{className:"w-6 h-6"})}],FE=()=>Math.random().toString(36).substr(2,6).toUpperCase(),a3=()=>{const[t,e]=en.useState(()=>{const w=localStorage.getItem("healthTrackData_v12"),N=new Date().toISOString().split("T")[0];if(w){const M=JSON.parse(w),x=M.currentReport.date===N?M:{...M,dailyReports:{...M.dailyReports,[M.currentReport.date]:M.currentReport},takenMedications:{},sentNotifications:[],currentReport:{date:N,healthRating:0,painLevel:0,painLocation:"",sleepQuality:"",appetite:"",symptoms:[],notes:""}};return{...x,patientId:x.patientId||FE(),customSymptoms:x.customSymptoms||[],medicationCustomizations:x.medicationCustomizations||{},notificationsEnabled:x.notificationsEnabled??!1,caregiverMode:x.caregiverMode??!1,caregiverTargetId:x.caregiverTargetId??null}}return{patientName:" ",patientAge:65,patientId:FE(),caregiverMode:!1,caregiverTargetId:null,takenMedications:{},notificationsEnabled:!1,sentNotifications:[],customReminderTimes:{},medicationCustomizations:{},customSymptoms:[],history:[],dailyReports:{},currentReport:{date:N,healthRating:0,painLevel:0,painLocation:"",sleepQuality:"",appetite:"",symptoms:[],notes:""}}}),[n,o]=en.useState(null),[r,l]=en.useState(!1),[c,d]=en.useState(!1),[y,p]=en.useState(null),[_,T]=en.useState("");en.useEffect(()=>{localStorage.setItem("healthTrackData_v12",JSON.stringify(t)),t.caregiverMode||o3(t.patientId,t)},[t]),en.useEffect(()=>{if(t.caregiverMode&&t.caregiverTargetId){const w=s3(t.caregiverTargetId,M=>{M&&e(x=>({...x,...M,caregiverMode:!0,caregiverTargetId:x.caregiverTargetId}))}),N=r3(t.patientId,M=>{window.Notification&&Notification.permission==="granted"&&new Notification(M.title,{body:M.body})});return()=>{w(),N()}}},[t.caregiverMode,t.caregiverTargetId,t.patientId]);const S=w=>{t.caregiverMode||e(N=>{const M=!N.takenMedications[w],x=Xr.find(F=>F.id===w),k={date:new Date().toLocaleDateString("ar-EG"),action:M?"  ":"  ",details:(x==null?void 0:x.name)||w,timestamp:new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})};return{...N,takenMedications:{...N.takenMedications,[w]:M},history:[k,...N.history].slice(0,50)}})},R=w=>{t.caregiverMode||e(N=>({...N,currentReport:{...N.currentReport,...w}}))},L=w=>{if(t.caregiverMode)return;const N=t.currentReport.symptoms,M=N.includes(w)?N.filter(x=>x!==w):[...N,w];R({symptoms:M})},B=()=>{_.trim()&&(e(w=>({...w,customSymptoms:[...w.customSymptoms,_.trim()]})),T(""))},U=(w,N)=>{e(M=>({...M,medicationCustomizations:{...M.medicationCustomizations,[w]:{icon:N}}})),p(null)},Q=(w,N)=>{var k;const M=(k=w.target.files)==null?void 0:k[0];if(!M)return;const x=new FileReader;x.onloadend=()=>{U(N,x.result)},x.readAsDataURL(M)},oe=w=>{const N=t.medicationCustomizations[w];if(N!=null&&N.icon){if(N.icon.startsWith("data:image"))return D.jsx("img",{src:N.icon,className:"w-10 h-10 rounded-full object-cover shadow-sm border border-slate-200",alt:"med icon"});const M=BE.find(x=>x.name===N.icon);return M?HE.cloneElement(M.icon,{className:"w-8 h-8"}):D.jsx(mp,{className:"w-8 h-8"})}return D.jsx(mp,{className:"w-8 h-8 opacity-30"})},Z=async()=>{l(!0),o(null);try{const w=await SD(t);o(w),w.summary&&await ID(w.summary)}catch{alert("      .")}finally{l(!1)}},se=en.useMemo(()=>[...fw,...t.customSymptoms],[t.customSymptoms]),fe=en.useMemo(()=>Object.values(t.takenMedications).filter(Boolean).length,[t.takenMedications]),le=fe/Xr.length*100;return D.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-10 space-y-16 pb-40",children:[c&&D.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center p-4 bg-slate-900/70 backdrop-blur-md transition-all",children:D.jsxs("div",{className:"bg-white w-full max-w-lg rounded-[2.5rem] p-10 shadow-2xl relative max-h-[90vh] overflow-y-auto custom-scrollbar border border-slate-100",children:[D.jsx("button",{onClick:()=>d(!1),className:"absolute top-8 left-8 p-3 hover:bg-slate-100 rounded-full transition-colors text-slate-400 hover:text-slate-600",children:D.jsx(L_,{className:"w-6 h-6"})}),D.jsxs("div",{className:"flex items-center gap-4 mb-10 border-b border-slate-100 pb-6",children:[D.jsx("div",{className:"bg-blue-50 p-3 rounded-2xl",children:D.jsx(P_,{className:"w-8 h-8 text-blue-600"})}),D.jsx("h2",{className:"text-3xl font-black text-slate-800",children:" "})]}),D.jsxs("div",{className:"space-y-10",children:[D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm uppercase tracking-wider",children:[D.jsx(wl,{className:"w-4 h-4"}),D.jsx("span",{children:" "})]}),D.jsxs("div",{className:"space-y-2",children:[D.jsx("label",{className:"text-xs font-bold text-slate-400 mr-2",children:" :"}),D.jsx("input",{type:"text",value:t.patientName,onChange:w=>e(N=>({...N,patientName:w.target.value})),className:"w-full p-5 bg-slate-50 border-2 border-slate-100 rounded-2xl font-black text-slate-700 focus:border-blue-400 focus:bg-white outline-none transition-all"})]})]}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm uppercase tracking-wider",children:[D.jsx(aw,{className:"w-4 h-4"}),D.jsx("span",{children:"   "})]}),D.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl border border-slate-100 flex items-center justify-between group",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"    "}),D.jsx("span",{className:"text-3xl font-black tracking-[0.2em] text-blue-900",children:t.patientId})]}),D.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(t.patientId),alert("   ")},className:"bg-white hover:bg-blue-600 hover:text-white text-blue-600 p-3 px-6 rounded-2xl shadow-sm font-bold text-sm transition-all flex items-center gap-2 border border-blue-100 active:scale-95",children:[D.jsx(WI,{className:"w-4 h-4"})," "]})]})]}),D.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[D.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm uppercase tracking-wider",children:[D.jsx(k_,{className:"w-4 h-4 text-purple-600"}),D.jsx("span",{children:"  (Caregiver)"})]}),D.jsxs("div",{className:"flex items-center justify-between p-6 bg-purple-50 rounded-3xl border border-purple-100",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("p",{className:"font-black text-purple-900 text-lg",children:" "}),D.jsx("p",{className:"text-xs text-purple-600 font-bold",children:"     "})]}),D.jsx("button",{onClick:()=>e(w=>({...w,caregiverMode:!w.caregiverMode})),className:`w-14 h-8 rounded-full transition-all relative ${t.caregiverMode?"bg-purple-600":"bg-slate-300"}`,children:D.jsx("div",{className:`absolute top-1.5 w-5 h-5 bg-white rounded-full transition-all ${t.caregiverMode?"right-7.5 translate-x-6":"right-1.5"}`})})]}),t.caregiverMode&&D.jsxs("div",{className:"animate-in slide-in-from-top-4 duration-300 space-y-3",children:[D.jsx("label",{className:"text-xs font-bold text-slate-400 mr-2",children:"  :"}),D.jsx("input",{type:"text",value:t.caregiverTargetId||"",onChange:w=>e(N=>({...N,caregiverTargetId:w.target.value.toUpperCase()})),placeholder:": X1Y2Z3",className:"w-full p-5 bg-purple-50/30 border-2 border-purple-100 rounded-2xl font-black text-purple-900 placeholder:text-purple-200 focus:border-purple-400 outline-none transition-all uppercase"})]})]}),D.jsxs("div",{className:"space-y-4 pt-6 border-t border-slate-50",children:[D.jsxs("div",{className:"flex items-center gap-2 text-slate-500 font-bold text-sm uppercase tracking-wider",children:[D.jsx(YI,{className:"w-4 h-4 text-orange-600"}),D.jsx("span",{children:""})]}),D.jsxs("div",{className:"flex items-center justify-between p-6 bg-orange-50 rounded-3xl border border-orange-100",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("p",{className:"font-black text-orange-900 text-lg",children:" "}),D.jsx("p",{className:"text-xs text-orange-600 font-bold",children:"   "})]}),D.jsx("button",{onClick:async()=>{const w=!t.notificationsEnabled;w&&await i3(),e(N=>({...N,notificationsEnabled:w}))},className:`w-14 h-8 rounded-full transition-all relative ${t.notificationsEnabled?"bg-orange-600":"bg-slate-300"}`,children:D.jsx("div",{className:`absolute top-1.5 w-5 h-5 bg-white rounded-full transition-all ${t.notificationsEnabled?"right-7.5 translate-x-6":"right-1.5"}`})})]})]}),D.jsx("button",{onClick:()=>d(!1),className:"w-full py-6 bg-slate-900 hover:bg-slate-800 text-white rounded-[2rem] font-black text-xl shadow-xl transition-all active:scale-[0.98] mt-6",children:" "})]})]})}),y&&D.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-md",children:D.jsxs("div",{className:"bg-white w-full max-w-xl rounded-[3rem] p-10 shadow-2xl relative border border-slate-100",children:[D.jsx("button",{onClick:()=>p(null),className:"absolute top-8 left-8 p-3 hover:bg-slate-100 rounded-full transition-colors",children:D.jsx(L_,{})}),D.jsxs("h2",{className:"text-2xl font-black text-slate-800 mb-10 flex items-center gap-3",children:[D.jsx(Qh,{className:"text-blue-500"}),"   "]}),D.jsx("div",{className:"grid grid-cols-4 sm:grid-cols-7 gap-5 mb-10",children:BE.map(w=>D.jsx("button",{onClick:()=>U(y,w.name),className:"p-5 bg-slate-50 rounded-3xl border-2 border-transparent hover:border-blue-400 hover:bg-blue-50 transition-all flex items-center justify-center shadow-sm active:scale-90",children:w.icon},w.name))}),D.jsx("div",{className:"relative group",children:D.jsxs("label",{className:"flex flex-col items-center justify-center w-full h-44 border-3 border-dashed border-slate-200 rounded-[2.5rem] bg-slate-50 hover:bg-slate-100 hover:border-blue-300 transition-all cursor-pointer",children:[D.jsx("div",{className:"bg-white p-4 rounded-full shadow-md mb-4 group-hover:scale-110 transition-transform",children:D.jsx(Qh,{className:"w-8 h-8 text-blue-500"})}),D.jsx("p",{className:"text-lg text-slate-600 font-black",children:"    "}),D.jsx("p",{className:"text-xs text-slate-400 font-bold mt-1",children:"     "}),D.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:w=>Q(w,y)})]})})]})}),D.jsxs("header",{className:"bg-white rounded-[3rem] p-10 md:p-14 shadow-2xl border-b-[16px] border-blue-600 relative overflow-hidden group",children:[D.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-50 rounded-full -mr-32 -mt-32 opacity-50 group-hover:scale-110 transition-transform duration-700"}),D.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12 relative z-10",children:[D.jsxs("div",{className:"text-center lg:text-right space-y-4",children:[D.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 flex items-center gap-6 justify-center lg:justify-start",children:[D.jsx("div",{className:"bg-red-500 p-5 rounded-[2rem] shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-300",children:D.jsx(jI,{className:"w-14 h-14 text-white fill-white"})})," "]}),D.jsx("p",{className:"text-slate-500 text-2xl md:text-3xl font-bold flex items-center justify-center lg:justify-start gap-3",children:t.caregiverMode?D.jsxs(D.Fragment,{children:[D.jsx(k_,{className:"text-purple-500"})," : ",D.jsx("span",{className:"text-purple-600 underline decoration-purple-200",children:t.patientName})]}):D.jsxs(D.Fragment,{children:["  ",D.jsx("span",{className:"text-blue-600",children:t.patientName})]})})]}),D.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 w-full lg:w-auto",children:[D.jsx(Bc,{icon:D.jsx(wl,{className:"text-blue-500 w-8 h-8"}),label:"",value:t.currentReport.healthRating>3?"":" "}),D.jsx(Bc,{icon:D.jsx(Xh,{className:"text-yellow-500 w-8 h-8"}),label:"",value:`${Math.round(le)}%`}),D.jsx(Bc,{icon:D.jsx(x_,{className:"text-purple-500 w-8 h-8"}),label:"",value:`${fe}/${Xr.length}`}),D.jsx(Bc,{icon:D.jsx(D_,{className:"text-red-500 w-8 h-8"}),label:"",value:t.currentReport.painLevel>0?`${t.currentReport.painLevel}/10`:" "})]})]})]}),D.jsxs("main",{className:"grid grid-cols-1 xl:grid-cols-12 gap-14",children:[D.jsx("div",{className:"xl:col-span-7 space-y-12",children:D.jsxs("section",{className:"bg-white rounded-[3.5rem] p-10 md:p-14 shadow-2xl border border-slate-100",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-8 mb-16",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("h2",{className:"text-4xl font-black text-slate-800 flex items-center gap-4",children:[D.jsx(x_,{className:"text-blue-600 w-12 h-12"}),"  "]}),D.jsx("p",{className:"text-slate-400 font-bold mr-16",children:"    "})]}),D.jsxs("div",{className:"flex flex-col items-center gap-3",children:[D.jsx("div",{className:"w-56 h-6 bg-slate-100 rounded-full overflow-hidden shadow-inner border border-slate-50 relative",children:D.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-700 transition-all duration-1000",style:{width:`${le}%`}})}),D.jsxs("span",{className:"text-sm font-black text-blue-600",children:["  ",Math.round(le),"%"]})]})]}),D.jsx("div",{className:"space-y-20",children:Object.keys(O_).map(w=>{const N=Xr.filter(x=>x.timeSlot===w);if(N.length===0)return null;const M=O_[w];return D.jsxs("div",{className:"group/slot space-y-8",children:[D.jsxs("div",{className:"flex items-center gap-6",children:[D.jsx("div",{className:`p-5 rounded-[1.8rem] text-slate-700 shadow-lg shadow-slate-200/50 transition-transform group-hover/slot:scale-110 duration-500 ${M.color} border-2`,children:M.icon}),D.jsx("h3",{className:"text-3xl font-black text-slate-800 tracking-tight",children:M.label}),D.jsx("div",{className:"h-px bg-slate-100 flex-1 ml-4"})]}),D.jsx("div",{className:"grid gap-8",children:N.map(x=>D.jsxs("div",{className:`group relative flex items-center gap-8 p-8 rounded-[2.8rem] border-3 transition-all duration-300 ${t.takenMedications[x.id]?"bg-slate-50/80 border-slate-100 opacity-60":"bg-white border-white hover:border-blue-100 hover:shadow-xl hover:-translate-y-1"}`,children:[D.jsxs("button",{onClick:()=>S(x.id),className:"flex items-center gap-8 text-right flex-1",children:[D.jsx("div",{className:`w-20 h-20 rounded-[2rem] flex items-center justify-center transition-all duration-500 ${t.takenMedications[x.id]?"bg-green-500 text-white shadow-xl shadow-green-200 rotate-12":"bg-slate-50 text-slate-400 group-hover:bg-blue-50 group-hover:text-blue-600 shadow-sm"}`,children:t.takenMedications[x.id]?D.jsx(Nc,{className:"w-12 h-12"}):oe(x.id)}),D.jsxs("div",{className:"flex-1 space-y-1",children:[D.jsx("p",{className:`font-black text-3xl leading-tight transition-all ${t.takenMedications[x.id]?"text-slate-400 line-through":"text-slate-800"}`,children:x.name}),D.jsxs("div",{className:"flex items-center gap-3",children:[D.jsx("span",{className:`px-4 py-1.5 rounded-xl text-xs font-black uppercase tracking-widest ${t.takenMedications[x.id]?"bg-slate-200 text-slate-400":"bg-blue-100 text-blue-600"}`,children:x.dosage}),D.jsx("p",{className:"text-sm text-slate-400 font-bold truncate max-w-xs",children:x.notes})]})]})]}),!t.caregiverMode&&D.jsx("button",{onClick:()=>p(x.id),className:"p-4 opacity-0 group-hover:opacity-100 bg-slate-50 hover:bg-white text-slate-400 hover:text-blue-500 rounded-2xl transition-all shadow-sm border border-slate-100 active:scale-90",title:" ",children:D.jsx(Qh,{className:"w-7 h-7"})})]},x.id))})]},w)})})]})}),D.jsxs("div",{className:"xl:col-span-5 space-y-12",children:[D.jsxs("section",{className:"bg-white rounded-[3.5rem] p-10 md:p-14 shadow-2xl border-t-[20px] border-indigo-600 space-y-14 sticky top-10",children:[D.jsxs("div",{className:"space-y-2",children:[D.jsxs("h2",{className:"text-4xl font-black text-slate-800 flex items-center gap-4",children:[D.jsx(wl,{className:"text-indigo-600 w-12 h-12"}),"  "]}),D.jsx("p",{className:"text-slate-400 font-bold",children:"      "})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsx("label",{className:"text-xl font-black text-slate-700 block px-2",children:"  "}),D.jsx("div",{className:"flex justify-between bg-slate-50 p-8 rounded-[2.5rem] border-2 border-slate-100 shadow-inner",children:[1,2,3,4,5].map(w=>D.jsx("button",{onClick:()=>R({healthRating:w}),className:`p-2 transition-all transform hover:scale-125 duration-300 ${t.currentReport.healthRating>=w?"text-yellow-500 filter drop-shadow-lg":"text-slate-200"}`,children:D.jsx(Xh,{className:`w-14 h-14 ${t.currentReport.healthRating>=w?"fill-yellow-500":""}`})},w))})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"flex items-center justify-between px-2",children:[D.jsxs("label",{className:"text-xl font-black text-slate-700 flex items-center gap-3",children:[D.jsx(D_,{className:"w-7 h-7 text-red-500"}),"  "]}),D.jsx("span",{className:`px-4 py-1 rounded-full text-xs font-black ${t.currentReport.painLevel>0?"bg-red-100 text-red-600":"bg-slate-100 text-slate-400"}`,children:t.currentReport.painLevel>0?" ":"  "})]}),D.jsxs("div",{className:"bg-red-50/40 p-10 rounded-[3rem] border-2 border-red-100/50 space-y-10",children:[D.jsxs("div",{className:"space-y-6",children:[D.jsxs("div",{className:"flex justify-between items-end",children:[D.jsxs("div",{className:"space-y-1",children:[D.jsx("p",{className:"text-3xl font-black text-red-600",children:t.currentReport.painLevel}),D.jsx("p",{className:"text-[10px] font-black text-red-400 uppercase tracking-widest",children:"  0-10"})]}),D.jsx("div",{className:"text-left",children:D.jsx("p",{className:"text-xs font-black text-slate-400",children:"  "})})]}),D.jsx("input",{type:"range",min:"0",max:"10",value:t.currentReport.painLevel,onChange:w=>R({painLevel:parseInt(w.target.value)}),className:"w-full h-4 bg-red-100 rounded-full appearance-none cursor-pointer outline-none transition-all"}),D.jsxs("div",{className:"flex justify-between text-[11px] font-black text-red-300 px-1 uppercase tracking-tighter",children:[D.jsx("span",{children:""}),D.jsx("span",{children:" "}),D.jsx("span",{children:"  "})]})]}),D.jsxs("div",{className:"space-y-3",children:[D.jsxs("label",{className:"text-sm font-bold text-slate-600 mr-2 flex items-center gap-2",children:[D.jsx(tw,{className:"w-4 h-4 text-slate-400"}),"  :"]}),D.jsx("input",{type:"text",value:t.currentReport.painLocation,onChange:w=>R({painLocation:w.target.value}),placeholder:":   ...",className:"w-full p-6 bg-white border-2 border-slate-100 rounded-[2rem] font-black text-slate-700 focus:border-red-400 outline-none transition-all placeholder:text-slate-300 text-lg shadow-sm"})]})]})]}),D.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[D.jsxs("div",{className:"space-y-6",children:[D.jsxs("label",{className:"text-lg font-black text-slate-700 flex items-center gap-3 px-2",children:[D.jsx(YE,{className:"w-6 h-6 text-indigo-500"}),"  "]}),D.jsx("div",{className:"grid gap-3",children:[["good"," "],["fair",""],["poor",""]].map(([w,N])=>D.jsxs("button",{onClick:()=>R({sleepQuality:w}),className:`group py-5 rounded-[2rem] font-black text-xl border-3 transition-all duration-300 flex items-center justify-center gap-4 ${t.currentReport.sleepQuality===w?"bg-indigo-600 border-indigo-600 text-white shadow-xl translate-x-1":"bg-slate-50 border-slate-100 text-slate-500 hover:border-indigo-200 hover:bg-white"}`,children:[N,D.jsx(Nc,{className:`w-5 h-5 transition-opacity ${t.currentReport.sleepQuality===w?"opacity-100":"opacity-0"}`})]},w))})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsxs("label",{className:"text-lg font-black text-slate-700 flex items-center gap-3 px-2",children:[D.jsx(lw,{className:"w-6 h-6 text-orange-500"})," "]}),D.jsx("div",{className:"grid gap-3",children:[["good",""],["fair",""],["poor",""]].map(([w,N])=>D.jsxs("button",{onClick:()=>R({appetite:w}),className:`group py-5 rounded-[2rem] font-black text-xl border-3 transition-all duration-300 flex items-center justify-center gap-4 ${t.currentReport.appetite===w?"bg-orange-500 border-orange-500 text-white shadow-xl translate-x-1":"bg-slate-50 border-slate-100 text-slate-500 hover:border-orange-200 hover:bg-white"}`,children:[N,D.jsx(Nc,{className:`w-5 h-5 transition-opacity ${t.currentReport.appetite===w?"opacity-100":"opacity-0"}`})]},w))})]})]}),D.jsxs("div",{className:"space-y-6",children:[D.jsx("label",{className:"text-xl font-black text-slate-700 block px-2",children:"    "}),D.jsx("div",{className:"flex flex-wrap gap-4",children:se.map(w=>D.jsx("button",{onClick:()=>L(w),className:`px-7 py-4 rounded-[1.8rem] text-lg font-black border-3 transition-all duration-300 ${t.currentReport.symptoms.includes(w)?"bg-indigo-600 border-indigo-600 text-white shadow-xl scale-105":"bg-slate-50 border-slate-100 text-slate-500 hover:bg-white hover:border-indigo-200 hover:shadow-md"}`,children:w},w))}),D.jsxs("div",{className:"flex gap-5 mt-4",children:[D.jsx("input",{type:"text",value:_,onChange:w=>T(w.target.value),placeholder:"  ...",className:"flex-1 p-6 bg-slate-50 border-2 border-slate-100 rounded-[2rem] outline-none focus:border-indigo-400 focus:bg-white text-lg font-black placeholder:text-slate-300 shadow-sm transition-all",onKeyDown:w=>w.key==="Enter"&&B()}),D.jsx("button",{onClick:B,className:"p-6 bg-indigo-100 text-indigo-600 rounded-[2rem] hover:bg-indigo-200 transition-all shadow-md active:scale-90",children:D.jsx(JI,{className:"w-9 h-9"})})]})]}),D.jsx("div",{className:"pt-12 border-t border-slate-100",children:D.jsxs("button",{onClick:Z,disabled:r,className:"w-full py-8 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-700 text-white rounded-[2.5rem] font-black text-3xl shadow-2xl shadow-indigo-200 flex items-center justify-center gap-6 disabled:opacity-50 hover:scale-[1.03] active:scale-95 transition-all group",children:[r?D.jsx(V_,{className:"w-10 h-10 animate-spin"}):D.jsx(M_,{className:"w-10 h-10 group-hover:rotate-12 transition-transform"}),"  "]})}),n&&D.jsxs("div",{className:"bg-slate-900 rounded-[3rem] p-10 text-white space-y-12 animate-in fade-in slide-in-from-top-10 duration-700 shadow-2xl relative overflow-hidden",children:[D.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-blue-500"}),D.jsxs("div",{className:"space-y-4",children:[D.jsxs("p",{className:"text-sm font-black text-blue-400 uppercase tracking-[0.2em] flex items-center gap-2",children:[D.jsx(M_,{className:"w-4 h-4"}),"   "]}),D.jsx("p",{className:"text-2xl leading-relaxed font-bold border-b border-white/10 pb-10",children:n.summary})]}),D.jsxs("div",{className:"grid gap-10",children:[D.jsx(pp,{title:" ",items:n.recommendations,icon:D.jsx(Nc,{className:"text-green-400 w-8 h-8"})}),n.warnings.length>0&&D.jsx(pp,{title:" ",items:n.warnings,icon:D.jsx(rw,{className:"text-red-400 w-8 h-8"}),variant:"danger"}),D.jsx(pp,{title:" ",items:n.positivePoints,icon:D.jsx(Xh,{className:"text-yellow-400 w-8 h-8"})})]})]})]}),D.jsxs("section",{className:"bg-white rounded-[3.5rem] p-10 md:p-14 shadow-2xl border border-slate-50 group",children:[D.jsxs("h2",{className:"text-2xl font-black text-slate-800 flex items-center gap-4 mb-12",children:[D.jsx(ew,{className:"text-slate-300 w-9 h-9 group-hover:rotate-[-45deg] transition-transform duration-500"}),"  "]}),D.jsx("div",{className:"space-y-8 max-h-[40rem] overflow-y-auto px-4 custom-scrollbar",children:t.history.length>0?t.history.map((w,N)=>D.jsxs("div",{className:"flex items-center justify-between p-7 bg-slate-50 rounded-[2.2rem] border-2 border-slate-100 group/item hover:bg-white hover:border-blue-200 transition-all duration-300 shadow-sm",children:[D.jsxs("div",{className:"text-right space-y-1",children:[D.jsx("p",{className:"font-black text-slate-800 text-xl",children:w.action}),D.jsx("p",{className:"text-sm text-slate-400 font-bold",children:w.details})]}),D.jsx("div",{className:"text-left",children:D.jsx("div",{className:"bg-blue-50 text-blue-600 px-4 py-2 rounded-2xl text-sm font-black border border-blue-100",children:w.timestamp})})]},N)):D.jsxs("div",{className:"py-20 text-center space-y-4",children:[D.jsx("div",{className:"bg-slate-50 w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:D.jsx(wl,{className:"text-slate-200 w-12 h-12"})}),D.jsx("p",{className:"text-slate-300 font-black text-2xl",children:"     "}),D.jsx("p",{className:"text-slate-200 font-bold",children:"    "})]})})]})]})]}),D.jsxs("footer",{className:"fixed bottom-10 left-1/2 -translate-x-1/2 w-[92%] max-w-3xl bg-white/95 backdrop-blur-3xl border-3 border-slate-200/50 p-6 rounded-[4rem] shadow-[0_25px_50px_-12px_rgba(0,0,0,0.15)] z-[100] flex justify-around items-center transition-transform hover:scale-[1.01]",children:[D.jsx(Fc,{onClick:()=>d(!0),icon:D.jsx(P_,{className:"w-8 h-8"}),label:"",color:"text-slate-500 hover:text-blue-600"}),D.jsx(Fc,{onClick:()=>wD(),icon:D.jsx(uw,{className:"w-8 h-8"}),label:"",color:"text-red-500 hover:bg-red-50"}),D.jsx("div",{className:"h-14 w-px bg-slate-200 mx-4"}),t.caregiverMode?D.jsx(Fc,{onClick:()=>e(w=>({...w,caregiverMode:!1,caregiverTargetId:null})),icon:D.jsx(KI,{className:"w-8 h-8"}),label:" ",color:"text-purple-600 hover:bg-purple-50"}):D.jsx(Fc,{onClick:()=>{confirm("       ")&&window.location.reload()},icon:D.jsx(V_,{className:"w-8 h-8"}),label:" ",color:"text-green-600 hover:bg-green-50"})]})]})},Bc=({icon:t,label:e,value:n})=>D.jsxs("div",{className:"bg-white p-7 rounded-[2.5rem] border-2 border-slate-100 shadow-xl flex flex-col items-center justify-center text-center transform transition-all duration-500 hover:scale-105 hover:shadow-blue-100/50",children:[D.jsx("div",{className:"mb-4 scale-125 filter drop-shadow-md",children:t}),D.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-2",children:e}),D.jsx("p",{className:"text-lg font-black text-slate-900 truncate w-full",children:n})]}),pp=({title:t,items:e,icon:n,variant:o="normal"})=>D.jsxs("div",{className:`p-10 rounded-[3rem] border-3 transition-all duration-500 ${o==="danger"?"bg-red-500/10 border-red-500/30":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[D.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[D.jsx("div",{className:"bg-white/10 p-3 rounded-2xl shadow-inner",children:n}),D.jsx("h4",{className:"font-black text-2xl tracking-tight",children:t})]}),D.jsx("ul",{className:"space-y-6",children:e.map((r,l)=>D.jsxs("li",{className:"text-xl opacity-90 leading-relaxed font-medium flex gap-5 group/li",children:[D.jsx("span",{className:"text-blue-400 group-hover/li:scale-125 transition-transform",children:""}),D.jsx("span",{children:r})]},l))})]}),Fc=({onClick:t,icon:e,label:n,color:o})=>D.jsxs("button",{onClick:t,className:`flex flex-col items-center gap-2 p-4 px-10 rounded-[2.5rem] transition-all duration-300 group active:scale-90 ${o}`,children:[D.jsx("div",{className:"group-hover:scale-125 transition-transform duration-300 group-hover:rotate-3",children:e}),D.jsx("span",{className:"text-xs font-black uppercase tracking-widest",children:n})]}),jC=document.getElementById("root");if(!jC)throw new Error("Could not find root element to mount to");const l3=BI.createRoot(jC);l3.render(D.jsx(HE.StrictMode,{children:D.jsx(a3,{})}));
